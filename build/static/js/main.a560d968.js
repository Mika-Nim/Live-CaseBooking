/*! For license information please see main.a560d968.js.LICENSE.txt */
(()=>{"use strict";var e={49:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,f(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,N={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var a,s={},o=null,i=null;if(null!=t)for(a in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,a)&&!j.hasOwnProperty(a)&&(s[a]=t[a]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===s[a]&&(s[a]=l[a]);return{$$typeof:n,type:e,key:o,ref:i,props:s,_owner:N.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var D=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function I(e,t,a,s,o){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l=!1;if(null===e)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+E(l,0):s,w(o)?(a="",null!=e&&(a=e.replace(D,"$&/")+"/"),I(o,t,a,"",function(e){return e})):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,a+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(D,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var d=s+E(i=e[c],c);l+=I(i,t,a,d,o)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(i=e.next()).done;)l+=I(i=i.value,t,a,d=s+E(i,c++),o);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],a=0;return I(e,r,"","",function(e){return t.call(n,e,a++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},T={transition:null},_={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:T,ReactCurrentOwner:N};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=a,t.Profiler=o,t.PureComponent=b,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=f({},e.props),s=e.key,o=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,i=N.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!j.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];a.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:a,_owner:i}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=T.transition;T.transition={};try{e()}finally{T.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.3.1"},119:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(345)},340:(e,t,n)=>{e.exports=n(761)},345:(e,t,n)=>{var r=n(950),a=n(340);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,i={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)o.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},h={};function f(e,t,n,r,a,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!u.call(h,e)||!u.call(m,e)&&(p.test(e)?h[e]=!0:(m[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),D=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var T=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var _=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=_&&e[_]||e["@@iterator"])?e:null}var R,L=Object.assign;function F(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var B=!1;function H(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),s=r.stack.split("\n"),o=a.length-1,i=s.length-1;1<=o&&0<=i&&a[o]!==s[i];)i--;for(;1<=o&&0<=i;o--,i--)if(a[o]!==s[i]){if(1!==o||1!==i)do{if(o--,0>--i||a[o]!==s[i]){var l="\n"+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=i);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 1:return e=H(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case S:return"Portal";case k:return"Profiler";case j:return"StrictMode";case I:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case D:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function Y(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?te(e,t.type,n):t.hasOwnProperty("defaultValue")&&te(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ee(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function te(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ne=Array.isArray;function re(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(ne(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var de,ue,pe=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((de=de||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=de.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(he).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,je=null,ke=null;function Ce(e){if(e=xa(e)){if("function"!==typeof Ne)throw Error(s(280));var t=e.stateNode;t&&(t=Sa(t),Ne(e.stateNode,e.type,t))}}function De(e){je?ke?ke.push(e):ke=[e]:je=e}function Ee(){if(je){var e=je,t=ke;if(ke=je=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ie(e,t){return e(t)}function Pe(){}var Ae=!1;function Oe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ie(e,t,n)}finally{Ae=!1,(null!==je||null!==ke)&&(Pe(),Ee())}}function Te(e,t){var n=e.stateNode;if(null===n)return null;var r=Sa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var _e=!1;if(d)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){_e=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(ue){_e=!1}function Re(e,t,n,r,a,s,o,i,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Le=!1,Fe=null,Be=!1,He=null,ze={onError:function(e){Le=!0,Fe=e}};function Ue(e,t,n,r,a,s,o,i,l){Le=!1,Fe=null,Re.apply(ze,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(Ye(e)!==e)throw Error(s(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return Ve(a),e;if(o===r)return Ve(a),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=o;else{for(var i=!1,l=a.child;l;){if(l===n){i=!0,n=a,r=o;break}if(l===r){i=!0,r=a,n=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===n){i=!0,n=o,r=a;break}if(l===r){i=!0,r=o,n=a;break}l=l.sibling}if(!i)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Qe(e):null}function Qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Qe(e);if(null!==t)return t;e=e.sibling}return null}var Ke=a.unstable_scheduleCallback,Je=a.unstable_cancelCallback,Ge=a.unstable_shouldYield,$e=a.unstable_requestPaint,Xe=a.unstable_now,Ze=a.unstable_getCurrentPriorityLevel,et=a.unstable_ImmediatePriority,tt=a.unstable_UserBlockingPriority,nt=a.unstable_NormalPriority,rt=a.unstable_LowPriority,at=a.unstable_IdlePriority,st=null,ot=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(lt(e)/ct|0)|0},lt=Math.log,ct=Math.LN2;var dt=64,ut=4194304;function pt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var i=o&~a;0!==i?r=pt(i):0!==(s&=o)&&(r=pt(s))}else 0!==(o=n&~a)?r=pt(o):0!==s&&(r=pt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-it(t)),r|=e[n],t&=~a;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=dt;return 0===(4194240&(dt<<=1))&&(dt=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var xt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var St,Nt,jt,kt,Ct,Dt=!1,Et=[],It=null,Pt=null,At=null,Ot=new Map,Tt=new Map,_t=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function Lt(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=xa(t))&&Nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Ft(e){var t=ba(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void Ct(e.priority,function(){jt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xa(n))&&Nt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ht(e,t,n){Bt(e)&&n.delete(t)}function zt(){Dt=!1,null!==It&&Bt(It)&&(It=null),null!==Pt&&Bt(Pt)&&(Pt=null),null!==At&&Bt(At)&&(At=null),Ot.forEach(Ht),Tt.forEach(Ht)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Dt||(Dt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,zt)))}function Yt(e){function t(t){return Ut(t,e)}if(0<Et.length){Ut(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Ut(It,e),null!==Pt&&Ut(Pt,e),null!==At&&Ut(At,e),Ot.forEach(t),Tt.forEach(t),n=0;n<_t.length;n++)(r=_t[n]).blockedOn===e&&(r.blockedOn=null);for(;0<_t.length&&null===(n=_t[0]).blockedOn;)Ft(n),null===n.blockedOn&&_t.shift()}var Wt=x.ReactCurrentBatchConfig,Vt=!0;function qt(e,t,n,r){var a=xt,s=Wt.transition;Wt.transition=null;try{xt=1,Kt(e,t,n,r)}finally{xt=a,Wt.transition=s}}function Qt(e,t,n,r){var a=xt,s=Wt.transition;Wt.transition=null;try{xt=4,Kt(e,t,n,r)}finally{xt=a,Wt.transition=s}}function Kt(e,t,n,r){if(Vt){var a=Gt(e,t,n,r);if(null===a)Vr(e,t,r,Jt,n),Rt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return It=Lt(It,e,t,n,r,a),!0;case"dragenter":return Pt=Lt(Pt,e,t,n,r,a),!0;case"mouseover":return At=Lt(At,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return Ot.set(s,Lt(Ot.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,Tt.set(s,Lt(Tt.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<Mt.indexOf(e)){for(;null!==a;){var s=xa(a);if(null!==s&&St(s),null===(s=Gt(e,t,n,r))&&Vr(e,t,r,Jt,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var Jt=null;function Gt(e,t,n,r){if(Jt=null,null!==(e=ba(e=Se(r))))if(null===(t=Ye(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case et:return 1;case tt:return 4;case nt:case rt:return 16;case at:return 536870912;default:return 16}default:return 16}}var Xt=null,Zt=null,en=null;function tn(){if(en)return en;var e,t,n=Zt,r=n.length,a="value"in Xt?Xt.value:Xt.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[s-t];t++);return en=a.slice(e,1<t?1-t:void 0)}function nn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rn(){return!0}function an(){return!1}function sn(e){function t(t,n,r,a,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?rn:an,this.isPropagationStopped=an,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rn)},persist:function(){},isPersistent:rn}),t}var on,ln,cn,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(dn),pn=L({},dn,{view:0,detail:0}),mn=sn(pn),hn=L({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(on=e.screenX-cn.screenX,ln=e.screenY-cn.screenY):ln=on=0,cn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),fn=sn(hn),gn=sn(L({},hn,{dataTransfer:0})),vn=sn(L({},pn,{relatedTarget:0})),yn=sn(L({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=L({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=sn(bn),wn=sn(L({},dn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jn[e])&&!!t[e]}function Cn(){return kn}var Dn=L({},pn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=nn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Nn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?nn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?nn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=sn(Dn),In=sn(L({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=sn(L({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),An=sn(L({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=L({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tn=sn(On),_n=[9,13,27,32],Mn=d&&"CompositionEvent"in window,Rn=null;d&&"documentMode"in document&&(Rn=document.documentMode);var Ln=d&&"TextEvent"in window&&!Rn,Fn=d&&(!Mn||Rn&&8<Rn&&11>=Rn),Bn=String.fromCharCode(32),Hn=!1;function zn(e,t){switch(e){case"keyup":return-1!==_n.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Yn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function qn(e,t,n,r){De(r),0<(t=Qr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,Kn=null;function Jn(e){Br(e,0)}function Gn(e){if(Q(wa(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(d){var Zn;if(d){var er="oninput"in document;if(!er){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),er="function"===typeof tr.oninput}Zn=er}else Zn=!1;Xn=Zn&&(!document.documentMode||9<document.documentMode)}function nr(){Qn&&(Qn.detachEvent("onpropertychange",rr),Kn=Qn=null)}function rr(e){if("value"===e.propertyName&&Gn(Kn)){var t=[];qn(t,Kn,e,Se(e)),Oe(Jn,t)}}function ar(e,t,n){"focusin"===e?(nr(),Kn=n,(Qn=t).attachEvent("onpropertychange",rr)):"focusout"===e&&nr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Kn)}function or(e,t){if("click"===e)return Gn(t)}function ir(e,t){if("input"===e||"change"===e)return Gn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!u.call(t,a)||!lr(e[a],t[a]))return!1}return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function pr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=mr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&pr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,s=Math.min(r.start,a);r=void 0===r.end?s:Math.min(r.end,a),!e.extend&&s>r&&(a=r,r=s,s=a),a=ur(n,s);var o=ur(n,r);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=d&&"documentMode"in document&&11>=document.documentMode,vr=null,yr=null,br=null,xr=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==vr||vr!==J(r)||("selectionStart"in(r=vr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&cr(br,r)||(br=r,0<(r=Qr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function Sr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Nr={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionend:Sr("Transition","TransitionEnd")},jr={},kr={};function Cr(e){if(jr[e])return jr[e];if(!Nr[e])return e;var t,n=Nr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return jr[e]=n[t];return e}d&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),"TransitionEvent"in window||delete Nr.transitionend.transition);var Dr=Cr("animationend"),Er=Cr("animationiteration"),Ir=Cr("animationstart"),Pr=Cr("transitionend"),Ar=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(e,t){Ar.set(e,t),l(t,[e])}for(var _r=0;_r<Or.length;_r++){var Mr=Or[_r];Tr(Mr.toLowerCase(),"on"+(Mr[0].toUpperCase()+Mr.slice(1)))}Tr(Dr,"onAnimationEnd"),Tr(Er,"onAnimationIteration"),Tr(Ir,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(Pr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,o,i,l,c){if(Ue.apply(this,arguments),Le){if(!Le)throw Error(s(198));var d=Fe;Le=!1,Fe=null,Be||(Be=!0,He=d)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var i=r[o],l=i.instance,c=i.currentTarget;if(i=i.listener,l!==s&&a.isPropagationStopped())break e;Fr(a,i,c),s=l}else for(o=0;o<r.length;o++){if(l=(i=r[o]).instance,c=i.currentTarget,i=i.listener,l!==s&&a.isPropagationStopped())break e;Fr(a,i,c),s=l}}}if(Be)throw e=He,Be=!1,He=null,e}function Hr(e,t){var n=t[ga];void 0===n&&(n=t[ga]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Yr(e){if(!e[Ur]){e[Ur]=!0,o.forEach(function(t){"selectionchange"!==t&&(Lr.has(t)||zr(t,!1,e),zr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,zr("selectionchange",!1,t))}}function Wr(e,t,n,r){switch($t(t)){case 1:var a=qt;break;case 4:a=Qt;break;default:a=Kt}n=a.bind(null,t,n,e),a=void 0,!_e||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,a){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var i=r.stateNode.containerInfo;if(i===a||8===i.nodeType&&i.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;o=o.return}for(;null!==i;){if(null===(o=ba(i)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}i=i.parentNode}}r=r.return}Oe(function(){var r=s,a=Se(n),o=[];e:{var i=Ar.get(e);if(void 0!==i){var l=un,c=e;switch(e){case"keypress":if(0===nn(n))break e;case"keydown":case"keyup":l=En;break;case"focusin":c="focus",l=vn;break;case"focusout":c="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case Dr:case Er:case Ir:l=yn;break;case Pr:l=An;break;case"scroll":l=mn;break;case"wheel":l=Tn;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var d=0!==(4&t),u=!d&&"scroll"===e,p=d?null!==i?i+"Capture":null:i;d=[];for(var m,h=r;null!==h;){var f=(m=h).stateNode;if(5===m.tag&&null!==f&&(m=f,null!==p&&(null!=(f=Te(h,p))&&d.push(qr(h,f,m)))),u)break;h=h.return}0<d.length&&(i=new l(i,c,null,n,a),o.push({event:i,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!ba(c)&&!c[fa])&&(l||i)&&(i=a.window===a?a:(i=a.ownerDocument)?i.defaultView||i.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ba(c):null)&&(c!==(u=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(d=fn,f="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(d=In,f="onPointerLeave",p="onPointerEnter",h="pointer"),u=null==l?i:wa(l),m=null==c?i:wa(c),(i=new d(f,h+"leave",l,n,a)).target=u,i.relatedTarget=m,f=null,ba(a)===r&&((d=new d(p,h+"enter",c,n,a)).target=m,d.relatedTarget=u,f=d),u=f,l&&c)e:{for(p=c,h=0,m=d=l;m;m=Kr(m))h++;for(m=0,f=p;f;f=Kr(f))m++;for(;0<h-m;)d=Kr(d),h--;for(;0<m-h;)p=Kr(p),m--;for(;h--;){if(d===p||null!==p&&d===p.alternate)break e;d=Kr(d),p=Kr(p)}d=null}else d=null;null!==l&&Jr(o,i,l,d,!1),null!==c&&null!==u&&Jr(o,u,c,d,!0)}if("select"===(l=(i=r?wa(r):window).nodeName&&i.nodeName.toLowerCase())||"input"===l&&"file"===i.type)var g=$n;else if(Vn(i))if(Xn)g=ir;else{g=sr;var v=ar}else(l=i.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(g=or);switch(g&&(g=g(e,r))?qn(o,g,n,a):(v&&v(e,i,r),"focusout"===e&&(v=i._wrapperState)&&v.controlled&&"number"===i.type&&te(i,"number",i.value)),v=r?wa(r):window,e){case"focusin":(Vn(v)||"true"===v.contentEditable)&&(vr=v,yr=r,br=null);break;case"focusout":br=yr=vr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,wr(o,n,a);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(o,n,a)}var y;if(Mn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Yn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Yn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Yn&&(y=tn()):(Zt="value"in(Xt=a)?Xt.value:Xt.textContent,Yn=!0)),0<(v=Qr(r,b)).length&&(b=new wn(b,e,null,n,a),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=Un(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Hn=!0,Bn);case"textInput":return(e=t.data)===Bn&&Hn?null:e;default:return null}}(e,n):function(e,t){if(Yn)return"compositionend"===e||!Mn&&zn(e,t)?(e=tn(),en=Zt=Xt=null,Yn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Qr(r,"onBeforeInput")).length&&(a=new wn("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:r}),a.data=y))}Br(o,t)})}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Te(e,n))&&r.unshift(qr(e,s,a)),null!=(s=Te(e,t))&&r.push(qr(e,s,a))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Jr(e,t,n,r,a){for(var s=t._reactName,o=[];null!==n&&n!==r;){var i=n,l=i.alternate,c=i.stateNode;if(null!==l&&l===r)break;5===i.tag&&null!==c&&(i=c,a?null!=(l=Te(n,s))&&o.unshift(qr(n,l,i)):a||null!=(l=Te(n,s))&&o.push(qr(n,l,i))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Gr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Gr,"\n").replace($r,"")}function Zr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(s(425))}function ea(){}var ta=null,na=null;function ra(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var aa="function"===typeof setTimeout?setTimeout:void 0,sa="function"===typeof clearTimeout?clearTimeout:void 0,oa="function"===typeof Promise?Promise:void 0,ia="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oa?function(e){return oa.resolve(null).then(e).catch(la)}:aa;function la(e){setTimeout(function(){throw e})}function ca(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Yt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Yt(t)}function da(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var pa=Math.random().toString(36).slice(2),ma="__reactFiber$"+pa,ha="__reactProps$"+pa,fa="__reactContainer$"+pa,ga="__reactEvents$"+pa,va="__reactListeners$"+pa,ya="__reactHandles$"+pa;function ba(e){var t=e[ma];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fa]||n[ma]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ua(e);null!==e;){if(n=e[ma])return n;e=ua(e)}return t}n=(e=n).parentNode}return null}function xa(e){return!(e=e[ma]||e[fa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Sa(e){return e[ha]||null}var Na=[],ja=-1;function ka(e){return{current:e}}function Ca(e){0>ja||(e.current=Na[ja],Na[ja]=null,ja--)}function Da(e,t){ja++,Na[ja]=e.current,e.current=t}var Ea={},Ia=ka(Ea),Pa=ka(!1),Aa=Ea;function Oa(e,t){var n=e.type.contextTypes;if(!n)return Ea;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in n)s[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ta(e){return null!==(e=e.childContextTypes)&&void 0!==e}function _a(){Ca(Pa),Ca(Ia)}function Ma(e,t,n){if(Ia.current!==Ea)throw Error(s(168));Da(Ia,t),Da(Pa,n)}function Ra(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(s(108,Y(e)||"Unknown",a));return L({},n,r)}function La(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ea,Aa=Ia.current,Da(Ia,e),Da(Pa,Pa.current),!0}function Fa(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Ra(e,t,Aa),r.__reactInternalMemoizedMergedChildContext=e,Ca(Pa),Ca(Ia),Da(Ia,e)):Ca(Pa),Da(Pa,n)}var Ba=null,Ha=!1,za=!1;function Ua(e){null===Ba?Ba=[e]:Ba.push(e)}function Ya(){if(!za&&null!==Ba){za=!0;var e=0,t=xt;try{var n=Ba;for(xt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ba=null,Ha=!1}catch(a){throw null!==Ba&&(Ba=Ba.slice(e+1)),Ke(et,Ya),a}finally{xt=t,za=!1}}return null}var Wa=[],Va=0,qa=null,Qa=0,Ka=[],Ja=0,Ga=null,$a=1,Xa="";function Za(e,t){Wa[Va++]=Qa,Wa[Va++]=qa,qa=e,Qa=t}function es(e,t,n){Ka[Ja++]=$a,Ka[Ja++]=Xa,Ka[Ja++]=Ga,Ga=e;var r=$a;e=Xa;var a=32-it(r)-1;r&=~(1<<a),n+=1;var s=32-it(t)+a;if(30<s){var o=a-a%5;s=(r&(1<<o)-1).toString(32),r>>=o,a-=o,$a=1<<32-it(t)+a|n<<a|r,Xa=s+e}else $a=1<<s|n<<a|r,Xa=e}function ts(e){null!==e.return&&(Za(e,1),es(e,1,0))}function ns(e){for(;e===qa;)qa=Wa[--Va],Wa[Va]=null,Qa=Wa[--Va],Wa[Va]=null;for(;e===Ga;)Ga=Ka[--Ja],Ka[Ja]=null,Xa=Ka[--Ja],Ka[Ja]=null,$a=Ka[--Ja],Ka[Ja]=null}var rs=null,as=null,ss=!1,os=null;function is(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ls(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,rs=e,as=da(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,rs=e,as=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ga?{id:$a,overflow:Xa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,rs=e,as=null,!0);default:return!1}}function cs(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ds(e){if(ss){var t=as;if(t){var n=t;if(!ls(e,t)){if(cs(e))throw Error(s(418));t=da(n.nextSibling);var r=rs;t&&ls(e,t)?is(r,n):(e.flags=-4097&e.flags|2,ss=!1,rs=e)}}else{if(cs(e))throw Error(s(418));e.flags=-4097&e.flags|2,ss=!1,rs=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;rs=e}function ps(e){if(e!==rs)return!1;if(!ss)return us(e),ss=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ra(e.type,e.memoizedProps)),t&&(t=as)){if(cs(e))throw ms(),Error(s(418));for(;t;)is(e,t),t=da(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){as=da(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}as=null}}else as=rs?da(e.stateNode.nextSibling):null;return!0}function ms(){for(var e=as;e;)e=da(e.nextSibling)}function hs(){as=rs=null,ss=!1}function fs(e){null===os?os=[e]:os.push(e)}var gs=x.ReactCurrentBatchConfig;function vs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var a=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bs(e){return(0,e._init)(e._payload)}function xs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=_c(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===N?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===O&&bs(s)===t.type)?((r=a(t,n.props)).ref=vs(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=vs(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function u(e,t,n,r,s){return null===t||7!==t.tag?((t=Rc(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=vs(e,null,t),n.return=e,n;case S:return(t=Bc(t,e.mode,n)).return=e,t;case O:return p(e,(0,t._init)(t._payload),n)}if(ne(t)||M(t))return(t=Rc(t,e.mode,n,null)).return=e,t;ys(e,t)}return null}function m(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?c(e,t,n,r):null;case S:return n.key===a?d(e,t,n,r):null;case O:return m(e,t,(a=n._init)(n._payload),r)}if(ne(n)||M(n))return null!==a?null:u(e,t,n,r,null);ys(e,n)}return null}function h(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case S:return d(t,e=e.get(null===r.key?n:r.key)||null,r,a);case O:return h(e,t,n,(0,r._init)(r._payload),a)}if(ne(r)||M(r))return u(t,e=e.get(n)||null,r,a,null);ys(t,r)}return null}function f(a,s,i,l){for(var c=null,d=null,u=s,f=s=0,g=null;null!==u&&f<i.length;f++){u.index>f?(g=u,u=null):g=u.sibling;var v=m(a,u,i[f],l);if(null===v){null===u&&(u=g);break}e&&u&&null===v.alternate&&t(a,u),s=o(v,s,f),null===d?c=v:d.sibling=v,d=v,u=g}if(f===i.length)return n(a,u),ss&&Za(a,f),c;if(null===u){for(;f<i.length;f++)null!==(u=p(a,i[f],l))&&(s=o(u,s,f),null===d?c=u:d.sibling=u,d=u);return ss&&Za(a,f),c}for(u=r(a,u);f<i.length;f++)null!==(g=h(u,a,f,i[f],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?f:g.key),s=o(g,s,f),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach(function(e){return t(a,e)}),ss&&Za(a,f),c}function g(a,i,l,c){var d=M(l);if("function"!==typeof d)throw Error(s(150));if(null==(l=d.call(l)))throw Error(s(151));for(var u=d=null,f=i,g=i=0,v=null,y=l.next();null!==f&&!y.done;g++,y=l.next()){f.index>g?(v=f,f=null):v=f.sibling;var b=m(a,f,y.value,c);if(null===b){null===f&&(f=v);break}e&&f&&null===b.alternate&&t(a,f),i=o(b,i,g),null===u?d=b:u.sibling=b,u=b,f=v}if(y.done)return n(a,f),ss&&Za(a,g),d;if(null===f){for(;!y.done;g++,y=l.next())null!==(y=p(a,y.value,c))&&(i=o(y,i,g),null===u?d=y:u.sibling=y,u=y);return ss&&Za(a,g),d}for(f=r(a,f);!y.done;g++,y=l.next())null!==(y=h(f,a,g,y.value,c))&&(e&&null!==y.alternate&&f.delete(null===y.key?g:y.key),i=o(y,i,g),null===u?d=y:u.sibling=y,u=y);return e&&f.forEach(function(e){return t(a,e)}),ss&&Za(a,g),d}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===N&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,d=s;null!==d;){if(d.key===c){if((c=o.type)===N){if(7===d.tag){n(r,d.sibling),(s=a(d,o.props.children)).return=r,r=s;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&bs(c)===d.type){n(r,d.sibling),(s=a(d,o.props)).ref=vs(r,d,o),s.return=r,r=s;break e}n(r,d);break}t(r,d),d=d.sibling}o.type===N?((s=Rc(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Mc(o.type,o.key,o.props,null,r.mode,l)).ref=vs(r,s,o),l.return=r,r=l)}return i(r);case S:e:{for(d=o.key;null!==s;){if(s.key===d){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=a(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Bc(o,r.mode,l)).return=r,r=s}return i(r);case O:return e(r,s,(d=o._init)(o._payload),l)}if(ne(o))return f(r,s,o,l);if(M(o))return g(r,s,o,l);ys(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=a(s,o)).return=r,r=s):(n(r,s),(s=Fc(o,r.mode,l)).return=r,r=s),i(r)):n(r,s)}}var ws=xs(!0),Ss=xs(!1),Ns=ka(null),js=null,ks=null,Cs=null;function Ds(){Cs=ks=js=null}function Es(e){var t=Ns.current;Ca(Ns),e._currentValue=t}function Is(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ps(e,t){js=e,Cs=ks=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xi=!0),e.firstContext=null)}function As(e){var t=e._currentValue;if(Cs!==e)if(e={context:e,memoizedValue:t,next:null},null===ks){if(null===js)throw Error(s(308));ks=e,js.dependencies={lanes:0,firstContext:e}}else ks=ks.next=e;return t}var Os=null;function Ts(e){null===Os?Os=[e]:Os.push(e)}function _s(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Ts(t)):(n.next=a.next,a.next=n),t.interleaved=n,Ms(e,r)}function Ms(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Rs=!1;function Ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Hs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Il)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Ms(e,n)}return null===(a=r.interleaved)?(t.next=t,Ts(r)):(t.next=a.next,a.next=t),r.interleaved=t,Ms(e,n)}function zs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function Us(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?a=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ys(e,t,n,r){var a=e.updateQueue;Rs=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,i=a.shared.pending;if(null!==i){a.shared.pending=null;var l=i,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==o&&(null===i?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=l))}if(null!==s){var u=a.baseState;for(o=0,d=c=l=null,i=s;;){var p=i.lane,m=i.eventTime;if((r&p)===p){null!==d&&(d=d.next={eventTime:m,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var h=e,f=i;switch(p=t,m=n,f.tag){case 1:if("function"===typeof(h=f.payload)){u=h.call(m,u,p);break e}u=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(p="function"===typeof(h=f.payload)?h.call(m,u,p):h)||void 0===p)break e;u=L({},u,p);break e;case 2:Rs=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(p=a.effects)?a.effects=[i]:p.push(i))}else m={eventTime:m,lane:p,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=m,l=u):d=d.next=m,o|=p;if(null===(i=i.next)){if(null===(i=a.shared.pending))break;i=(p=i).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}if(null===d&&(l=u),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Ll|=o,e.lanes=o,e.memoizedState=u}}function Ws(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(s(191,a));a.call(r)}}}var Vs={},qs=ka(Vs),Qs=ka(Vs),Ks=ka(Vs);function Js(e){if(e===Vs)throw Error(s(174));return e}function Gs(e,t){switch(Da(Ks,t),Da(Qs,e),Da(qs,Vs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ca(qs),Da(qs,t)}function $s(){Ca(qs),Ca(Qs),Ca(Ks)}function Xs(e){Js(Ks.current);var t=Js(qs.current),n=ce(t,e.type);t!==n&&(Da(Qs,e),Da(qs,n))}function Zs(e){Qs.current===e&&(Ca(qs),Ca(Qs))}var eo=ka(0);function to(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var no=[];function ro(){for(var e=0;e<no.length;e++)no[e]._workInProgressVersionPrimary=null;no.length=0}var ao=x.ReactCurrentDispatcher,so=x.ReactCurrentBatchConfig,oo=0,io=null,lo=null,co=null,uo=!1,po=!1,mo=0,ho=0;function fo(){throw Error(s(321))}function go(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function vo(e,t,n,r,a,o){if(oo=o,io=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ao.current=null===e||null===e.memoizedState?ei:ti,e=n(r,a),po){o=0;do{if(po=!1,mo=0,25<=o)throw Error(s(301));o+=1,co=lo=null,t.updateQueue=null,ao.current=ni,e=n(r,a)}while(po)}if(ao.current=Zo,t=null!==lo&&null!==lo.next,oo=0,co=lo=io=null,uo=!1,t)throw Error(s(300));return e}function yo(){var e=0!==mo;return mo=0,e}function bo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===co?io.memoizedState=co=e:co=co.next=e,co}function xo(){if(null===lo){var e=io.alternate;e=null!==e?e.memoizedState:null}else e=lo.next;var t=null===co?io.memoizedState:co.next;if(null!==t)co=t,lo=e;else{if(null===e)throw Error(s(310));e={memoizedState:(lo=e).memoizedState,baseState:lo.baseState,baseQueue:lo.baseQueue,queue:lo.queue,next:null},null===co?io.memoizedState=co=e:co=co.next=e}return co}function wo(e,t){return"function"===typeof t?t(e):t}function So(e){var t=xo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=lo,a=r.baseQueue,o=n.pending;if(null!==o){if(null!==a){var i=a.next;a.next=o.next,o.next=i}r.baseQueue=a=o,n.pending=null}if(null!==a){o=a.next,r=r.baseState;var l=i=null,c=null,d=o;do{var u=d.lane;if((oo&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var p={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=p,i=r):c=c.next=p,io.lanes|=u,Ll|=u}d=d.next}while(null!==d&&d!==o);null===c?i=r:c.next=l,lr(r,t.memoizedState)||(xi=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{o=a.lane,io.lanes|=o,Ll|=o,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=xo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var i=a=a.next;do{o=e(o,i.action),i=i.next}while(i!==a);lr(o,t.memoizedState)||(xi=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function jo(){}function ko(e,t){var n=io,r=xo(),a=t(),o=!lr(r.memoizedState,a);if(o&&(r.memoizedState=a,xi=!0),r=r.queue,Lo(Eo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==co&&1&co.memoizedState.tag){if(n.flags|=2048,Oo(9,Do.bind(null,n,r,a,t),void 0,null),null===Pl)throw Error(s(349));0!==(30&oo)||Co(n,t,a)}return a}function Co(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=io.updateQueue)?(t={lastEffect:null,stores:null},io.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Io(t)&&Po(e)}function Eo(e,t,n){return n(function(){Io(t)&&Po(e)})}function Io(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch(r){return!0}}function Po(e){var t=Ms(e,1);null!==t&&rc(t,e,1,-1)}function Ao(e){var t=bo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Jo.bind(null,io,e),[t.memoizedState,e]}function Oo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=io.updateQueue)?(t={lastEffect:null,stores:null},io.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function To(){return xo().memoizedState}function _o(e,t,n,r){var a=bo();io.flags|=e,a.memoizedState=Oo(1|t,n,void 0,void 0===r?null:r)}function Mo(e,t,n,r){var a=xo();r=void 0===r?null:r;var s=void 0;if(null!==lo){var o=lo.memoizedState;if(s=o.destroy,null!==r&&go(r,o.deps))return void(a.memoizedState=Oo(t,n,s,r))}io.flags|=e,a.memoizedState=Oo(1|t,n,s,r)}function Ro(e,t){return _o(8390656,8,e,t)}function Lo(e,t){return Mo(2048,8,e,t)}function Fo(e,t){return Mo(4,2,e,t)}function Bo(e,t){return Mo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mo(4,4,Ho.bind(null,t,e),n)}function Uo(){}function Yo(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&go(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wo(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&go(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Vo(e,t,n){return 0===(21&oo)?(e.baseState&&(e.baseState=!1,xi=!0),e.memoizedState=n):(lr(n,t)||(n=gt(),io.lanes|=n,Ll|=n,e.baseState=!0),t)}function qo(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var r=so.transition;so.transition={};try{e(!1),t()}finally{xt=n,so.transition=r}}function Qo(){return xo().memoizedState}function Ko(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Go(e))$o(t,n);else if(null!==(n=_s(e,t,n,r))){rc(n,e,r,tc()),Xo(n,t,r)}}function Jo(e,t,n){var r=nc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Go(e))$o(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,i=s(o,n);if(a.hasEagerState=!0,a.eagerState=i,lr(i,o)){var l=t.interleaved;return null===l?(a.next=a,Ts(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=_s(e,t,a,r))&&(rc(n,e,r,a=tc()),Xo(n,t,r))}}function Go(e){var t=e.alternate;return e===io||null!==t&&t===io}function $o(e,t){po=uo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var Zo={readContext:As,useCallback:fo,useContext:fo,useEffect:fo,useImperativeHandle:fo,useInsertionEffect:fo,useLayoutEffect:fo,useMemo:fo,useReducer:fo,useRef:fo,useState:fo,useDebugValue:fo,useDeferredValue:fo,useTransition:fo,useMutableSource:fo,useSyncExternalStore:fo,useId:fo,unstable_isNewReconciler:!1},ei={readContext:As,useCallback:function(e,t){return bo().memoizedState=[e,void 0===t?null:t],e},useContext:As,useEffect:Ro,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,_o(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _o(4194308,4,e,t)},useInsertionEffect:function(e,t){return _o(4,2,e,t)},useMemo:function(e,t){var n=bo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ko.bind(null,io,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},bo().memoizedState=e},useState:Ao,useDebugValue:Uo,useDeferredValue:function(e){return bo().memoizedState=e},useTransition:function(){var e=Ao(!1),t=e[0];return e=qo.bind(null,e[1]),bo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=io,a=bo();if(ss){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Pl)throw Error(s(349));0!==(30&oo)||Co(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Ro(Eo.bind(null,r,o,e),[e]),r.flags|=2048,Oo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=bo(),t=Pl.identifierPrefix;if(ss){var n=Xa;t=":"+t+"R"+(n=($a&~(1<<32-it($a)-1)).toString(32)+n),0<(n=mo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ho++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ti={readContext:As,useCallback:Yo,useContext:As,useEffect:Lo,useImperativeHandle:zo,useInsertionEffect:Fo,useLayoutEffect:Bo,useMemo:Wo,useReducer:So,useRef:To,useState:function(){return So(wo)},useDebugValue:Uo,useDeferredValue:function(e){return Vo(xo(),lo.memoizedState,e)},useTransition:function(){return[So(wo)[0],xo().memoizedState]},useMutableSource:jo,useSyncExternalStore:ko,useId:Qo,unstable_isNewReconciler:!1},ni={readContext:As,useCallback:Yo,useContext:As,useEffect:Lo,useImperativeHandle:zo,useInsertionEffect:Fo,useLayoutEffect:Bo,useMemo:Wo,useReducer:No,useRef:To,useState:function(){return No(wo)},useDebugValue:Uo,useDeferredValue:function(e){var t=xo();return null===lo?t.memoizedState=e:Vo(t,lo.memoizedState,e)},useTransition:function(){return[No(wo)[0],xo().memoizedState]},useMutableSource:jo,useSyncExternalStore:ko,useId:Qo,unstable_isNewReconciler:!1};function ri(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ai(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var si={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),a=nc(e),s=Bs(r,a);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Hs(e,s,a))&&(rc(t,e,a,r),zs(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),a=nc(e),s=Bs(r,a);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Hs(e,s,a))&&(rc(t,e,a,r),zs(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),a=Bs(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Hs(e,a,r))&&(rc(t,e,r,n),zs(t,e,r))}};function oi(e,t,n,r,a,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(a,s))}function ii(e,t,n){var r=!1,a=Ea,s=t.contextType;return"object"===typeof s&&null!==s?s=As(s):(a=Ta(t)?Aa:Ia.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oa(e,a):Ea),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=si,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function li(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&si.enqueueReplaceState(t,t.state,null)}function ci(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Ls(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=As(s):(s=Ta(t)?Aa:Ia.current,a.context=Oa(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ai(e,t,s,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&si.enqueueReplaceState(a,a.state,null),Ys(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function di(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var a=n}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a,digest:null}}function ui(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function pi(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var mi="function"===typeof WeakMap?WeakMap:Map;function hi(e,t,n){(n=Bs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vl||(Vl=!0,ql=r),pi(0,t)},n}function fi(e,t,n){(n=Bs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){pi(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){pi(0,t),"function"!==typeof r&&(null===Ql?Ql=new Set([this]):Ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gi(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new mi;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function vi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yi(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Bs(-1,1)).tag=2,Hs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var bi=x.ReactCurrentOwner,xi=!1;function wi(e,t,n,r){t.child=null===e?Ss(t,null,n,r):ws(t,e.child,n,r)}function Si(e,t,n,r,a){n=n.render;var s=t.ref;return Ps(t,a),r=vo(e,t,n,r,s,a),n=yo(),null===e||xi?(ss&&n&&ts(t),t.flags|=1,wi(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vi(e,t,a))}function Ni(e,t,n,r,a){if(null===e){var s=n.type;return"function"!==typeof s||Tc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,ji(e,t,s,r,a))}if(s=e.child,0===(e.lanes&a)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(o,r)&&e.ref===t.ref)return Vi(e,t,a)}return t.flags|=1,(e=_c(s,r)).ref=t.ref,e.return=t,t.child=e}function ji(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(cr(s,r)&&e.ref===t.ref){if(xi=!1,t.pendingProps=r=s,0===(e.lanes&a))return t.lanes=e.lanes,Vi(e,t,a);0!==(131072&e.flags)&&(xi=!0)}}return Di(e,t,n,r,a)}function ki(e,t,n){var r=t.pendingProps,a=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Da(_l,Tl),Tl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Da(_l,Tl),Tl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Da(_l,Tl),Tl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Da(_l,Tl),Tl|=r;return wi(e,t,a,n),t.child}function Ci(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Di(e,t,n,r,a){var s=Ta(n)?Aa:Ia.current;return s=Oa(t,s),Ps(t,a),n=vo(e,t,n,r,s,a),r=yo(),null===e||xi?(ss&&r&&ts(t),t.flags|=1,wi(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vi(e,t,a))}function Ei(e,t,n,r,a){if(Ta(n)){var s=!0;La(t)}else s=!1;if(Ps(t,a),null===t.stateNode)Wi(e,t),ii(t,n,r),ci(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,i=t.memoizedProps;o.props=i;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=As(c):c=Oa(t,c=Ta(n)?Aa:Ia.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate;u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==r||l!==c)&&li(t,o,r,c),Rs=!1;var p=t.memoizedState;o.state=p,Ys(t,r,o,a),l=t.memoizedState,i!==r||p!==l||Pa.current||Rs?("function"===typeof d&&(ai(t,n,d,r),l=t.memoizedState),(i=Rs||oi(t,n,i,r,p,l,c))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=i):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Fs(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ri(t.type,i),o.props=c,u=t.pendingProps,p=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=As(l):l=Oa(t,l=Ta(n)?Aa:Ia.current);var m=n.getDerivedStateFromProps;(d="function"===typeof m||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==u||p!==l)&&li(t,o,r,l),Rs=!1,p=t.memoizedState,o.state=p,Ys(t,r,o,a);var h=t.memoizedState;i!==u||p!==h||Pa.current||Rs?("function"===typeof m&&(ai(t,n,m,r),h=t.memoizedState),(c=Rs||oi(t,n,c,r,p,h,l)||!1)?(d||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Ii(e,t,n,r,s,a)}function Ii(e,t,n,r,a,s){Ci(e,t);var o=0!==(128&t.flags);if(!r&&!o)return a&&Fa(t,n,!1),Vi(e,t,s);r=t.stateNode,bi.current=t;var i=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,i,s)):wi(e,t,i,s),t.memoizedState=r.state,a&&Fa(t,n,!0),t.child}function Pi(e){var t=e.stateNode;t.pendingContext?Ma(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ma(0,t.context,!1),Gs(e,t.containerInfo)}function Ai(e,t,n,r,a){return hs(),fs(a),t.flags|=256,wi(e,t,n,r),t.child}var Oi,Ti,_i,Mi,Ri={dehydrated:null,treeContext:null,retryLane:0};function Li(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fi(e,t,n){var r,a=t.pendingProps,o=eo.current,i=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Da(eo,1&o),null===e)return ds(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,i?(a=t.mode,i=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==i?(i.childLanes=0,i.pendingProps=l):i=Lc(l,a,0,null),e=Rc(e,a,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Li(n),t.memoizedState=Ri,e):Bi(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,a,o,i){if(n)return 256&t.flags?(t.flags&=-257,Hi(e,t,i,r=ui(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=Lc({mode:"visible",children:r.children},a,0,null),(o=Rc(o,a,i,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&ws(t,e.child,null,i),t.child.memoizedState=Li(i),t.memoizedState=Ri,o);if(0===(1&t.mode))return Hi(e,t,i,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Hi(e,t,i,r=ui(o=Error(s(419)),r,void 0))}if(l=0!==(i&e.childLanes),xi||l){if(null!==(r=Pl)){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|i))?0:a)&&a!==o.retryLane&&(o.retryLane=a,Ms(e,a),rc(r,e,a,-1))}return gc(),Hi(e,t,i,r=ui(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,as=da(a.nextSibling),rs=t,ss=!0,os=null,null!==e&&(Ka[Ja++]=$a,Ka[Ja++]=Xa,Ka[Ja++]=Ga,$a=e.id,Xa=e.overflow,Ga=t),t=Bi(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,o,n);if(i){i=a.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==o?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=_c(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?i=_c(r,i):(i=Rc(i,l,n,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,l=null===(l=e.child.memoizedState)?Li(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=Ri,a}return e=(i=e.child).sibling,a=_c(i,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Bi(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Hi(e,t,n,r){return null!==r&&fs(r),ws(t,e.child,null,n),(e=Bi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zi(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Is(e.return,t,n)}function Ui(e,t,n,r,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function Yi(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(wi(e,t,r.children,n),0!==(2&(r=eo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zi(e,n,t);else if(19===e.tag)zi(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Da(eo,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===to(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Ui(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===to(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Ui(t,!0,n,null,s);break;case"together":Ui(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=_c(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=_c(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qi(e,t){if(!ss)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qi(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ki(e,t,n){var r=t.pendingProps;switch(ns(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qi(t),null;case 1:case 17:return Ta(t.type)&&_a(),Qi(t),null;case 3:return r=t.stateNode,$s(),Ca(Pa),Ca(Ia),ro(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ps(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==os&&(ic(os),os=null))),Ti(e,t),Qi(t),null;case 5:Zs(t);var a=Js(Ks.current);if(n=t.type,null!==e&&null!=t.stateNode)_i(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Qi(t),null}if(e=Js(qs.current),ps(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ma]=t,r[ha]=o,e=0!==(1&t.mode),n){case"dialog":Hr("cancel",r),Hr("close",r);break;case"iframe":case"object":case"embed":Hr("load",r);break;case"video":case"audio":for(a=0;a<Rr.length;a++)Hr(Rr[a],r);break;case"source":Hr("error",r);break;case"img":case"image":case"link":Hr("error",r),Hr("load",r);break;case"details":Hr("toggle",r);break;case"input":$(r,o),Hr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Hr("invalid",r);break;case"textarea":se(r,o),Hr("invalid",r)}for(var l in be(n,o),a=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),a=["children",""+c]):i.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Hr("scroll",r)}switch(n){case"input":q(r),ee(r,o,!0);break;case"textarea":q(r),ie(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=ea)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ma]=t,e[ha]=r,Oi(e,t,!1,!1),t.stateNode=e;e:{switch(l=xe(n,r),n){case"dialog":Hr("cancel",e),Hr("close",e),a=r;break;case"iframe":case"object":case"embed":Hr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Rr.length;a++)Hr(Rr[a],e);a=r;break;case"source":Hr("error",e),a=r;break;case"img":case"image":case"link":Hr("error",e),Hr("load",e),a=r;break;case"details":Hr("toggle",e),a=r;break;case"input":$(e,r),a=G(e,r),Hr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=L({},r,{value:void 0}),Hr("invalid",e);break;case"textarea":se(e,r),a=ae(e,r),Hr("invalid",e)}for(o in be(n,a),c=a)if(c.hasOwnProperty(o)){var d=c[o];"style"===o?ve(e,d):"dangerouslySetInnerHTML"===o?null!=(d=d?d.__html:void 0)&&pe(e,d):"children"===o?"string"===typeof d?("textarea"!==n||""!==d)&&me(e,d):"number"===typeof d&&me(e,""+d):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(i.hasOwnProperty(o)?null!=d&&"onScroll"===o&&Hr("scroll",e):null!=d&&b(e,o,d,l))}switch(n){case"input":q(e),ee(e,r,!1);break;case"textarea":q(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?re(e,!!r.multiple,o,!1):null!=r.defaultValue&&re(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=ea)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Qi(t),null;case 6:if(e&&null!=t.stateNode)Mi(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Js(Ks.current),Js(qs.current),ps(t)){if(r=t.stateNode,n=t.memoizedProps,r[ma]=t,(o=r.nodeValue!==n)&&null!==(e=rs))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ma]=t,t.stateNode=r}return Qi(t),null;case 13:if(Ca(eo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ss&&null!==as&&0!==(1&t.mode)&&0===(128&t.flags))ms(),hs(),t.flags|=98560,o=!1;else if(o=ps(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[ma]=t}else hs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Qi(t),o=!1}else null!==os&&(ic(os),os=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&eo.current)?0===Ml&&(Ml=3):gc())),null!==t.updateQueue&&(t.flags|=4),Qi(t),null);case 4:return $s(),Ti(e,t),null===e&&Yr(t.stateNode.containerInfo),Qi(t),null;case 10:return Es(t.type._context),Qi(t),null;case 19:if(Ca(eo),null===(o=t.memoizedState))return Qi(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)qi(o,!1);else{if(0!==Ml||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=to(e))){for(t.flags|=128,qi(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Da(eo,1&eo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Yl&&(t.flags|=128,r=!0,qi(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=to(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qi(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ss)return Qi(t),null}else 2*Xe()-o.renderingStartTime>Yl&&1073741824!==n&&(t.flags|=128,r=!0,qi(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=eo.current,Da(eo,r?1&n|2:1&n),t):(Qi(t),null);case 22:case 23:return pc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Tl)&&(Qi(t),6&t.subtreeFlags&&(t.flags|=8192)):Qi(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ji(e,t){switch(ns(t),t.tag){case 1:return Ta(t.type)&&_a(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $s(),Ca(Pa),Ca(Ia),ro(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zs(t),null;case 13:if(Ca(eo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));hs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ca(eo),null;case 4:return $s(),null;case 10:return Es(t.type._context),null;case 22:case 23:return pc(),null;default:return null}}Oi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ti=function(){},_i=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Js(qs.current);var s,o=null;switch(n){case"input":a=G(e,a),r=G(e,r),o=[];break;case"select":a=L({},a,{value:void 0}),r=L({},r,{value:void 0}),o=[];break;case"textarea":a=ae(e,a),r=ae(e,r),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=ea)}for(d in be(n,r),n=null,a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var l=a[d];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(i.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in r){var c=r[d];if(l=null!=a?a[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(i.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Hr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(d,c))}n&&(o=o||[]).push("style",n);var d=o;(t.updateQueue=d)&&(t.flags|=4)}},Mi=function(e,t,n,r){n!==r&&(t.flags|=4)};var Gi=!1,$i=!1,Xi="function"===typeof WeakSet?WeakSet:Set,Zi=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){kc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&tl(t,n,s)}a=a.next}while(a!==r)}}function al(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ma],delete t[ha],delete t[ga],delete t[va],delete t[ya])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ea));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function dl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(dl(e,t,n),e=e.sibling;null!==e;)dl(e,t,n),e=e.sibling}var ul=null,pl=!1;function ml(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(st,n)}catch(i){}switch(n.tag){case 5:$i||el(n,t);case 6:var r=ul,a=pl;ul=null,ml(e,t,n),pl=a,null!==(ul=r)&&(pl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(pl?(e=ul,n=n.stateNode,8===e.nodeType?ca(e.parentNode,n):1===e.nodeType&&ca(e,n),Yt(e)):ca(ul,n.stateNode));break;case 4:r=ul,a=pl,ul=n.stateNode.containerInfo,pl=!0,ml(e,t,n),ul=r,pl=a;break;case 0:case 11:case 14:case 15:if(!$i&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var s=a,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&tl(n,t,o),a=a.next}while(a!==r)}ml(e,t,n);break;case 1:if(!$i&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){kc(n,t,i)}ml(e,t,n);break;case 21:ml(e,t,n);break;case 22:1&n.mode?($i=(r=$i)||null!==n.memoizedState,ml(e,t,n),$i=r):ml(e,t,n);break;default:ml(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xi),t.forEach(function(t){var r=Ic.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var o=e,i=t,l=i;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,pl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,pl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));hl(o,i,a),ul=null,pl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(d){kc(a,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),al(3,e)}catch(g){kc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var a=e.stateNode;try{me(a,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var o=e.memoizedProps,i=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&X(a,o),xe(l,i);var d=xe(l,o);for(i=0;i<c.length;i+=2){var u=c[i],p=c[i+1];"style"===u?ve(a,p):"dangerouslySetInnerHTML"===u?pe(a,p):"children"===u?me(a,p):b(a,u,p,d)}switch(l){case"input":Z(a,o);break;case"textarea":oe(a,o);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var h=o.value;null!=h?re(a,!!o.multiple,h,!1):m!==!!o.multiple&&(null!=o.defaultValue?re(a,!!o.multiple,o.defaultValue,!0):re(a,!!o.multiple,o.multiple?[]:"",!1))}a[ha]=o}catch(g){kc(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(g){kc(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Yt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(Ul=Xe())),4&r&&fl(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?($i=(d=$i)||u,gl(t,e),$i=d):gl(t,e),yl(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Zi=e,u=e.child;null!==u;){for(p=Zi=u;null!==Zi;){switch(h=(m=Zi).child,m.tag){case 0:case 11:case 14:case 15:rl(4,m,m.return);break;case 1:el(m,m.return);var f=m.stateNode;if("function"===typeof f.componentWillUnmount){r=m,n=m.return;try{t=r,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:el(m,m.return);break;case 22:if(null!==m.memoizedState){Sl(p);continue}}null!==h?(h.return=m,Zi=h):Sl(p)}u=u.sibling}e:for(u=null,p=e;;){if(5===p.tag){if(null===u){u=p;try{a=p.stateNode,d?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=p.stateNode,i=void 0!==(c=p.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",i))}catch(g){kc(e,e.return,g)}}}else if(6===p.tag){if(null===u)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:gl(t,e),yl(e),4&r&&fl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(il(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(me(a,""),r.flags&=-33),dl(e,ll(e),a);break;case 3:case 4:var o=r.stateNode.containerInfo;cl(e,ll(e),o);break;default:throw Error(s(161))}}catch(i){kc(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Zi=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==Zi;){var a=Zi,s=a.child;if(22===a.tag&&r){var o=null!==a.memoizedState||Gi;if(!o){var i=a.alternate,l=null!==i&&null!==i.memoizedState||$i;i=Gi;var c=$i;if(Gi=o,($i=l)&&!c)for(Zi=a;null!==Zi;)l=(o=Zi).child,22===o.tag&&null!==o.memoizedState?Nl(a):null!==l?(l.return=o,Zi=l):Nl(a);for(;null!==s;)Zi=s,xl(s,t,n),s=s.sibling;Zi=a,Gi=i,$i=c}wl(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,Zi=s):wl(e)}}function wl(e){for(;null!==Zi;){var t=Zi;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$i||al(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$i)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ri(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ws(t,o,r);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ws(t,i,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var p=u.dehydrated;null!==p&&Yt(p)}}}break;default:throw Error(s(163))}$i||512&t.flags&&sl(t)}catch(K){kc(t,t.return,K)}}if(t===e){Zi=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zi=n;break}Zi=t.return}}function Sl(e){for(;null!==Zi;){var t=Zi;if(t===e){Zi=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zi=n;break}Zi=t.return}}function Nl(e){for(;null!==Zi;){var t=Zi;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{al(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){kc(t,a,l)}}var s=t.return;try{sl(t)}catch(l){kc(t,s,l)}break;case 5:var o=t.return;try{sl(t)}catch(l){kc(t,o,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Zi=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Zi=i;break}Zi=t.return}}var jl,kl=Math.ceil,Cl=x.ReactCurrentDispatcher,Dl=x.ReactCurrentOwner,El=x.ReactCurrentBatchConfig,Il=0,Pl=null,Al=null,Ol=0,Tl=0,_l=ka(0),Ml=0,Rl=null,Ll=0,Fl=0,Bl=0,Hl=null,zl=null,Ul=0,Yl=1/0,Wl=null,Vl=!1,ql=null,Ql=null,Kl=!1,Jl=null,Gl=0,$l=0,Xl=null,Zl=-1,ec=0;function tc(){return 0!==(6&Il)?Xe():-1!==Zl?Zl:Zl=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Il)&&0!==Ol?Ol&-Ol:null!==gs.transition?(0===ec&&(ec=gt()),ec):0!==(e=xt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<$l)throw $l=0,Xl=null,Error(s(185));yt(e,n,r),0!==(2&Il)&&e===Pl||(e===Pl&&(0===(2&Il)&&(Fl|=n),4===Ml&&lc(e,Ol)),ac(e,r),1===n&&0===Il&&0===(1&t.mode)&&(Yl=Xe()+500,Ha&&Ya()))}function ac(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-it(s),i=1<<o,l=a[o];-1===l?0!==(i&n)&&0===(i&r)||(a[o]=ht(i,t)):l<=t&&(e.expiredLanes|=i),s&=~i}}(e,t);var r=mt(e,e===Pl?Ol:0);if(0===r)null!==n&&Je(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Je(n),1===t)0===e.tag?function(e){Ha=!0,Ua(e)}(cc.bind(null,e)):Ua(cc.bind(null,e)),ia(function(){0===(6&Il)&&Ya()}),n=null;else{switch(wt(r)){case 1:n=et;break;case 4:n=tt;break;case 16:default:n=nt;break;case 536870912:n=at}n=Pc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Zl=-1,ec=0,0!==(6&Il))throw Error(s(327));var n=e.callbackNode;if(Nc()&&e.callbackNode!==n)return null;var r=mt(e,e===Pl?Ol:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var a=Il;Il|=2;var o=fc();for(Pl===e&&Ol===t||(Wl=null,Yl=Xe()+500,mc(e,t));;)try{bc();break}catch(l){hc(e,l)}Ds(),Cl.current=o,Il=a,null!==Al?t=0:(Pl=null,Ol=0,t=Ml)}if(0!==t){if(2===t&&(0!==(a=ft(e))&&(r=a,t=oc(e,a))),1===t)throw n=Rl,mc(e,0),lc(e,r),ac(e,Xe()),n;if(6===t)lc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!lr(s(),a))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=vc(e,r))&&(0!==(o=ft(e))&&(r=o,t=oc(e,o))),1===t))throw n=Rl,mc(e,0),lc(e,r),ac(e,Xe()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Sc(e,zl,Wl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Ul+500-Xe())){if(0!==mt(e,0))break;if(((a=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=aa(Sc.bind(null,e,zl,Wl),t);break}Sc(e,zl,Wl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var i=31-it(r);o=1<<i,(i=t[i])>a&&(a=i),r&=~o}if(r=a,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=aa(Sc.bind(null,e,zl,Wl),r);break}Sc(e,zl,Wl);break;default:throw Error(s(329))}}}return ac(e,Xe()),e.callbackNode===n?sc.bind(null,e):null}function oc(e,t){var n=Hl;return e.current.memoizedState.isDehydrated&&(mc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=zl,zl=n,null!==t&&ic(t)),e}function ic(e){null===zl?zl=e:zl.push.apply(zl,e)}function lc(e,t){for(t&=~Bl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Il))throw Error(s(327));Nc();var t=mt(e,0);if(0===(1&t))return ac(e,Xe()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Rl,mc(e,0),lc(e,t),ac(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sc(e,zl,Wl),ac(e,Xe()),null}function dc(e,t){var n=Il;Il|=1;try{return e(t)}finally{0===(Il=n)&&(Yl=Xe()+500,Ha&&Ya())}}function uc(e){null!==Jl&&0===Jl.tag&&0===(6&Il)&&Nc();var t=Il;Il|=1;var n=El.transition,r=xt;try{if(El.transition=null,xt=1,e)return e()}finally{xt=r,El.transition=n,0===(6&(Il=t))&&Ya()}}function pc(){Tl=_l.current,Ca(_l)}function mc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,sa(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(ns(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&_a();break;case 3:$s(),Ca(Pa),Ca(Ia),ro();break;case 5:Zs(r);break;case 4:$s();break;case 13:case 19:Ca(eo);break;case 10:Es(r.type._context);break;case 22:case 23:pc()}n=n.return}if(Pl=e,Al=e=_c(e.current,null),Ol=Tl=t,Ml=0,Rl=null,Bl=Fl=Ll=0,zl=Hl=null,null!==Os){for(t=0;t<Os.length;t++)if(null!==(r=(n=Os[t]).interleaved)){n.interleaved=null;var a=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=a,r.next=o}n.pending=r}Os=null}return e}function hc(e,t){for(;;){var n=Al;try{if(Ds(),ao.current=Zo,uo){for(var r=io.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}uo=!1}if(oo=0,co=lo=io=null,po=!1,mo=0,Dl.current=null,null===n||null===n.return){Ml=1,Rl=t,Al=null;break}e:{var o=e,i=n.return,l=n,c=t;if(t=Ol,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,p=u.tag;if(0===(1&u.mode)&&(0===p||11===p||15===p)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=vi(i);if(null!==h){h.flags&=-257,yi(h,i,l,0,t),1&h.mode&&gi(o,d,t),c=d;var f=(t=h).updateQueue;if(null===f){var g=new Set;g.add(c),t.updateQueue=g}else f.add(c);break e}if(0===(1&t)){gi(o,d,t),gc();break e}c=Error(s(426))}else if(ss&&1&l.mode){var v=vi(i);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),yi(v,i,l,0,t),fs(di(c,l));break e}}o=c=di(c,l),4!==Ml&&(Ml=2),null===Hl?Hl=[o]:Hl.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Us(o,hi(0,c,t));break e;case 1:l=c;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ql||!Ql.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Us(o,fi(o,l,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(x){t=x,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function fc(){var e=Cl.current;return Cl.current=Zo,null===e?Zo:e}function gc(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===Pl||0===(268435455&Ll)&&0===(268435455&Fl)||lc(Pl,Ol)}function vc(e,t){var n=Il;Il|=2;var r=fc();for(Pl===e&&Ol===t||(Wl=null,mc(e,t));;)try{yc();break}catch(a){hc(e,a)}if(Ds(),Il=n,Cl.current=r,null!==Al)throw Error(s(261));return Pl=null,Ol=0,Ml}function yc(){for(;null!==Al;)xc(Al)}function bc(){for(;null!==Al&&!Ge();)xc(Al)}function xc(e){var t=jl(e.alternate,e,Tl);e.memoizedProps=e.pendingProps,null===t?wc(e):Al=t,Dl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ki(n,t,Tl)))return void(Al=n)}else{if(null!==(n=Ji(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Ml=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Ml&&(Ml=5)}function Sc(e,t,n){var r=xt,a=El.transition;try{El.transition=null,xt=1,function(e,t,n,r){do{Nc()}while(null!==Jl);if(0!==(6&Il))throw Error(s(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-it(n),s=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~s}}(e,o),e===Pl&&(Al=Pl=null,Ol=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Pc(nt,function(){return Nc(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=El.transition,El.transition=null;var i=xt;xt=1;var l=Il;Il|=4,Dl.current=null,function(e,t){if(ta=Vt,hr(e=mr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var i=0,l=-1,c=-1,d=0,u=0,p=e,m=null;t:for(;;){for(var h;p!==n||0!==a&&3!==p.nodeType||(l=i+a),p!==o||0!==r&&3!==p.nodeType||(c=i+r),3===p.nodeType&&(i+=p.nodeValue.length),null!==(h=p.firstChild);)m=p,p=h;for(;;){if(p===e)break t;if(m===n&&++d===a&&(l=i),m===o&&++u===r&&(c=i),null!==(h=p.nextSibling))break;m=(p=m).parentNode}p=h}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(na={focusedElem:e,selectionRange:n},Vt=!1,Zi=t;null!==Zi;)if(e=(t=Zi).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zi=e;else for(;null!==Zi;){t=Zi;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var g=f.memoizedProps,v=f.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ri(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(s(163))}}catch(w){kc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zi=e;break}Zi=t.return}f=nl,nl=!1}(e,n),vl(n,e),fr(na),Vt=!!ta,na=ta=null,e.current=n,bl(n,e,a),$e(),Il=l,xt=i,El.transition=o}else e.current=n;if(Kl&&(Kl=!1,Jl=e,Gl=a),o=e.pendingLanes,0===o&&(Ql=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ac(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Vl)throw Vl=!1,e=ql,ql=null,e;0!==(1&Gl)&&0!==e.tag&&Nc(),o=e.pendingLanes,0!==(1&o)?e===Xl?$l++:($l=0,Xl=e):$l=0,Ya()}(e,t,n,r)}finally{El.transition=a,xt=r}return null}function Nc(){if(null!==Jl){var e=wt(Gl),t=El.transition,n=xt;try{if(El.transition=null,xt=16>e?16:e,null===Jl)var r=!1;else{if(e=Jl,Jl=null,Gl=0,0!==(6&Il))throw Error(s(331));var a=Il;for(Il|=4,Zi=e.current;null!==Zi;){var o=Zi,i=o.child;if(0!==(16&Zi.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Zi=d;null!==Zi;){var u=Zi;switch(u.tag){case 0:case 11:case 15:rl(8,u,o)}var p=u.child;if(null!==p)p.return=u,Zi=p;else for(;null!==Zi;){var m=(u=Zi).sibling,h=u.return;if(ol(u),u===d){Zi=null;break}if(null!==m){m.return=h,Zi=m;break}Zi=h}}}var f=o.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Zi=o}}if(0!==(2064&o.subtreeFlags)&&null!==i)i.return=o,Zi=i;else e:for(;null!==Zi;){if(0!==(2048&(o=Zi).flags))switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Zi=y;break e}Zi=o.return}}var b=e.current;for(Zi=b;null!==Zi;){var x=(i=Zi).child;if(0!==(2064&i.subtreeFlags)&&null!==x)x.return=i,Zi=x;else e:for(i=b;null!==Zi;){if(0!==(2048&(l=Zi).flags))try{switch(l.tag){case 0:case 11:case 15:al(9,l)}}catch(S){kc(l,l.return,S)}if(l===i){Zi=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Zi=w;break e}Zi=l.return}}if(Il=a,Ya(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(st,e)}catch(S){}r=!0}return r}finally{xt=n,El.transition=t}}return!1}function jc(e,t,n){e=Hs(e,t=hi(0,t=di(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ac(e,t))}function kc(e,t,n){if(3===e.tag)jc(e,e,n);else for(;null!==t;){if(3===t.tag){jc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ql||!Ql.has(r))){t=Hs(t,e=fi(t,e=di(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ac(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(Ol&n)===n&&(4===Ml||3===Ml&&(130023424&Ol)===Ol&&500>Xe()-Ul?mc(e,0):Bl|=n),ac(e,t)}function Dc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Ms(e,t))&&(yt(e,t,n),ac(e,n))}function Ec(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Dc(e,n)}function Ic(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Dc(e,n)}function Pc(e,t){return Ke(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Ac(e,t,n,r)}function Tc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function _c(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,a,o){var i=2;if(r=e,"function"===typeof e)Tc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case N:return Rc(n.children,a,o,t);case j:i=8,a|=8;break;case k:return(e=Oc(12,n,t,2|a)).elementType=k,e.lanes=o,e;case I:return(e=Oc(13,n,t,a)).elementType=I,e.lanes=o,e;case P:return(e=Oc(19,n,t,a)).elementType=P,e.lanes=o,e;case T:return Lc(n,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:i=10;break e;case D:i=9;break e;case E:i=11;break e;case A:i=14;break e;case O:i=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Oc(i,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function Rc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=T,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Bc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,a,s,o,i,l){return e=new Hc(e,t,n,i,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Oc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),e}function Uc(e){if(!e)return Ea;e:{if(Ye(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ta(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ta(n))return Ra(e,n,t)}return t}function Yc(e,t,n,r,a,s,o,i,l){return(e=zc(n,r,!0,e,0,s,0,i,l)).context=Uc(null),n=e.current,(s=Bs(r=tc(),a=nc(n))).callback=void 0!==t&&null!==t?t:null,Hs(n,s,a),e.current.lanes=a,yt(e,a,r),ac(e,r),e}function Wc(e,t,n,r){var a=t.current,s=tc(),o=nc(a);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Bs(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Hs(a,t,o))&&(rc(e,a,o,s),zs(e,a,o)),o}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Qc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}jl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pa.current)xi=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xi=!1,function(e,t,n){switch(t.tag){case 3:Pi(t),hs();break;case 5:Xs(t);break;case 1:Ta(t.type)&&La(t);break;case 4:Gs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Da(Ns,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Da(eo,1&eo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fi(e,t,n):(Da(eo,1&eo.current),null!==(e=Vi(e,t,n))?e.sibling:null);Da(eo,1&eo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Yi(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Da(eo,eo.current),r)break;return null;case 22:case 23:return t.lanes=0,ki(e,t,n)}return Vi(e,t,n)}(e,t,n);xi=0!==(131072&e.flags)}else xi=!1,ss&&0!==(1048576&t.flags)&&es(t,Qa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wi(e,t),e=t.pendingProps;var a=Oa(t,Ia.current);Ps(t,n),a=vo(null,t,r,e,a,n);var o=yo();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ta(r)?(o=!0,La(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ls(t),a.updater=si,t.stateNode=a,a._reactInternals=t,ci(t,r,e,n),t=Ii(null,t,r,!0,o,n)):(t.tag=0,ss&&o&&ts(t),wi(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wi(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Tc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===A)return 14}return 2}(r),e=ri(r,e),a){case 0:t=Di(null,t,r,e,n);break e;case 1:t=Ei(null,t,r,e,n);break e;case 11:t=Si(null,t,r,e,n);break e;case 14:t=Ni(null,t,r,ri(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Di(e,t,r,a=t.elementType===r?a:ri(r,a),n);case 1:return r=t.type,a=t.pendingProps,Ei(e,t,r,a=t.elementType===r?a:ri(r,a),n);case 3:e:{if(Pi(t),null===e)throw Error(s(387));r=t.pendingProps,a=(o=t.memoizedState).element,Fs(e,t),Ys(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ai(e,t,r,n,a=di(Error(s(423)),t));break e}if(r!==a){t=Ai(e,t,r,n,a=di(Error(s(424)),t));break e}for(as=da(t.stateNode.containerInfo.firstChild),rs=t,ss=!0,os=null,n=Ss(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hs(),r===a){t=Vi(e,t,n);break e}wi(e,t,r,n)}t=t.child}return t;case 5:return Xs(t),null===e&&ds(t),r=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,i=a.children,ra(r,a)?i=null:null!==o&&ra(r,o)&&(t.flags|=32),Ci(e,t),wi(e,t,i,n),t.child;case 6:return null===e&&ds(t),null;case 13:return Fi(e,t,n);case 4:return Gs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ws(t,null,r,n):wi(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Si(e,t,r,a=t.elementType===r?a:ri(r,a),n);case 7:return wi(e,t,t.pendingProps,n),t.child;case 8:case 12:return wi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,Da(Ns,r._currentValue),r._currentValue=i,null!==o)if(lr(o.value,i)){if(o.children===a.children&&!Pa.current){t=Vi(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){i=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Bs(-1,n&-n)).tag=2;var d=o.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Is(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)i=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(i=o.return))throw Error(s(341));i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),Is(i,n,t),i=o.sibling}else i=o.child;if(null!==i)i.return=o;else for(i=o;null!==i;){if(i===t){i=null;break}if(null!==(o=i.sibling)){o.return=i.return,i=o;break}i=i.return}o=i}wi(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ps(t,n),r=r(a=As(a)),t.flags|=1,wi(e,t,r,n),t.child;case 14:return a=ri(r=t.type,t.pendingProps),Ni(e,t,r,a=ri(r.type,a),n);case 15:return ji(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ri(r,a),Wi(e,t),t.tag=1,Ta(r)?(e=!0,La(t)):e=!1,Ps(t,n),ii(t,r,a),ci(t,r,a,n),Ii(null,t,r,!0,e,n);case 19:return Yi(e,t,n);case 22:return ki(e,t,n)}throw Error(s(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}function Gc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function ed(e,t,n,r,a){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof a){var i=a;a=function(){var e=Vc(o);i.call(e)}}Wc(t,o,e,a)}else o=function(e,t,n,r,a){if(a){if("function"===typeof r){var s=r;r=function(){var e=Vc(o);s.call(e)}}var o=Yc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[fa]=o.current,Yr(8===e.nodeType?e.parentNode:e),uc(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var i=r;r=function(){var e=Vc(l);i.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[fa]=l.current,Yr(8===e.nodeType?e.parentNode:e),uc(function(){Wc(t,l,n,r)}),l}(n,t,e,a,r);return Vc(o)}Gc.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Wc(e,t,null,null)},Gc.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Wc(null,e,null,null)}),t[fa]=null}},Gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_t.length&&0!==t&&t<_t[n].priority;n++);_t.splice(n,0,e),0===n&&Ft(e)}},St=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=pt(t.pendingLanes);0!==n&&(bt(t,1|n),ac(t,Xe()),0===(6&Il)&&(Yl=Xe()+500,Ya()))}break;case 13:uc(function(){var t=Ms(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}}),Qc(e,1)}},Nt=function(e){if(13===e.tag){var t=Ms(e,134217728);if(null!==t)rc(t,e,134217728,tc());Qc(e,134217728)}},jt=function(e){if(13===e.tag){var t=nc(e),n=Ms(e,t);if(null!==n)rc(n,e,t,tc());Qc(e,t)}},kt=function(){return xt},Ct=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},Ne=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=Sa(r);if(!a)throw Error(s(90));Q(r),Z(r,a)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&re(e,!!n.multiple,t,!1)}},Ie=dc,Pe=uc;var td={usingClientEntryPoint:!1,Events:[xa,wa,Sa,De,Ee,dc]},nd={findFiberByHostInstance:ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rd={bundleType:nd.bundleType,version:nd.version,rendererPackageName:nd.rendererPackageName,rendererConfig:nd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:nd.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{st=ad.inject(rd),ot=ad}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=td,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(s(299));var n=!1,r="",a=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,a),e[fa]=t.current,Yr(8===e.nodeType?e.parentNode:e),new Jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(s(200));return ed(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,a=!1,o="",i=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=Yc(t,null,e,1,null!=n?n:null,a,0,o,i),e[fa]=t.current,Yr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Gc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(s(200));return ed(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(s(40));return!!e._reactRootContainer&&(uc(function(){ed(null,null,e,!1,function(){e._reactRootContainer=null,e[fa]=null})}),!0)},t.unstable_batchedUpdates=dc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return ed(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},352:(e,t,n)=>{var r=n(119);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},379:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(705);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}},414:(e,t,n)=>{e.exports=n(654)},481:(e,t,n)=>{n.r(t),n.d(t,{PERMISSION_ACTIONS:()=>p,getRolePermissions:()=>c,getRuntimePermissions:()=>o,hasPermission:()=>l,resetPermissions:()=>u,saveRuntimePermissions:()=>i,updatePermission:()=>d});var r=n(379),a=n(884);const s="app_runtime_permissions",o=()=>{try{const e=localStorage.getItem(s);if(e){const t=JSON.parse(e),n=t.filter(e=>"admin"===e.roleId&&e.allowed),r=a.P.filter(e=>"admin"===e.roleId&&e.allowed).length;if(n.length<r){console.log("Admin permissions incomplete, resetting to defaults...");const e=a.P;return i(e),e}return t}}catch(e){console.error("Error loading runtime permissions:",e)}return a.P},i=e=>{try{localStorage.setItem(s,JSON.stringify(e))}catch(t){console.error("Error saving runtime permissions:",t)}},l=(e,t)=>{const n=o().find(n=>n.roleId===e&&n.actionId===t);return(null===n||void 0===n?void 0:n.allowed)||!1},c=e=>o().filter(t=>t.roleId===e&&t.allowed),d=(e,t,n)=>{const a=o(),s=a.findIndex(n=>n.roleId===e&&n.actionId===t);s>=0?a[s]=(0,r.A)((0,r.A)({},a[s]),{},{allowed:n}):a.push({roleId:e,actionId:t,allowed:n}),i(a)},u=()=>{localStorage.removeItem(s)},p={CREATE_CASE:"create-case",VIEW_CASES:"view-cases",AMEND_CASE:"amend-case",DELETE_CASE:"delete-case",CANCEL_CASE:"cancel-case",EDIT_SETS:"edit-sets",BOOKING_CALENDAR:"booking-calendar",PROCESS_ORDER:"process-order",ORDER_PROCESSED:"order-processed",PENDING_DELIVERY_HOSPITAL:"pending-delivery-hospital",DELIVERED_HOSPITAL:"delivered-hospital",CASE_COMPLETED:"case-completed",PENDING_DELIVERY_OFFICE:"pending-delivery-office",DELIVERED_OFFICE:"delivered-office",TO_BE_BILLED:"to-be-billed",CASE_CLOSED:"case-closed",CREATE_USER:"create-user",EDIT_USER:"edit-user",DELETE_USER:"delete-user",VIEW_USERS:"view-users",ENABLE_DISABLE_USER:"enable-disable-user",SYSTEM_SETTINGS:"system-settings",EMAIL_CONFIG:"email-config",CODE_TABLE_SETUP:"code-table-setup",BACKUP_RESTORE:"backup-restore",AUDIT_LOGS:"audit-logs",EXPORT_DATA:"export-data",IMPORT_DATA:"import-data",VIEW_REPORTS:"view-reports",UPLOAD_FILES:"upload-files",DOWNLOAD_FILES:"download-files",DELETE_FILES:"delete-files"}},654:(e,t,n)=>{var r=n(950),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,d=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:d,props:s,_owner:i.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},705:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{A:()=>s})},761:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var i=2*(r+1)-1,l=e[i],c=i+1,d=e[c];if(0>s(l,n))c<a&&0>s(d,l)?(e[r]=d,e[c]=n,r=c):(e[r]=l,e[i]=n,r=i);else{if(!(c<a&&0>s(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],d=[],u=1,p=null,m=3,h=!1,f=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function w(e){if(g=!1,x(e),!f)if(null!==r(c))f=!0,T(S);else{var t=r(d);null!==t&&_(w,t.startTime-e)}}function S(e,n){f=!1,g&&(g=!1,y(C),C=-1),h=!0;var s=m;try{for(x(n),p=r(c);null!==p&&(!(p.expirationTime>n)||e&&!I());){var o=p.callback;if("function"===typeof o){p.callback=null,m=p.priorityLevel;var i=o(p.expirationTime<=n);n=t.unstable_now(),"function"===typeof i?p.callback=i:p===r(c)&&a(c),x(n)}else a(c);p=r(c)}if(null!==p)var l=!0;else{var u=r(d);null!==u&&_(w,u.startTime-n),l=!1}return l}finally{p=null,m=s,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,j=!1,k=null,C=-1,D=5,E=-1;function I(){return!(t.unstable_now()-E<D)}function P(){if(null!==k){var e=t.unstable_now();E=e;var n=!0;try{n=k(!0,e)}finally{n?N():(j=!1,k=null)}}else j=!1}if("function"===typeof b)N=function(){b(P)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,O=A.port2;A.port1.onmessage=P,N=function(){O.postMessage(null)}}else N=function(){v(P,0)};function T(e){k=e,j||(j=!0,N())}function _(e,n){C=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||h||(f=!0,T(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,a,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:s,expirationTime:i=s+i,sortIndex:-1},s>o?(e.sortIndex=s,n(d,e),null===r(c)&&e===r(d)&&(g?(y(C),C=-1):g=!0,_(w,s-o))):(e.sortIndex=i,n(c,e),f||h||(f=!0,T(S))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},884:(e,t,n)=>{n.d(t,{$r:()=>a,L_:()=>o,Ot:()=>r,P:()=>s,_m:()=>l});const r=[{id:"admin",name:"admin",displayName:"Admin",description:"Full system access",color:"#e74c3c"},{id:"operations",name:"operations",displayName:"Operations",description:"Order processing",color:"#3498db"},{id:"operation-manager",name:"operation-manager",displayName:"Ops Manager",description:"Operations oversight",color:"#2980b9"},{id:"sales",name:"sales",displayName:"Sales",description:"Case completion",color:"#27ae60"},{id:"sales-manager",name:"sales-manager",displayName:"Sales Manager",description:"Sales oversight",color:"#229954"},{id:"driver",name:"driver",displayName:"Driver",description:"Delivery operations",color:"#f39c12"},{id:"it",name:"it",displayName:"IT",description:"Technical support",color:"#9b59b6"}],a=[{id:"create-case",name:"Create Case",description:"Submit new case bookings",category:"Case Management"},{id:"view-cases",name:"View Cases",description:"View case listings and details",category:"Case Management"},{id:"amend-case",name:"Amend Case",description:"Modify existing case details",category:"Case Management"},{id:"delete-case",name:"Delete Case",description:"Remove cases from system",category:"Case Management"},{id:"edit-sets",name:"Edit Sets",description:"Manage surgery sets and implant boxes for procedure types",category:"Case Management"},{id:"process-order",name:"Process Order",description:"Case Booked \u2192 Order Preparation",category:"Status Transitions"},{id:"order-processed",name:"Order Processed",description:"Order Preparation \u2192 Order Prepared",category:"Status Transitions"},{id:"pending-delivery-hospital",name:"Pending Delivery (Hospital)",description:"Order Prepared \u2192 Pending Delivery (Hospital)",category:"Status Transitions"},{id:"delivered-hospital",name:"Delivered (Hospital)",description:"Pending Delivery \u2192 Delivered (Hospital)",category:"Status Transitions"},{id:"case-completed",name:"Case Completed",description:"Delivered (Hospital) \u2192 Case Completed",category:"Status Transitions"},{id:"pending-delivery-office",name:"Pending Delivery (Office)",description:"Case Completed \u2192 Pending Delivery (Office)",category:"Status Transitions"},{id:"delivered-office",name:"Delivered (Office)",description:"Pending Delivery (Office) \u2192 Delivered (Office)",category:"Status Transitions"},{id:"to-be-billed",name:"To be Billed",description:"Delivered (Office) \u2192 To be Billed",category:"Status Transitions"},{id:"case-closed",name:"Case Closed",description:"To be Billed \u2192 Case Closed",category:"Status Transitions"},{id:"cancel-case",name:"Cancel Case",description:"Cancel cases in Process Order, Order Processed, Pending Delivery, or Delivered status",category:"Case Management"},{id:"export-data",name:"Export Data",description:"Export case data to external formats",category:"Data Operations"},{id:"import-data",name:"Import Data",description:"Import case data from external sources",category:"Data Operations"},{id:"view-reports",name:"View Reports",description:"Access reporting and analytics",category:"Data Operations"},{id:"create-user",name:"Create User",description:"Add new users to the system",category:"User Management"},{id:"edit-user",name:"Edit User",description:"Modify user details and permissions",category:"User Management"},{id:"delete-user",name:"Delete User",description:"Remove users from the system",category:"User Management"},{id:"view-users",name:"View Users",description:"View user listings and details",category:"User Management"},{id:"enable-disable-user",name:"Enable/Disable User",description:"Enable or disable user login access",category:"User Management"},{id:"system-settings",name:"System Settings",description:"Configure system-wide settings",category:"System Settings"},{id:"email-config",name:"Email Configuration",description:"Configure SMTP settings and email notifications by country",category:"System Settings"},{id:"code-table-setup",name:"Code Table Setup",description:"Manage system code tables and reference data",category:"System Settings"},{id:"booking-calendar",name:"Booking Calendar",description:"View and manage booking calendar",category:"Case Management"},{id:"backup-restore",name:"Backup & Restore",description:"Manage system backups and restoration",category:"System Settings"},{id:"audit-logs",name:"Audit Logs",description:"View system audit trail and logs",category:"System Settings"},{id:"upload-files",name:"Upload Files",description:"Upload images and documents",category:"File Operations"},{id:"download-files",name:"Download Files",description:"Download attached files and documents",category:"File Operations"},{id:"delete-files",name:"Delete Files",description:"Remove uploaded files and attachments",category:"File Operations"},{id:"configure-notifications",name:"Configure Notifications",description:"Access and modify notification settings",category:"Notification Management"},{id:"manage-notification-rules",name:"Manage Notification Rules",description:"Create and modify system notification rules",category:"Notification Management"},{id:"view-notification-settings",name:"View Notification Settings",description:"View notification preferences and settings",category:"Notification Management"}],s=[{actionId:"create-case",roleId:"admin",allowed:!0},{actionId:"view-cases",roleId:"admin",allowed:!0},{actionId:"amend-case",roleId:"admin",allowed:!0},{actionId:"delete-case",roleId:"admin",allowed:!0},{actionId:"edit-sets",roleId:"admin",allowed:!0},{actionId:"booking-calendar",roleId:"admin",allowed:!0},{actionId:"process-order",roleId:"admin",allowed:!0},{actionId:"order-processed",roleId:"admin",allowed:!0},{actionId:"pending-delivery-hospital",roleId:"admin",allowed:!0},{actionId:"delivered-hospital",roleId:"admin",allowed:!0},{actionId:"case-completed",roleId:"admin",allowed:!0},{actionId:"pending-delivery-office",roleId:"admin",allowed:!0},{actionId:"delivered-office",roleId:"admin",allowed:!0},{actionId:"to-be-billed",roleId:"admin",allowed:!0},{actionId:"case-closed",roleId:"admin",allowed:!0},{actionId:"export-data",roleId:"admin",allowed:!0},{actionId:"import-data",roleId:"admin",allowed:!0},{actionId:"view-reports",roleId:"admin",allowed:!0},{actionId:"create-user",roleId:"admin",allowed:!0},{actionId:"edit-user",roleId:"admin",allowed:!0},{actionId:"delete-user",roleId:"admin",allowed:!0},{actionId:"view-users",roleId:"admin",allowed:!0},{actionId:"enable-disable-user",roleId:"admin",allowed:!0},{actionId:"system-settings",roleId:"admin",allowed:!0},{actionId:"email-config",roleId:"admin",allowed:!0},{actionId:"code-table-setup",roleId:"admin",allowed:!0},{actionId:"backup-restore",roleId:"admin",allowed:!0},{actionId:"audit-logs",roleId:"admin",allowed:!0},{actionId:"upload-files",roleId:"admin",allowed:!0},{actionId:"download-files",roleId:"admin",allowed:!0},{actionId:"delete-files",roleId:"admin",allowed:!0},{actionId:"cancel-case",roleId:"admin",allowed:!0},{actionId:"configure-notifications",roleId:"admin",allowed:!0},{actionId:"manage-notification-rules",roleId:"admin",allowed:!0},{actionId:"view-notification-settings",roleId:"admin",allowed:!0},{actionId:"create-case",roleId:"operations",allowed:!0},{actionId:"view-cases",roleId:"operations",allowed:!0},{actionId:"amend-case",roleId:"operations",allowed:!0},{actionId:"process-order",roleId:"operations",allowed:!0},{actionId:"order-processed",roleId:"operations",allowed:!0},{actionId:"pending-delivery-hospital",roleId:"operations",allowed:!0},{actionId:"upload-files",roleId:"operations",allowed:!0},{actionId:"download-files",roleId:"operations",allowed:!0},{actionId:"view-reports",roleId:"operations",allowed:!0},{actionId:"view-notification-settings",roleId:"operations",allowed:!0},{actionId:"create-case",roleId:"operation-manager",allowed:!0},{actionId:"view-cases",roleId:"operation-manager",allowed:!0},{actionId:"amend-case",roleId:"operation-manager",allowed:!0},{actionId:"delete-case",roleId:"operation-manager",allowed:!0},{actionId:"edit-sets",roleId:"operation-manager",allowed:!0},{actionId:"booking-calendar",roleId:"operation-manager",allowed:!0},{actionId:"process-order",roleId:"operation-manager",allowed:!0},{actionId:"order-processed",roleId:"operation-manager",allowed:!0},{actionId:"pending-delivery-hospital",roleId:"operation-manager",allowed:!0},{actionId:"upload-files",roleId:"operation-manager",allowed:!0},{actionId:"download-files",roleId:"operation-manager",allowed:!0},{actionId:"view-reports",roleId:"operation-manager",allowed:!0},{actionId:"export-data",roleId:"operation-manager",allowed:!0},{actionId:"cancel-case",roleId:"operation-manager",allowed:!0},{actionId:"configure-notifications",roleId:"operation-manager",allowed:!0},{actionId:"view-notification-settings",roleId:"operation-manager",allowed:!0},{actionId:"create-case",roleId:"sales",allowed:!0},{actionId:"view-cases",roleId:"sales",allowed:!0},{actionId:"amend-case",roleId:"sales",allowed:!0},{actionId:"booking-calendar",roleId:"sales",allowed:!0},{actionId:"case-completed",roleId:"sales",allowed:!0},{actionId:"pending-delivery-office",roleId:"sales",allowed:!0},{actionId:"delivered-office",roleId:"sales",allowed:!0},{actionId:"to-be-billed",roleId:"sales",allowed:!0},{actionId:"case-closed",roleId:"sales",allowed:!0},{actionId:"upload-files",roleId:"sales",allowed:!0},{actionId:"download-files",roleId:"sales",allowed:!0},{actionId:"view-reports",roleId:"sales",allowed:!0},{actionId:"view-notification-settings",roleId:"sales",allowed:!0},{actionId:"create-case",roleId:"sales-manager",allowed:!0},{actionId:"view-cases",roleId:"sales-manager",allowed:!0},{actionId:"amend-case",roleId:"sales-manager",allowed:!0},{actionId:"booking-calendar",roleId:"sales-manager",allowed:!0},{actionId:"case-completed",roleId:"sales-manager",allowed:!0},{actionId:"pending-delivery-office",roleId:"sales-manager",allowed:!0},{actionId:"delivered-office",roleId:"sales-manager",allowed:!0},{actionId:"to-be-billed",roleId:"sales-manager",allowed:!0},{actionId:"case-closed",roleId:"sales-manager",allowed:!0},{actionId:"upload-files",roleId:"sales-manager",allowed:!0},{actionId:"download-files",roleId:"sales-manager",allowed:!0},{actionId:"view-reports",roleId:"sales-manager",allowed:!0},{actionId:"export-data",roleId:"sales-manager",allowed:!0},{actionId:"configure-notifications",roleId:"sales-manager",allowed:!0},{actionId:"view-notification-settings",roleId:"sales-manager",allowed:!0},{actionId:"view-cases",roleId:"driver",allowed:!0},{actionId:"pending-delivery-hospital",roleId:"driver",allowed:!0},{actionId:"delivered-hospital",roleId:"driver",allowed:!0},{actionId:"pending-delivery-office",roleId:"driver",allowed:!0},{actionId:"delivered-office",roleId:"driver",allowed:!0},{actionId:"to-be-billed",roleId:"driver",allowed:!0},{actionId:"case-closed",roleId:"driver",allowed:!0},{actionId:"upload-files",roleId:"driver",allowed:!0},{actionId:"download-files",roleId:"driver",allowed:!0},{actionId:"view-notification-settings",roleId:"driver",allowed:!0},{actionId:"view-cases",roleId:"it",allowed:!0},{actionId:"edit-sets",roleId:"it",allowed:!0},{actionId:"view-users",roleId:"it",allowed:!0},{actionId:"create-user",roleId:"it",allowed:!0},{actionId:"edit-user",roleId:"it",allowed:!0},{actionId:"delete-user",roleId:"it",allowed:!0},{actionId:"enable-disable-user",roleId:"it",allowed:!0},{actionId:"system-settings",roleId:"it",allowed:!0},{actionId:"email-config",roleId:"it",allowed:!0},{actionId:"code-table-setup",roleId:"it",allowed:!0},{actionId:"backup-restore",roleId:"it",allowed:!0},{actionId:"audit-logs",roleId:"it",allowed:!0},{actionId:"import-data",roleId:"it",allowed:!0},{actionId:"export-data",roleId:"it",allowed:!0},{actionId:"upload-files",roleId:"it",allowed:!0},{actionId:"download-files",roleId:"it",allowed:!0},{actionId:"delete-files",roleId:"it",allowed:!0},{actionId:"view-reports",roleId:"it",allowed:!0},{actionId:"configure-notifications",roleId:"it",allowed:!0},{actionId:"manage-notification-rules",roleId:"it",allowed:!0},{actionId:"view-notification-settings",roleId:"it",allowed:!0}],o=()=>{try{const e=localStorage.getItem("case-booking-custom-roles");if(e){const t=JSON.parse(e);return[...r,...t]}}catch(e){console.error("Error loading custom roles:",e)}return r},i=()=>{try{const e=localStorage.getItem("case-booking-custom-permissions");if(e){const t=JSON.parse(e);return[...s,...t]}}catch(e){console.error("Error loading custom permissions:",e)}return s},l=(e,t)=>{const n=i().find(n=>n.roleId===e&&n.actionId===t);return(null===n||void 0===n?void 0:n.allowed)||!1}},950:(e,t,n)=>{e.exports=n(49)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var i=2&a&&r;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>o[e]=()=>r[e]);return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r=n(950),a=n.t(r,2),s=n(352),o=n(379);const i=["Singapore","Malaysia","Philippines","Indonesia","Vietnam","Hongkong","Thailand"],l=["Cardiology","Orthopedics","Neurosurgery","Oncology","Emergency","Radiology","General Surgery","Pediatrics"],c=["Knee","Head","Hip","Hands","Neck","Spine"],d=["Spine Surgery Set A","Spine Surgery Set B","Joint Replacement Set","Sports Medicine Set","Orthobiologics Set","Neuromonitoring Set","General Orthopedic Set"],u=["Spine Implant Box 1","Spine Implant Box 2","Hip Implant Box","Knee Implant Box","Shoulder Implant Box","Sports Med Implant Box","Biologics Box"],p={Spine:{surgerySets:["Spine Surgery Set A","Spine Surgery Set B","Neuromonitoring Set","General Orthopedic Set"],implantBoxes:["Spine Implant Box 1","Spine Implant Box 2","Biologics Box"]},Knee:{surgerySets:["Joint Replacement Set","Sports Medicine Set","General Orthopedic Set"],implantBoxes:["Knee Implant Box","Sports Med Implant Box","Biologics Box"]},Hip:{surgerySets:["Joint Replacement Set","Orthobiologics Set","General Orthopedic Set"],implantBoxes:["Hip Implant Box","Biologics Box"]},Head:{surgerySets:["Neuromonitoring Set","General Orthopedic Set"],implantBoxes:["Biologics Box"]},Hands:{surgerySets:["Sports Medicine Set","General Orthopedic Set"],implantBoxes:["Sports Med Implant Box"]},Neck:{surgerySets:["Spine Surgery Set A","Neuromonitoring Set","General Orthopedic Set"],implantBoxes:["Spine Implant Box 1","Biologics Box"]}},m="case-booking-users",h="case-booking-session",f=()=>{const e=localStorage.getItem(m);if(e){return JSON.parse(e).map(e=>(0,o.A)((0,o.A)({},e),{},{countries:e.countries||[],departments:e.departments||(e.department?[e.department]:[])}))}const t=[{id:"1",username:"Admin",password:"Admin",role:"admin",name:"Administrator",departments:[],countries:[...i]}];return localStorage.setItem(m,JSON.stringify(t)),t},g=()=>{const e=localStorage.getItem(h);return e?JSON.parse(e):null},v=e=>{const t=e?"codeTables-".concat(e):"codeTables",n=localStorage.getItem(t);if(n)try{return JSON.parse(n)}catch(r){console.error("Error parsing code tables from localStorage:",r)}if(e){return y(e).filter(e=>"countries"!==e.id)}return y()},y=e=>[{id:"hospitals",name:"Hospitals",description:"List of available hospitals",items:k(e)},{id:"departments",name:"Departments",description:"Medical departments",items:[...l]},{id:"countries",name:"Countries",description:"Supported countries",items:[...i]}],b=e=>{const t=(e=>v().find(t=>t.id===e))(e);return(null===t||void 0===t?void 0:t.items)||[]},x=e=>{const t=b("departments");return e&&e.length>0?t.filter(t=>e.includes(t)):t},w=()=>b("countries"),S=(e,t)=>{try{const n=t?"codeTables-".concat(t):"codeTables";localStorage.setItem(n,JSON.stringify(e))}catch(n){console.error("Error saving code tables to localStorage:",n)}},N=()=>{const e=localStorage.getItem("codeTables");if(e)try{const t=JSON.parse(e).find(e=>"countries"===e.id),n=y().find(e=>"countries"===e.id);if(t&&n&&t.items.length<n.items.length){console.log("Detected corrupted countries table, resetting to defaults...");const e=y();S(e)}}catch(t){console.error("Error checking code tables, resetting to defaults:",t);const e=y();S(e)}else{const e=y();S(e)}},j=e=>{const t="codeTables-".concat(e),n=localStorage.getItem(t);if(n)try{const t=JSON.parse(n);if(!t.find(e=>"hospitals"===e.id)){console.log("Missing hospitals table for ".concat(e,", reinitializing..."));const t=y(e).filter(e=>"countries"!==e.id);S(t,e)}}catch(r){console.error("Error parsing country code tables for ".concat(e,", reinitializing:"),r);const t=y(e).filter(e=>"countries"!==e.id);S(t,e)}else{const t=y(e).filter(e=>"countries"!==e.id);S(t,e),console.log("Initialized country-specific code tables for ".concat(e))}},k=e=>{switch(e){case"Singapore":return["Singapore General Hospital","Mount Elizabeth Hospital","Raffles Hospital","National University Hospital","Changi General Hospital","Tan Tock Seng Hospital","KK Women's and Children's Hospital","Institute of Mental Health","National Cancer Centre Singapore","Singapore National Eye Centre"];case"Malaysia":return["Kuala Lumpur Hospital","University Malaya Medical Centre","Gleneagles Kuala Lumpur","Pantai Hospital Kuala Lumpur","Prince Court Medical Centre","Sunway Medical Centre","Hospital Sultanah Aminah","Penang General Hospital"];case"Philippines":return["Philippine General Hospital","St. Luke's Medical Center","The Medical City","Makati Medical Center","Asian Hospital and Medical Center","Cardinal Santos Medical Center","Jose Reyes Memorial Medical Center"];case"Indonesia":return["Cipto Mangunkusumo Hospital","Siloam Hospitals","RS Pondok Indah","Mayapada Hospital","MRCCC Siloam Hospitals Semanggi","Jakarta Heart Center","Rumah Sakit Premier Bintaro"];case"Vietnam":return["Cho Ray Hospital","Bach Mai Hospital","Vinmec Central Park","FV Hospital","University Medical Center HCMC","Gia Dinh People's Hospital","Columbia Asia Saigon"];case"Hong Kong":return["Queen Mary Hospital","Prince of Wales Hospital","Hong Kong Sanatorium & Hospital","Baptist Hospital","Gleneagles Hong Kong Hospital","Union Hospital","St. Paul's Hospital"];case"Thailand":return["Siriraj Hospital","Chulalongkorn Hospital","Bumrungrad International Hospital","Bangkok Hospital","Samitivej Hospital","BNH Hospital","Ramathibodi Hospital"];default:return["Singapore General Hospital","Mount Elizabeth Hospital","Raffles Hospital","National University Hospital"]}};var C=n(414);const D=e=>{let{id:t,value:n,onChange:a,options:s,placeholder:o="Select an option",className:i="",required:l=!1,disabled:c=!1}=e;const[d,u]=(0,r.useState)(!1),[p,m]=(0,r.useState)(""),[h,f]=(0,r.useState)(-1),g=(0,r.useRef)(null),v=(0,r.useRef)(null),y=s.map(e=>"string"===typeof e?{value:e,label:e}:e),b=y.filter(e=>e.label.toLowerCase().includes(p.toLowerCase())||p.toLowerCase().split("").every(t=>e.label.toLowerCase().includes(t)));(0,r.useEffect)(()=>{const e=e=>{g.current&&!g.current.contains(e.target)&&(u(!1),m(""),f(-1))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const x=e=>{var t;a(e.value),u(!1),m(""),f(-1),null===(t=v.current)||void 0===t||t.blur()},w=()=>{c||(u(!d),d||(m(""),f(-1)))},S=y.find(e=>e.value===n),N=S?S.label:"";return(0,C.jsxs)("div",{ref:g,className:"searchable-dropdown ".concat(i," ").concat(c?"disabled":""),children:[(0,C.jsxs)("div",{className:"dropdown-input-container",children:[(0,C.jsx)("input",{ref:v,id:t,type:"text",value:d?p:N,onChange:e=>{const t=e.target.value;m(t),u(!0),f(-1)},onClick:w,onKeyDown:e=>{var t;if(!c)switch(e.key){case"ArrowDown":e.preventDefault(),d?f(e=>e<b.length-1?e+1:0):u(!0);break;case"ArrowUp":e.preventDefault(),d&&f(e=>e>0?e-1:b.length-1);break;case"Enter":e.preventDefault(),d&&h>=0&&b[h]?x(b[h]):d||u(!0);break;case"Escape":u(!1),m(""),f(-1),null===(t=v.current)||void 0===t||t.blur();break;case"Tab":u(!1),m(""),f(-1)}},placeholder:o,className:"dropdown-input ".concat(n?"has-value":""),disabled:c,required:l,autoComplete:"off"}),(0,C.jsx)("button",{type:"button",className:"dropdown-arrow ".concat(d?"open":""),onClick:w,disabled:c,tabIndex:-1,children:(0,C.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",children:(0,C.jsx)("path",{d:"M2 4l4 4 4-4",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),d&&!c&&(0,C.jsx)("div",{className:"dropdown-options",children:b.length>0?(0,C.jsxs)(C.Fragment,{children:[p&&(0,C.jsxs)("div",{className:"search-info",children:[b.length," result",1!==b.length?"s":""," found"]}),b.map((e,t)=>(0,C.jsx)("div",{className:"dropdown-option ".concat(t===h?"focused":""," ").concat(n===e.value?"selected":""),onClick:()=>x(e),onMouseEnter:()=>f(t),children:p?(0,C.jsx)("span",{dangerouslySetInnerHTML:{__html:e.label.replace(new RegExp("(".concat(p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),")"),"gi"),"<mark>$1</mark>")}}):e.label},e.value))]}):(0,C.jsxs)("div",{className:"no-results",children:['No results found for "',p,'"']})})]})},E=e=>{let{onLogin:t}=e;const[n,a]=(0,r.useState)(""),[s,i]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[d,u]=(0,r.useState)(""),[p,m]=(0,r.useState)(!1),[g,v]=(0,r.useState)(!1),[y,b]=(0,r.useState)([]),x=(0,r.useRef)(null);(0,r.useEffect)(()=>{N();const e=w();b(e)},[]),(0,r.useEffect)(()=>{x.current&&x.current.setCustomValidity(l?"":"Please select a country.")},[l]);return(0,C.jsx)("div",{className:"modern-login-container",children:(0,C.jsxs)("div",{className:"login-split-screen",children:[(0,C.jsx)("div",{className:"login-left",children:(0,C.jsxs)("div",{className:"login-branding",children:[(0,C.jsx)("div",{className:"brand-logo",children:(0,C.jsx)("img",{src:"https://www.transmedicgroup.com/wp-content/themes/transmedic/transmedic_assets/images/logo/logo-v5-transmedic-header-small.svg",alt:"Transmedic Logo",className:"logo-image"})}),(0,C.jsx)("h2",{className:"brand-subtitle",children:"Case Booking System"}),(0,C.jsx)("p",{className:"brand-description",children:"Streamline your medical case management with our comprehensive booking platform"}),(0,C.jsxs)("div",{className:"feature-list",children:[(0,C.jsxs)("div",{className:"feature-item",children:[(0,C.jsx)("span",{className:"feature-icon",children:"\ud83d\udccb"}),(0,C.jsx)("span",{children:"Easy Case Management"})]}),(0,C.jsxs)("div",{className:"feature-item",children:[(0,C.jsx)("span",{className:"feature-icon",children:"\u26a1"}),(0,C.jsx)("span",{children:"Real-time Updates"})]}),(0,C.jsxs)("div",{className:"feature-item",children:[(0,C.jsx)("span",{className:"feature-icon",children:"\ud83d\udd12"}),(0,C.jsx)("span",{children:"Secure & Reliable"})]})]})]})}),(0,C.jsx)("div",{className:"login-right",children:(0,C.jsxs)("div",{className:"login-form-container",children:[(0,C.jsxs)("div",{className:"form-header",children:[(0,C.jsx)("h3",{className:"welcome-title",children:"Welcome Back"}),(0,C.jsx)("p",{className:"welcome-subtitle",children:"Please sign in to your account"})]}),(0,C.jsxs)("form",{onSubmit:async e=>(e.preventDefault(),m(!0),u(""),l?n?s?void setTimeout(()=>{const e=((e,t,n)=>{const r=f().find(n=>n.username.toLowerCase()===e.toLowerCase()&&n.password===t);if(!r)return{user:null,error:"Invalid username or password"};if(void 0!==r.enabled&&!r.enabled)return{user:null,error:"Your account has been disabled. Please contact your administrator."};if("admin"===r.role||r.countries&&r.countries.includes(n)){const e=(0,o.A)((0,o.A)({},r),{},{selectedCountry:n});return localStorage.setItem(h,JSON.stringify(e)),{user:e}}return{user:null,error:"Your account is not assigned to the selected country"}})(n,s,l);e.user?t(e.user):(u(e.error||"Login failed"),m(!1))},1e3):(u("Please enter your password"),void m(!1)):(u("Please enter your username"),void m(!1)):(u("Please select a country"),void m(!1))),className:"modern-login-form",children:[(0,C.jsxs)("div",{className:"floating-input-group",children:[(0,C.jsx)("input",{type:"text",id:"username",value:n,onChange:e=>a(e.target.value),className:n?"has-value":"",disabled:p,autoComplete:"username"}),(0,C.jsx)("label",{htmlFor:"username",children:"Username"}),(0,C.jsx)("div",{className:"input-underline"})]}),(0,C.jsxs)("div",{className:"floating-input-group password-input-group",children:[(0,C.jsx)("input",{type:g?"text":"password",id:"password",value:s,onChange:e=>i(e.target.value),className:s?"has-value":"",disabled:p,autoComplete:"current-password"}),(0,C.jsx)("label",{htmlFor:"password",children:"Password"}),(0,C.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm password-toggle",onClick:()=>v(!g),disabled:p,"aria-label":g?"Hide password":"Show password",children:g?"\ud83d\udc41\ufe0f":"\ud83d\udc41\ufe0f\u200d\ud83d\udde8\ufe0f"}),(0,C.jsx)("div",{className:"input-underline"})]}),(0,C.jsxs)("div",{className:"dropdown-input-group",children:[(0,C.jsx)("label",{htmlFor:"country",className:"dropdown-label required",children:"Country"}),(0,C.jsx)(D,{id:"country",options:y.map(e=>({value:e,label:e})),value:l,onChange:e=>c(e),placeholder:"Select Country",disabled:p,className:"login-dropdown"})]}),d&&(0,C.jsxs)("div",{className:"modern-error-message",children:[(0,C.jsx)("span",{className:"error-icon",children:"\u26a0\ufe0f"}),d]}),(0,C.jsx)("button",{type:"submit",className:"btn btn-primary btn-lg full-width-button ".concat(p?"loading":""),disabled:p,children:p?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:"button-spinner"}),(0,C.jsx)("span",{children:"Signing In..."})]}):"Sign In"})]}),(0,C.jsx)("div",{className:"login-footer",children:(0,C.jsxs)("div",{className:"demo-credentials",children:[(0,C.jsx)("p",{className:"demo-title",children:"Demo Credentials:"}),(0,C.jsxs)("div",{className:"credential-item",children:[(0,C.jsx)("strong",{children:"Admin:"})," Admin / Admin"]})]})})]})})]})})},I="case-booking-cases",P="case-booking-counter",A=()=>{const e=localStorage.getItem(I);return e?JSON.parse(e):[]},O=(e,t,n,r)=>{const a=A(),s=a.findIndex(t=>t.id===e);if(s>=0){const e=a[s],i=(new Date).toISOString();e.statusHistory||(e.statusHistory=[],e.statusHistory.push({status:"Case Booked",timestamp:e.submittedAt,processedBy:e.submittedBy,details:"Case initially submitted"}));const l={status:t,timestamp:i,processedBy:n||"System",details:r};if(e.statusHistory.push(l),e.status=t,n&&(e.processedBy=n,e.processedAt=i),r)try{const n=JSON.parse(r);"Delivered (Hospital)"===t&&void 0!==n.deliveryDetails?(e.deliveryDetails=n.deliveryDetails,e.deliveryImage=n.deliveryImage):"Case Completed"===t&&void 0!==n.attachments?(e.attachments=n.attachments,e.orderSummary=n.orderSummary,e.doNumber=n.doNumber):"Order Prepared"!==t&&"Order Preparation"!==t||(e.processOrderDetails=r)}catch(o){"Order Prepared"!==t&&"Order Preparation"!==t||(e.processOrderDetails=r)}a.splice(s,1),a.unshift(e),localStorage.setItem(I,JSON.stringify(a))}},T=(e,t)=>{t?localStorage.setItem("categorized-sets-".concat(t),JSON.stringify(e)):localStorage.setItem("categorized-sets",JSON.stringify(e))},_=e=>{if(e){const t=localStorage.getItem("categorized-sets-".concat(e));if(t)return JSON.parse(t)}const t=localStorage.getItem("categorized-sets");if(t){const n=JSON.parse(t);return e&&Object.keys(n).length>0?(T(n,e),n):n}return{}},M="custom_procedure_types",R="hidden_procedure_types",L=e=>{try{const t=e?"".concat(M,"_").concat(e):M,n=localStorage.getItem(t);if(n)return JSON.parse(n);if(e){const t=localStorage.getItem(M);if(t){const n=JSON.parse(t);return F(n,e),n}}return[]}catch(t){return console.error("Error loading custom procedure types:",t),[]}},F=(e,t)=>{try{const n=t?"".concat(M,"_").concat(t):M;localStorage.setItem(n,JSON.stringify(e))}catch(n){console.error("Error saving custom procedure types:",n)}},B=e=>{try{const t=e?"".concat(R,"_").concat(e):R,n=localStorage.getItem(t);if(n)return JSON.parse(n);if(e){const t=localStorage.getItem(R);if(t){const n=JSON.parse(t);return H(n,e),n}}return[]}catch(t){return console.error("Error loading hidden procedure types:",t),[]}},H=(e,t)=>{try{const n=t?"".concat(R,"_").concat(t):R;localStorage.setItem(n,JSON.stringify(e))}catch(n){console.error("Error saving hidden procedure types:",n)}},z=e=>{const t=L(e),n=B(e);return[...["Knee","Head","Hip","Hands","Neck","Spine"].filter(e=>!n.includes(e)),...t]},U=e=>{let{id:t,label:n,options:a,value:s,onChange:o,placeholder:i="Select options...",required:l=!1,className:c=""}=e;const[d,u]=(0,r.useState)(!1),[p,m]=(0,r.useState)(""),h=(0,r.useRef)(null),f=(0,r.useRef)(null);(0,r.useEffect)(()=>{const e=e=>{h.current&&!h.current.contains(e.target)&&(u(!1),m(""))};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,r.useEffect)(()=>{const e=e=>{"Escape"===e.key&&d&&(u(!1),m(""))};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[d]),(0,r.useEffect)(()=>{d&&f.current&&f.current.focus()},[d]);const g=()=>{if(!p.trim())return[...a];const e=p.toLowerCase();return a.filter(t=>t.toLowerCase().includes(e)||e.split("").every((n,r)=>{const a=e.slice(r);return t.toLowerCase().includes(a.charAt(0))}))},v=(0,r.useMemo)(()=>0===s.length?i:1===s.length?s[0]:"".concat(s.length," items selected"),[s,i]);return(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{htmlFor:t,className:l?"required":"",children:n}),(0,C.jsxs)("div",{ref:h,className:"custom-multi-select ".concat(c),children:[(0,C.jsxs)("div",{className:"multi-select-trigger",onClick:()=>u(!d),tabIndex:0,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),u(!d))},children:[(0,C.jsx)("span",{className:0===s.length?"placeholder":"selected-text",children:v}),(0,C.jsx)("span",{className:"dropdown-arrow ".concat(d?"open":""),children:"\u25bc"})]}),d&&(0,C.jsxs)("div",{className:"multi-select-dropdown-content",children:[(0,C.jsxs)("div",{className:"dropdown-header",children:[(0,C.jsx)("input",{ref:f,type:"text",className:"search-input",placeholder:"Search options...",value:p,onChange:e=>m(e.target.value),onClick:e=>e.stopPropagation()}),(0,C.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-sm select-all-btn",onClick:()=>{const e=g();if(e.every(e=>s.includes(e))){const t=s.filter(t=>!e.includes(t));o(t)}else{const t=Array.from(new Set([...s,...e]));o(t)}},children:g().every(e=>s.includes(e))?"Deselect All":"Select All"})]}),(0,C.jsxs)("div",{className:"options-container",children:[g().map(e=>(0,C.jsxs)("label",{className:"multi-select-option",children:[(0,C.jsx)("input",{type:"checkbox",checked:s.includes(e),onChange:()=>(e=>{const t=s.includes(e)?s.filter(t=>t!==e):[...s,e];o(t)})(e)}),(0,C.jsx)("span",{className:"checkmark"}),(0,C.jsx)("span",{className:"option-text",children:e})]},e)),0===g().length&&(0,C.jsx)("div",{className:"no-options",children:"No options found"})]})]})]})]})},Y=(0,r.memo)(U),W=e=>{let{id:t,value:n,onChange:a,className:s="",disabled:o=!1,placeholder:i="Select time","aria-describedby":l,required:c=!1,step:d=15}=e;const[u,p]=(0,r.useState)(!1),[m,h]=(0,r.useState)(""),f=(0,r.useRef)(null),g=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(n){const[e,t]=n.split(":").map(Number);if(!isNaN(e)&&!isNaN(t)){const n=new Date;n.setHours(e,t),h(n.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}))}}else h("")},[n]),(0,r.useEffect)(()=>{const e=e=>{f.current&&!f.current.contains(e.target)&&p(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,r.useEffect)(()=>{const e=e=>{var t;"Escape"===e.key&&u&&(p(!1),null===(t=g.current)||void 0===t||t.focus())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[u]);const v=e=>{a(e),p(!1)},y=(()=>{const e=[];for(let t=0;t<24;t++)for(let n=0;n<60;n+=d){const r="".concat(t.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0")),a=new Date;a.setHours(t,n);const s=a.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});e.push({value:r,display:s})}return e})();return(0,C.jsxs)("div",{className:"time-picker-container ".concat(s),ref:f,children:[(0,C.jsxs)("div",{className:"time-picker-input ".concat(o?"disabled":""," ").concat(u?"open":""),onClick:()=>{o||p(!u)},children:[(0,C.jsx)("input",{ref:g,id:t,type:"text",value:m,placeholder:i,readOnly:!0,disabled:o,className:"time-display-input","aria-describedby":l,required:c,"aria-expanded":u,"aria-haspopup":"listbox","aria-controls":"time-options-list",role:"combobox"}),(0,C.jsxs)("div",{className:"time-picker-icons",children:[n&&!o&&(0,C.jsx)("button",{type:"button",className:"time-clear-button",onClick:e=>{e.stopPropagation(),a(""),p(!1)},"aria-label":"Clear time",children:"\u2715"}),(0,C.jsx)("span",{className:"time-picker-icon",children:"\ud83d\udd50"})]})]}),u&&(0,C.jsxs)("div",{className:"time-picker-dropdown",children:[(0,C.jsxs)("div",{className:"time-picker-header",children:[(0,C.jsx)("h4",{children:"Select Time"}),(0,C.jsx)("button",{type:"button",className:"time-picker-close",onClick:()=>p(!1),"aria-label":"Close time picker",children:"\u2715"})]}),(0,C.jsxs)("div",{className:"time-input-section",children:[(0,C.jsx)("label",{htmlFor:"".concat(t,"-native"),children:"Enter specific time:"}),(0,C.jsx)("input",{id:"".concat(t,"-native"),type:"time",value:n,onChange:e=>{const t=e.target.value;a(t),p(!1)},className:"native-time-input"})]}),(0,C.jsxs)("div",{className:"time-shortcuts-section",children:[(0,C.jsx)("h5",{children:"Common Procedure Times:"}),(0,C.jsx)("div",{className:"time-shortcuts",children:[{value:"08:00",display:"8:00 AM"},{value:"09:00",display:"9:00 AM"},{value:"10:00",display:"10:00 AM"},{value:"11:00",display:"11:00 AM"},{value:"13:00",display:"1:00 PM"},{value:"14:00",display:"2:00 PM"},{value:"15:00",display:"3:00 PM"},{value:"16:00",display:"4:00 PM"}].map(e=>(0,C.jsx)("button",{type:"button",onClick:()=>v(e.value),className:"time-shortcut-button ".concat(n===e.value?"selected":""),children:e.display},e.value))})]}),(0,C.jsxs)("div",{className:"time-options-section",children:[(0,C.jsx)("h5",{children:"All Times:"}),(0,C.jsx)("div",{className:"time-options-list",id:"time-options-list",children:y.map(e=>(0,C.jsx)("button",{type:"button",onClick:()=>v(e.value),className:"time-option-button ".concat(n===e.value?"selected":""),children:e.display},e.value))})]})]})]})},V=e=>{let{isOpen:t,onClose:n,title:a,message:s,type:o="alert",actions:i,autoClose:l=!1,autoCloseDelay:c=3e3}=e;if(r.useEffect(()=>{if(t&&l){const e=setTimeout(()=>{n()},c);return()=>clearTimeout(e)}},[t,l,c,n]),r.useEffect(()=>{const e=e=>{"Escape"===e.key&&t&&n()};return t&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[t,n]),!t)return null;const d=i||("confirm"===o?[{label:"Cancel",onClick:n,style:"secondary"},{label:"Confirm",onClick:()=>{n()},style:"danger"}]:[{label:"OK",onClick:n,style:"primary"}]);return(0,C.jsx)("div",{className:"custom-modal-overlay",onClick:n,children:(0,C.jsxs)("div",{className:"custom-modal custom-modal-".concat(o),onClick:e=>e.stopPropagation(),children:[(0,C.jsxs)("div",{className:"custom-modal-header",children:[(0,C.jsx)("div",{className:"custom-modal-icon",children:(()=>{switch(o){case"success":return"\u2705";case"error":return"\u274c";case"warning":return"\u26a0\ufe0f";case"confirm":return"\u2753";case"info":return"\u2139\ufe0f";default:return"\ud83d\udcac"}})()}),(0,C.jsx)("h3",{className:"custom-modal-title",children:a}),(0,C.jsx)("button",{className:"custom-modal-close",onClick:n,"aria-label":"Close modal",children:"\xd7"})]}),(0,C.jsx)("div",{className:"custom-modal-body",children:(0,C.jsx)("p",{className:"custom-modal-message",children:s})}),(0,C.jsx)("div",{className:"custom-modal-footer",children:d.map((e,t)=>(0,C.jsx)("button",{className:"custom-modal-btn custom-modal-btn-".concat(e.style||"primary"),onClick:e.onClick,children:e.label},t))})]})})},q={isOpen:!1,title:"",message:"",type:"alert",onConfirm:void 0,autoClose:!1,autoCloseDelay:3e3},Q=()=>{const[e,t]=(0,r.useState)(q),n=(0,r.useCallback)(()=>{t(q)},[]),a=(0,r.useCallback)(function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info";t({isOpen:!0,title:e,message:n,type:r,autoClose:"success"===r,autoCloseDelay:3e3})},[]),s=(0,r.useCallback)((e,r,a)=>{t({isOpen:!0,title:e,message:r,type:"confirm",onConfirm:()=>{a(),n()},autoClose:!1})},[n]),i=(0,r.useCallback)(e=>{a("Alert",e,"info")},[a]),l=(0,r.useCallback)(e=>new Promise(r=>{t({isOpen:!0,title:"Confirm",message:e,type:"confirm",onConfirm:()=>{r(!0),n()},autoClose:!1});const a=n;t(e=>(0,o.A)((0,o.A)({},e),{},{onConfirm:()=>{r(!0),a()}}))}),[n]),c=(0,r.useCallback)(function(e){a(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Success",e,"success")},[a]),d=(0,r.useCallback)(function(e){a(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Error",e,"error")},[a]),u=(0,r.useCallback)(function(e){a(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Warning",e,"warning")},[a]),p=(0,r.useCallback)(function(e){a(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Information",e,"info")},[a]);return{modal:e,closeModal:n,showAlert:a,showConfirm:s,alert:i,confirm:l,showSuccess:c,showError:d,showWarning:u,showInfo:p}};function K(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=K(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function J(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=K(e))&&(r&&(r+=" "),r+=t);return r}Math.pow(10,8);const G=6048e5,$=6e4,X=36e5,Z=Symbol.for("constructDateFrom");function ee(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&Z in e?e[Z](t):e instanceof Date?new e.constructor(t):new Date(t)}function te(e,t){return ee(t||e,e)}function ne(e,t){var n;const r=()=>ee(null===t||void 0===t?void 0:t.in,NaN),a=null!==(n=null===t||void 0===t?void 0:t.additionalDigits)&&void 0!==n?n:2,s=function(e){const t={},n=e.split(re.dateTimeDelimiter);let r;if(n.length>2)return t;/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],re.timeZoneDelimiter.test(t.date)&&(t.date=e.split(re.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length)));if(r){const e=re.timezone.exec(r);e?(t.time=r.replace(e[1],""),t.timezone=e[1]):t.time=r}return t}(e);let o;if(s.date){const e=function(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:null===s?a:100*s,restDateString:e.slice((r[1]||r[2]).length)}}(s.date,a);o=function(e,t){if(null===t)return new Date(NaN);const n=e.match(ae);if(!n)return new Date(NaN);const r=!!n[4],a=ie(n[1]),s=ie(n[2])-1,o=ie(n[3]),i=ie(n[4]),l=ie(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,i,l)?function(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const a=r.getUTCDay()||7,s=7*(t-1)+n+1-a;return r.setUTCDate(r.getUTCDate()+s),r}(t,i,l):new Date(NaN);{const e=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(ce[t]||(de(e)?29:28))}(t,s,o)&&function(e,t){return t>=1&&t<=(de(e)?366:365)}(t,a)?(e.setUTCFullYear(t,s,Math.max(a,o)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!o||isNaN(+o))return r();const i=+o;let l,c=0;if(s.time&&(c=function(e){const t=e.match(se);if(!t)return NaN;const n=le(t[1]),r=le(t[2]),a=le(t[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,a))return NaN;return n*X+r*$+1e3*a}(s.time),isNaN(c)))return r();if(!s.timezone){const e=new Date(i+c),n=te(0,null===t||void 0===t?void 0:t.in);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}return l=function(e){if("Z"===e)return 0;const t=e.match(oe);if(!t)return 0;const n="+"===t[1]?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,a))return NaN;return n*(r*X+a*$)}(s.timezone),isNaN(l)?r():te(i+c+l,null===t||void 0===t?void 0:t.in)}const re={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ae=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,se=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,oe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ie(e){return e?parseInt(e):1}function le(e){return e&&parseFloat(e.replace(",","."))||0}const ce=[31,null,31,30,31,30,31,31,30,31,30,31];function de(e){return e%400===0||e%4===0&&e%100!==0}const ue={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function pe(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const me={date:pe({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:pe({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:pe({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},he={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function fe(e){return(t,n)=>{let r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,a=null!==n&&void 0!==n&&n.width?String(n.width):t;r=e.formattingValues[a]||e.formattingValues[t]}else{const t=e.defaultWidth,a=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[a]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const ge={ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:fe({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:fe({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:fe({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:fe({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:fe({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function ve(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const o=s[0],i=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(i)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(i,e=>e.test(o)):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(i,e=>e.test(o));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(o.length)}}}const ye={ordinalNumber:(be={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.match(be.matchPattern);if(!n)return null;const r=n[0],a=e.match(be.parsePattern);if(!a)return null;let s=be.valueCallback?be.valueCallback(a[0]):a[0];return s=t.valueCallback?t.valueCallback(s):s,{value:s,rest:e.slice(r.length)}}),era:ve({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:ve({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:ve({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:ve({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:ve({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};var be;const xe={code:"en-US",formatDistance:(e,t,n)=>{let r;const a=ue[e];return r="string"===typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:me,formatRelative:(e,t,n,r)=>he[e],localize:ge,match:ye,options:{weekStartsOn:0,firstWeekContainsDate:1}},we=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Se=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Ne={p:Se,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return we(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;default:s=t.dateTime({width:"full"})}return s.replace("{{date}}",we(r,t)).replace("{{time}}",Se(a,t))}},je=/^D+$/,ke=/^Y+$/,Ce=["D","DD","YY","YYYY"];function De(e){return je.test(e)}function Ee(e){return ke.test(e)}function Ie(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return"Use `".concat(e.toLowerCase(),"` instead of `").concat(e,"` (in `").concat(t,"`) for formatting ").concat(r," to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}(e,t,n);if(console.warn(r),Ce.includes(e))throw new RangeError(r)}let Pe={};function Ae(){return Pe}function Oe(){return Object.assign({},Ae())}var Te=n(705);function _e(e,t){const n=function(e){var t;return"function"===typeof e&&(null===(t=e.prototype)||void 0===t?void 0:t.constructor)===e}(t)?new t(0):ee(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}class Me{constructor(){(0,Te.A)(this,"subPriority",0)}validate(e,t){return!0}}class Re extends Me{constructor(e,t,n,r,a){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=r,a&&(this.subPriority=a)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class Le extends Me{constructor(e,t){super(),(0,Te.A)(this,"priority",10),(0,Te.A)(this,"subPriority",-1),this.context=e||(e=>ee(t,e))}set(e,t){return t.timestampIsSet?e:ee(e,_e(e,this.context))}}class Fe{run(e,t,n,r){const a=this.parse(e,t,n,r);return a?{setter:new Re(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(e,t,n){return!0}}const Be=/^(1[0-2]|0?\d)/,He=/^(3[0-1]|[0-2]?\d)/,ze=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,Ue=/^(5[0-3]|[0-4]?\d)/,Ye=/^(2[0-3]|[0-1]?\d)/,We=/^(2[0-4]|[0-1]?\d)/,Ve=/^(1[0-1]|0?\d)/,qe=/^(1[0-2]|0?\d)/,Qe=/^[0-5]?\d/,Ke=/^[0-5]?\d/,Je=/^\d/,Ge=/^\d{1,2}/,$e=/^\d{1,3}/,Xe=/^\d{1,4}/,Ze=/^-?\d+/,et=/^-?\d/,tt=/^-?\d{1,2}/,nt=/^-?\d{1,3}/,rt=/^-?\d{1,4}/,at=/^([+-])(\d{2})(\d{2})?|Z/,st=/^([+-])(\d{2})(\d{2})|Z/,ot=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,it=/^([+-])(\d{2}):(\d{2})|Z/,lt=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function ct(e,t){return e?{value:t(e.value),rest:e.rest}:e}function dt(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function ut(e,t){const n=t.match(e);if(!n)return null;if("Z"===n[0])return{value:0,rest:t.slice(1)};const r="+"===n[1]?1:-1,a=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(a*X+s*$+1e3*o),rest:t.slice(n[0].length)}}function pt(e){return dt(Ze,e)}function mt(e,t){switch(e){case 1:return dt(Je,t);case 2:return dt(Ge,t);case 3:return dt($e,t);case 4:return dt(Xe,t);default:return dt(new RegExp("^\\d{1,"+e+"}"),t)}}function ht(e,t){switch(e){case 1:return dt(et,t);case 2:return dt(tt,t);case 3:return dt(nt,t);case 4:return dt(rt,t);default:return dt(new RegExp("^-?\\d{1,"+e+"}"),t)}}function ft(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function gt(e,t){const n=t>0,r=n?t:1-t;let a;if(r<=50)a=e||100;else{const t=r+50;a=e+100*Math.trunc(t/100)-(e>=t%100?100:0)}return n?a:1-a}function vt(e){return e%400===0||e%4===0&&e%100!==0}function yt(e,t){var n,r,a,s,o,i;const l=Ae(),c=null!==(n=null!==(r=null!==(a=null!==(s=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==s?s:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==a?a:l.weekStartsOn)&&void 0!==r?r:null===(i=l.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.weekStartsOn)&&void 0!==n?n:0,d=te(e,null===t||void 0===t?void 0:t.in),u=d.getDay(),p=(u<c?7:0)+u-c;return d.setDate(d.getDate()-p),d.setHours(0,0,0,0),d}function bt(e,t){var n,r,a,s,o,i;const l=te(e,null===t||void 0===t?void 0:t.in),c=l.getFullYear(),d=Ae(),u=null!==(n=null!==(r=null!==(a=null!==(s=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==s?s:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==a?a:d.firstWeekContainsDate)&&void 0!==r?r:null===(i=d.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.firstWeekContainsDate)&&void 0!==n?n:1,p=ee((null===t||void 0===t?void 0:t.in)||e,0);p.setFullYear(c+1,0,u),p.setHours(0,0,0,0);const m=yt(p,t),h=ee((null===t||void 0===t?void 0:t.in)||e,0);h.setFullYear(c,0,u),h.setHours(0,0,0,0);const f=yt(h,t);return+l>=+m?c+1:+l>=+f?c:c-1}function xt(e,t){return yt(e,(0,o.A)((0,o.A)({},t),{},{weekStartsOn:1}))}function wt(e,t){var n,r,a,s,o,i;const l=Ae(),c=null!==(n=null!==(r=null!==(a=null!==(s=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==s?s:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==a?a:l.firstWeekContainsDate)&&void 0!==r?r:null===(i=l.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.firstWeekContainsDate)&&void 0!==n?n:1,d=bt(e,t),u=ee((null===t||void 0===t?void 0:t.in)||e,0);u.setFullYear(d,0,c),u.setHours(0,0,0,0);return yt(u,t)}function St(e,t){const n=te(e,null===t||void 0===t?void 0:t.in),r=+yt(n,t)-+wt(n,t);return Math.round(r/G)+1}function Nt(e,t,n){const r=te(e,null===n||void 0===n?void 0:n.in),a=St(r,n)-t;return r.setDate(r.getDate()-7*a),te(r,null===n||void 0===n?void 0:n.in)}function jt(e,t){const n=te(e,null===t||void 0===t?void 0:t.in),r=n.getFullYear(),a=ee(n,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const s=xt(a),o=ee(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const i=xt(o);return n.getTime()>=s.getTime()?r+1:n.getTime()>=i.getTime()?r:r-1}function kt(e,t){const n=jt(e,t),r=ee((null===t||void 0===t?void 0:t.in)||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),xt(r)}function Ct(e,t){const n=te(e,null===t||void 0===t?void 0:t.in),r=+xt(n)-+kt(n);return Math.round(r/G)+1}function Dt(e,t,n){const r=te(e,null===n||void 0===n?void 0:n.in),a=Ct(r,n)-t;return r.setDate(r.getDate()-7*a),r}const Et=[31,28,31,30,31,30,31,31,30,31,30,31],It=[31,29,31,30,31,30,31,31,30,31,30,31];function Pt(e,t,n){const r=te(e,null===n||void 0===n?void 0:n.in);return isNaN(t)?ee((null===n||void 0===n?void 0:n.in)||e,NaN):t?(r.setDate(r.getDate()+t),r):r}function At(e,t,n){var r,a,s,o,i,l;const c=Ae(),d=null!==(r=null!==(a=null!==(s=null!==(o=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==o?o:null===n||void 0===n||null===(i=n.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.weekStartsOn)&&void 0!==s?s:c.weekStartsOn)&&void 0!==a?a:null===(l=c.locale)||void 0===l||null===(l=l.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==r?r:0,u=te(e,null===n||void 0===n?void 0:n.in),p=u.getDay(),m=7-d;return Pt(u,t<0||t>6?t-(p+m)%7:((t%7+7)%7+m)%7-(p+m)%7,n)}function Ot(e,t){const n=te(e,null===t||void 0===t?void 0:t.in).getDay();return 0===n?7:n}function Tt(e,t,n){const r=te(e,null===n||void 0===n?void 0:n.in);return Pt(r,t-Ot(r,n),n)}function _t(e){const t=te(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}const Mt={G:new class extends Fe{constructor(){super(...arguments),(0,Te.A)(this,"priority",140),(0,Te.A)(this,"incompatibleTokens",["R","u","t","T"])}parse(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}},y:new class extends Fe{constructor(){super(...arguments),(0,Te.A)(this,"priority",130),(0,Te.A)(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"yy"===t});switch(t){case"y":return ct(mt(4,e),r);case"yo":return ct(n.ordinalNumber(e,{unit:"year"}),r);default:return ct(mt(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){const r=e.getFullYear();if(n.isTwoDigitYear){const t=gt(n.year,r);return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}const a="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}},Y:new class extends Fe{constructor(){super(...arguments),(0,Te.A)(this,"priority",130),(0,Te.A)(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"YY"===t});switch(t){case"Y":return ct(mt(4,e),r);case"Yo":return ct(n.ordinalNumber(e,{unit:"year"}),r);default:return ct(mt(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,r){const a=bt(e,r);if(n.isTwoDigitYear){const t=gt(n.year,a);return e.setFullYear(t,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),yt(e,r)}const s="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(s,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),yt(e,r)}},R:new class extends Fe{constructor(){super(...arguments),(0,Te.A)(this,"priority",130),(0,Te.A)(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(e,t){return ht("R"===t?4:t.length,e)}set(e,t,n){const r=ee(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),xt(r)}},u:new class extends Fe{constructor(){super(...arguments),(0,Te.A)(this,"priority",130),(0,Te.A)(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(e,t){return ht("u"===t?4:t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}},Q:new class extends Fe{constructor(){super(...arguments),(0,Te.A)(this,"priority",120),(0,Te.A)(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,t,n){switch(t){case"Q":case"QQ":return mt(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}},q:new class extends Fe{constructor(){super(...arguments),(0,Te.A)(this,"priority",120),(0,Te.A)(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,t,n){switch(t){case"q":case"qq":return mt(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}},M:new class extends Fe{constructor(){super(...arguments),(0,Te.A)(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),(0,Te.A)(this,"priority",110)}parse(e,t,n){const r=e=>e-1;switch(t){case"M":return ct(dt(Be,e),r);case"MM":return ct(mt(2,e),r);case"Mo":return ct(n.ordinalNumber(e,{unit:"month"}),r);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}},L:new class extends Fe{constructor(){super(...arguments),(0,Te.A)(this,"priority",110),(0,Te.A)(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(e,t,n){const r=e=>e-1;switch(t){case"L":return ct(dt(Be,e),r);case"LL":return ct(mt(2,e),r);case"Lo":return ct(n.ordinalNumber(e,{unit:"month"}),r);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}},w:new class extends Fe{constructor(){super(...arguments),(0,Te.A)(this,"priority",100),(0,Te.A)(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(e,t,n){switch(t){case"w":return dt(Ue,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return mt(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,r){return yt(Nt(e,n,r),r)}},I:new class extends Fe{constructor(){super(...arguments),(0,Te.A)(this,"priority",100),(0,Te.A)(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(e,t,n){switch(t){case"I":return dt(Ue,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return mt(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return xt(Dt(e,n))}},d:new class extends Fe{constructor(){super(...arguments),(0,Te.A)(this,"priority",90),(0,Te.A)(this,"subPriority",1),(0,Te.A)(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(e,t,n){switch(t){case"d":return dt(He,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return mt(t.length,e)}}validate(e,t){const n=vt(e.getFullYear()),r=e.getMonth();return n?t>=1&&t<=It[r]:t>=1&&t<=Et[r]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}},D:new class extends Fe{constructor(){super(...arguments),(0,Te.A)(this,"priority",90),(0,Te.A)(this,"subpriority",1),(0,Te.A)(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(e,t,n){switch(t){case"D":case"DD":return dt(ze,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return mt(t.length,e)}}validate(e,t){return vt(e.getFullYear())?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}},E:new class extends Fe{constructor(){super(...arguments),(0,Te.A)(this,"priority",90),(0,Te.A)(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=At(e,n,r)).setHours(0,0,0,0),e}},e:new class extends Fe{constructor(){super(...arguments),(0,Te.A)(this,"priority",90),(0,Te.A)(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(e,t,n,r){const a=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return ct(mt(t.length,e),a);case"eo":return ct(n.ordinalNumber(e,{unit:"day"}),a);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=At(e,n,r)).setHours(0,0,0,0),e}},c:new class extends Fe{constructor(){super(...arguments),(0,Te.A)(this,"priority",90),(0,Te.A)(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(e,t,n,r){const a=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return ct(mt(t.length,e),a);case"co":return ct(n.ordinalNumber(e,{unit:"day"}),a);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=At(e,n,r)).setHours(0,0,0,0),e}},i:new class extends Fe{constructor(){super(...arguments),(0,Te.A)(this,"priority",90),(0,Te.A)(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(e,t,n){const r=e=>0===e?7:e;switch(t){case"i":case"ii":return mt(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return ct(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return ct(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return ct(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);default:return ct(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return(e=Tt(e,n)).setHours(0,0,0,0),e}},a:new class extends Fe{constructor(){super(...arguments),(0,Te.A)(this,"priority",80),(0,Te.A)(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(ft(n),0,0,0),e}},b:new class extends Fe{constructor(){super(...arguments),(0,Te.A)(this,"priority",80),(0,Te.A)(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(ft(n),0,0,0),e}},B:new class extends Fe{constructor(){super(...arguments),(0,Te.A)(this,"priority",80),(0,Te.A)(this,"incompatibleTokens",["a","b","t","T"])}parse(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(ft(n),0,0,0),e}},h:new class extends Fe{constructor(){super(...arguments),(0,Te.A)(this,"priority",70),(0,Te.A)(this,"incompatibleTokens",["H","K","k","t","T"])}parse(e,t,n){switch(t){case"h":return dt(qe,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return mt(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){const r=e.getHours()>=12;return r&&n<12?e.setHours(n+12,0,0,0):r||12!==n?e.setHours(n,0,0,0):e.setHours(0,0,0,0),e}},H:new class extends Fe{constructor(){super(...arguments),(0,Te.A)(this,"priority",70),(0,Te.A)(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(e,t,n){switch(t){case"H":return dt(Ye,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return mt(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}},K:new class extends Fe{constructor(){super(...arguments),(0,Te.A)(this,"priority",70),(0,Te.A)(this,"incompatibleTokens",["h","H","k","t","T"])}parse(e,t,n){switch(t){case"K":return dt(Ve,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return mt(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}},k:new class extends Fe{constructor(){super(...arguments),(0,Te.A)(this,"priority",70),(0,Te.A)(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(e,t,n){switch(t){case"k":return dt(We,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return mt(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){const r=n<=24?n%24:n;return e.setHours(r,0,0,0),e}},m:new class extends Fe{constructor(){super(...arguments),(0,Te.A)(this,"priority",60),(0,Te.A)(this,"incompatibleTokens",["t","T"])}parse(e,t,n){switch(t){case"m":return dt(Qe,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return mt(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}},s:new class extends Fe{constructor(){super(...arguments),(0,Te.A)(this,"priority",50),(0,Te.A)(this,"incompatibleTokens",["t","T"])}parse(e,t,n){switch(t){case"s":return dt(Ke,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return mt(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}},S:new class extends Fe{constructor(){super(...arguments),(0,Te.A)(this,"priority",30),(0,Te.A)(this,"incompatibleTokens",["t","T"])}parse(e,t){return ct(mt(t.length,e),e=>Math.trunc(e*Math.pow(10,3-t.length)))}set(e,t,n){return e.setMilliseconds(n),e}},X:new class extends Fe{constructor(){super(...arguments),(0,Te.A)(this,"priority",10),(0,Te.A)(this,"incompatibleTokens",["t","T","x"])}parse(e,t){switch(t){case"X":return ut(at,e);case"XX":return ut(st,e);case"XXXX":return ut(ot,e);case"XXXXX":return ut(lt,e);default:return ut(it,e)}}set(e,t,n){return t.timestampIsSet?e:ee(e,e.getTime()-_t(e)-n)}},x:new class extends Fe{constructor(){super(...arguments),(0,Te.A)(this,"priority",10),(0,Te.A)(this,"incompatibleTokens",["t","T","X"])}parse(e,t){switch(t){case"x":return ut(at,e);case"xx":return ut(st,e);case"xxxx":return ut(ot,e);case"xxxxx":return ut(lt,e);default:return ut(it,e)}}set(e,t,n){return t.timestampIsSet?e:ee(e,e.getTime()-_t(e)-n)}},t:new class extends Fe{constructor(){super(...arguments),(0,Te.A)(this,"priority",40),(0,Te.A)(this,"incompatibleTokens","*")}parse(e){return pt(e)}set(e,t,n){return[ee(e,1e3*n),{timestampIsSet:!0}]}},T:new class extends Fe{constructor(){super(...arguments),(0,Te.A)(this,"priority",20),(0,Te.A)(this,"incompatibleTokens","*")}parse(e){return pt(e)}set(e,t,n){return[ee(e,n),{timestampIsSet:!0}]}}},Rt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Lt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ft=/^'([^]*?)'?$/,Bt=/''/g,Ht=/\S/,zt=/[a-zA-Z]/;function Ut(e,t,n,r){var a,s,o,i,l,c,d,u,p,m,h,f,g,v;const y=()=>ee((null===r||void 0===r?void 0:r.in)||n,NaN),b=Oe(),x=null!==(a=null!==(s=null===r||void 0===r?void 0:r.locale)&&void 0!==s?s:b.locale)&&void 0!==a?a:xe,w=null!==(o=null!==(i=null!==(l=null!==(c=null===r||void 0===r?void 0:r.firstWeekContainsDate)&&void 0!==c?c:null===r||void 0===r||null===(d=r.locale)||void 0===d||null===(d=d.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==l?l:b.firstWeekContainsDate)&&void 0!==i?i:null===(u=b.locale)||void 0===u||null===(u=u.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==o?o:1,S=null!==(p=null!==(m=null!==(h=null!==(f=null===r||void 0===r?void 0:r.weekStartsOn)&&void 0!==f?f:null===r||void 0===r||null===(g=r.locale)||void 0===g||null===(g=g.options)||void 0===g?void 0:g.weekStartsOn)&&void 0!==h?h:b.weekStartsOn)&&void 0!==m?m:null===(v=b.locale)||void 0===v||null===(v=v.options)||void 0===v?void 0:v.weekStartsOn)&&void 0!==p?p:0;if(!t)return e?y():te(n,null===r||void 0===r?void 0:r.in);const N={firstWeekContainsDate:w,weekStartsOn:S,locale:x},j=[new Le(null===r||void 0===r?void 0:r.in,n)],k=t.match(Lt).map(e=>{const t=e[0];if(t in Ne){return(0,Ne[t])(e,x.formatLong)}return e}).join("").match(Rt),C=[];for(let P of k){null!==r&&void 0!==r&&r.useAdditionalWeekYearTokens||!Ee(P)||Ie(P,t,e),null!==r&&void 0!==r&&r.useAdditionalDayOfYearTokens||!De(P)||Ie(P,t,e);const n=P[0],a=Mt[n];if(a){const{incompatibleTokens:t}=a;if(Array.isArray(t)){const e=C.find(e=>t.includes(e.token)||e.token===n);if(e)throw new RangeError("The format string mustn't contain `".concat(e.fullToken,"` and `").concat(P,"` at the same time"))}else if("*"===a.incompatibleTokens&&C.length>0)throw new RangeError("The format string mustn't contain `".concat(P,"` and any other token at the same time"));C.push({token:n,fullToken:P});const r=a.run(e,P,x.match,N);if(!r)return y();j.push(r.setter),e=r.rest}else{if(n.match(zt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");if("''"===P?P="'":"'"===n&&(P=Yt(P)),0!==e.indexOf(P))return y();e=e.slice(P.length)}}if(e.length>0&&Ht.test(e))return y();const D=j.map(e=>e.priority).sort((e,t)=>t-e).filter((e,t,n)=>n.indexOf(e)===t).map(e=>j.filter(t=>t.priority===e).sort((e,t)=>t.subPriority-e.subPriority)).map(e=>e[0]);let E=te(n,null===r||void 0===r?void 0:r.in);if(isNaN(+E))return y();const I={};for(const P of D){if(!P.validate(E,N))return y();const e=P.set(E,I,N);Array.isArray(e)?(E=e[0],Object.assign(I,e[1])):E=e}return E}function Yt(e){return e.match(Ft)[1].replace(Bt,"'")}function Wt(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function Vt(e){return!(!Wt(e)&&"number"!==typeof e||isNaN(+te(e)))}function qt(e,t){return+te(e)<+te(t)}function Qt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=ee.bind(null,e||n.find(e=>"object"===typeof e));return n.map(a)}function Kt(e,t){const n=te(e,null===t||void 0===t?void 0:t.in);return n.setHours(0,0,0,0),n}function Jt(e,t,n){const[r,a]=Qt(null===n||void 0===n?void 0:n.in,e,t),s=Kt(r),o=Kt(a),i=+s-_t(s),l=+o-_t(o);return Math.round((i-l)/864e5)}function Gt(e,t){const n=te(e,null===t||void 0===t?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function $t(e,t){const n=te(e,null===t||void 0===t?void 0:t.in);return Jt(n,Gt(n))+1}function Xt(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const Zt={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Xt("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):Xt(n+1,2)},d:(e,t)=>Xt(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>Xt(e.getHours()%12||12,t.length),H:(e,t)=>Xt(e.getHours(),t.length),m:(e,t)=>Xt(e.getMinutes(),t.length),s:(e,t)=>Xt(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return Xt(Math.trunc(r*Math.pow(10,n-3)),t.length)}},en="midnight",tn="noon",nn="morning",rn="afternoon",an="evening",sn="night",on={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return Zt.y(e,t)},Y:function(e,t,n,r){const a=bt(e,r),s=a>0?a:1-a;if("YY"===t){return Xt(s%100,2)}return"Yo"===t?n.ordinalNumber(s,{unit:"year"}):Xt(s,t.length)},R:function(e,t){return Xt(jt(e),t.length)},u:function(e,t){return Xt(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Xt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Xt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Zt.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Xt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=St(e,r);return"wo"===t?n.ordinalNumber(a,{unit:"week"}):Xt(a,t.length)},I:function(e,t,n){const r=Ct(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Xt(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):Zt.d(e,t)},D:function(e,t,n){const r=$t(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Xt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),s=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return Xt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),s=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return Xt(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=0===r?7:r;switch(t){case"i":return String(a);case"ii":return Xt(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(a=12===r?tn:0===r?en:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(a=r>=17?an:r>=12?rn:r>=4?nn:sn,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return Zt.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):Zt.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Xt(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Xt(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Zt.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Zt.s(e,t)},S:function(e,t){return Zt.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return cn(r);case"XXXX":case"XX":return dn(r);default:return dn(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return cn(r);case"xxxx":case"xx":return dn(r);default:return dn(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ln(r,":");default:return"GMT"+dn(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ln(r,":");default:return"GMT"+dn(r,":")}},t:function(e,t,n){return Xt(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return Xt(+e,t.length)}};function ln(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),s=r%60;return 0===s?n+String(a):n+String(a)+t+Xt(s,2)}function cn(e,t){if(e%60===0){return(e>0?"-":"+")+Xt(Math.abs(e)/60,2)}return dn(e,t)}function dn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e);return n+Xt(Math.trunc(r/60),2)+t+Xt(r%60,2)}const un=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,pn=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,mn=/^'([^]*?)'?$/,hn=/''/g,fn=/[a-zA-Z]/;function gn(e,t,n){var r,a,s,o,i,l,c,d,u,p,m,h,f,g;const v=Ae(),y=null!==(r=null!==(a=null===n||void 0===n?void 0:n.locale)&&void 0!==a?a:v.locale)&&void 0!==r?r:xe,b=null!==(s=null!==(o=null!==(i=null!==(l=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null===n||void 0===n||null===(c=n.locale)||void 0===c||null===(c=c.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==i?i:v.firstWeekContainsDate)&&void 0!==o?o:null===(d=v.locale)||void 0===d||null===(d=d.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==s?s:1,x=null!==(u=null!==(p=null!==(m=null!==(h=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==h?h:null===n||void 0===n||null===(f=n.locale)||void 0===f||null===(f=f.options)||void 0===f?void 0:f.weekStartsOn)&&void 0!==m?m:v.weekStartsOn)&&void 0!==p?p:null===(g=v.locale)||void 0===g||null===(g=g.options)||void 0===g?void 0:g.weekStartsOn)&&void 0!==u?u:0,w=te(e,null===n||void 0===n?void 0:n.in);if(!Vt(w))throw new RangeError("Invalid time value");let S=t.match(pn).map(e=>{const t=e[0];if("p"===t||"P"===t){return(0,Ne[t])(e,y.formatLong)}return e}).join("").match(un).map(e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:vn(e)};if(on[t])return{isToken:!0,value:e};if(t.match(fn))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});y.localize.preprocessor&&(S=y.localize.preprocessor(w,S));const N={firstWeekContainsDate:b,weekStartsOn:x,locale:y};return S.map(r=>{if(!r.isToken)return r.value;const a=r.value;(null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||!Ee(a))&&(null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!De(a))||Ie(a,t,String(e));return(0,on[a[0]])(w,a,y.localize,N)}).join("")}function vn(e){const t=e.match(mn);return t?t[1].replace(hn,"'"):e}function yn(e,t,n){const r=te(e,null===n||void 0===n?void 0:n.in);return r.setHours(t),r}function bn(e,t,n){const r=te(e,null===n||void 0===n?void 0:n.in);return r.setMinutes(t),r}function xn(e,t,n){const r=te(e,null===n||void 0===n?void 0:n.in);return r.setSeconds(t),r}function wn(e,t){const n=te(e,null===t||void 0===t?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function Sn(e,t){const n=te(e,null===t||void 0===t?void 0:t.in),r=n.getMonth(),a=r-r%3;return n.setMonth(a,1),n.setHours(0,0,0,0),n}function Nn(e,t){const n=te(e,null===t||void 0===t?void 0:t.in);return n.setHours(23,59,59,999),n}function jn(e,t){var n,r,a,s,o,i;const l=Ae(),c=null!==(n=null!==(r=null!==(a=null!==(s=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==s?s:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==a?a:l.weekStartsOn)&&void 0!==r?r:null===(i=l.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.weekStartsOn)&&void 0!==n?n:0,d=te(e,null===t||void 0===t?void 0:t.in),u=d.getDay(),p=6+(u<c?-7:0)-(u-c);return d.setDate(d.getDate()+p),d.setHours(23,59,59,999),d}function kn(e,t){const n=te(e,null===t||void 0===t?void 0:t.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function Cn(e,t,n){const[r,a]=Qt(null===n||void 0===n?void 0:n.in,e,t);return r.getFullYear()===a.getFullYear()}function Dn(e,t,n){const[r,a]=Qt(null===n||void 0===n?void 0:n.in,e,t);return r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()}function En(e,t,n){const[r,a]=Qt(null===n||void 0===n?void 0:n.in,e,t);return+Sn(r)===+Sn(a)}function In(e,t,n){const[r,a]=Qt(null===n||void 0===n?void 0:n.in,e,t);return+Kt(r)===+Kt(a)}function Pn(e,t){return+te(e)===+te(t)}function An(e,t,n){const r=+te(e,null===n||void 0===n?void 0:n.in),[a,s]=[+te(t.start,null===n||void 0===n?void 0:n.in),+te(t.end,null===n||void 0===n?void 0:n.in)].sort((e,t)=>e-t);return r>=a&&r<=s}function On(e,t){const n=te(e,null===t||void 0===t?void 0:t.in),r=n.getFullYear(),a=n.getMonth(),s=ee(n,0);return s.setFullYear(r,a+1,0),s.setHours(0,0,0,0),s.getDate()}function Tn(e,t,n){const r=te(e,null===n||void 0===n?void 0:n.in),a=r.getFullYear(),s=r.getDate(),o=ee((null===n||void 0===n?void 0:n.in)||e,0);o.setFullYear(a,t,15),o.setHours(0,0,0,0);const i=On(o);return r.setMonth(t,Math.min(s,i)),r}function _n(e,t,n){const r=te(e,null===n||void 0===n?void 0:n.in),a=t-(Math.trunc(r.getMonth()/3)+1);return Tn(r,r.getMonth()+3*a)}function Mn(e,t){return te(e,null===t||void 0===t?void 0:t.in).getFullYear()}function Rn(e,t){return te(e,null===t||void 0===t?void 0:t.in).getMonth()}function Ln(e,t){const n=te(e,null===t||void 0===t?void 0:t.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function Fn(e,t){const n=te(e,null===t||void 0===t?void 0:t.in);return Math.trunc(n.getMonth()/3)+1}function Bn(e,t){return te(e,null===t||void 0===t?void 0:t.in).getHours()}function Hn(e,t){return te(e,null===t||void 0===t?void 0:t.in).getMinutes()}function zn(e){return te(e).getSeconds()}function Un(e,t,n){const r=te(e,null===n||void 0===n?void 0:n.in);if(isNaN(t))return ee((null===n||void 0===n?void 0:n.in)||e,NaN);if(!t)return r;const a=r.getDate(),s=ee((null===n||void 0===n?void 0:n.in)||e,r.getTime());s.setMonth(r.getMonth()+t+1,0);return a>=s.getDate()?s:(r.setFullYear(s.getFullYear(),s.getMonth(),a),r)}function Yn(e,t,n){return Un(e,-t,n)}function Wn(e,t,n){const[r,a]=Qt(null===n||void 0===n?void 0:n.in,e,t);return 12*(r.getFullYear()-a.getFullYear())+(r.getMonth()-a.getMonth())}function Vn(e,t,n){return Un(e,3*t,n)}function qn(e,t,n){return Vn(e,-t,n)}function Qn(e,t,n){const[r,a]=Qt(null===n||void 0===n?void 0:n.in,e,t);return 4*(r.getFullYear()-a.getFullYear())+(Fn(r)-Fn(a))}function Kn(e,t,n){return Un(e,12*t,n)}function Jn(e,t,n){return Kn(e,-t,n)}function Gn(e,t,n){const[r,a]=Qt(null===n||void 0===n?void 0:n.in,e,t);return r.getFullYear()-a.getFullYear()}function $n(e,t){let n,r=null===t||void 0===t?void 0:t.in;return e.forEach(e=>{r||"object"!==typeof e||(r=ee.bind(null,e));const t=te(e,r);(!n||n>t||isNaN(+t))&&(n=t)}),ee(r,n||NaN)}function Xn(e,t){let n,r=null===t||void 0===t?void 0:t.in;return e.forEach(e=>{r||"object"!==typeof e||(r=ee.bind(null,e));const t=te(e,r);(!n||n<t||isNaN(+t))&&(n=t)}),ee(r,n||NaN)}function Zn(e,t,n){return ee((null===n||void 0===n?void 0:n.in)||e,+te(e)+t)}function er(e,t,n){return Zn(e,t*X,n)}function tr(e,t,n){const r=te(e,null===n||void 0===n?void 0:n.in);return r.setTime(r.getTime()+t*$),r}function nr(e,t,n){return Zn(e,1e3*t,n)}function rr(e,t){return+te(e)>+te(t)}function ar(e,t){return te(e,null===t||void 0===t?void 0:t.in).getDay()}function sr(e,t){return te(e,null===t||void 0===t?void 0:t.in).getDate()}function or(e,t,n){return Pt(e,7*t,n)}function ir(e){return+te(e)}function lr(e,t,n){const r=te(e,null===n||void 0===n?void 0:n.in);return isNaN(+r)?ee((null===n||void 0===n?void 0:n.in)||e,NaN):(r.setFullYear(t),r)}function cr(e,t,n){const[r,a]=Qt(null===n||void 0===n?void 0:n.in,e,t),s=dr(r,a),o=Math.abs(Jt(r,a));r.setDate(r.getDate()-s*o);const i=s*(o-Number(dr(r,a)===-s));return 0===i?0:i}function dr(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function ur(e,t,n){return or(e,-t,n)}function pr(e,t,n){return Pt(e,-t,n)}function mr(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var hr="undefined"!==typeof document?r.useLayoutEffect:function(){};const fr=(0,o.A)({},a).useInsertionEffect||(e=>e());function gr(){return"undefined"!==typeof window}function vr(e){return xr(e)?(e.nodeName||"").toLowerCase():"#document"}function yr(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function br(e){var t;return null==(t=(xr(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function xr(e){return!!gr()&&(e instanceof Node||e instanceof yr(e).Node)}function wr(e){return!!gr()&&(e instanceof Element||e instanceof yr(e).Element)}function Sr(e){return!!gr()&&(e instanceof HTMLElement||e instanceof yr(e).HTMLElement)}function Nr(e){return!(!gr()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof yr(e).ShadowRoot)}function jr(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=Pr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(a)}function kr(e){return["table","td","th"].includes(vr(e))}function Cr(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch(n){return!1}})}function Dr(e){const t=Er(),n=wr(e)?Pr(e):e;return["transform","translate","scale","rotate","perspective"].some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","translate","scale","rotate","perspective","filter"].some(e=>(n.willChange||"").includes(e))||["paint","layout","strict","content"].some(e=>(n.contain||"").includes(e))}function Er(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function Ir(e){return["html","body","#document"].includes(vr(e))}function Pr(e){return yr(e).getComputedStyle(e)}function Ar(e){return wr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Or(e){if("html"===vr(e))return e;const t=e.assignedSlot||e.parentNode||Nr(e)&&e.host||br(e);return Nr(t)?t.host:t}function Tr(e){const t=Or(e);return Ir(t)?e.ownerDocument?e.ownerDocument.body:e.body:Sr(t)&&jr(t)?t:Tr(t)}function _r(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const a=Tr(e),s=a===(null==(r=e.ownerDocument)?void 0:r.body),o=yr(a);if(s){const e=Mr(o);return t.concat(o,o.visualViewport||[],jr(a)?a:[],e&&n?_r(e):[])}return t.concat(a,_r(a,[],n))}function Mr(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}var Rr=n(119);const Lr=Math.min,Fr=Math.max,Br=Math.round,Hr=Math.floor,zr=e=>({x:e,y:e}),Ur={left:"right",right:"left",bottom:"top",top:"bottom"},Yr={start:"end",end:"start"};function Wr(e,t){return"function"===typeof e?e(t):e}function Vr(e){return e.split("-")[0]}function qr(e){return e.split("-")[1]}function Qr(e){return"y"===e?"height":"width"}function Kr(e){return["top","bottom"].includes(Vr(e))?"y":"x"}function Jr(e){return"x"===Kr(e)?"y":"x"}function Gr(e){return e.replace(/start|end/g,e=>Yr[e])}function $r(e){return e.replace(/left|right|bottom|top/g,e=>Ur[e])}function Xr(e){return"number"!==typeof e?function(e){return(0,o.A)({top:0,right:0,bottom:0,left:0},e)}(e):{top:e,right:e,bottom:e,left:e}}function Zr(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}const ea=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"];function ta(e,t,n){let{reference:r,floating:a}=e;const s=Kr(t),o=Jr(t),i=Qr(o),l=Vr(t),c="y"===s,d=r.x+r.width/2-a.width/2,u=r.y+r.height/2-a.height/2,p=r[i]/2-a[i]/2;let m;switch(l){case"top":m={x:d,y:r.y-a.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:u};break;case"left":m={x:r.x-a.width,y:u};break;default:m={x:r.x,y:r.y}}switch(qr(t)){case"start":m[o]-=p*(n&&c?-1:1);break;case"end":m[o]+=p*(n&&c?-1:1)}return m}async function na(e,t){var n;void 0===t&&(t={});const{x:r,y:a,platform:s,rects:o,elements:i,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:p=!1,padding:m=0}=Wr(t,e),h=Xr(m),f=i[p?"floating"===u?"reference":"floating":u],g=Zr(await s.getClippingRect({element:null==(n=await(null==s.isElement?void 0:s.isElement(f)))||n?f:f.contextElement||await(null==s.getDocumentElement?void 0:s.getDocumentElement(i.floating)),boundary:c,rootBoundary:d,strategy:l})),v="floating"===u?{x:r,y:a,width:o.floating.width,height:o.floating.height}:o.reference,y=await(null==s.getOffsetParent?void 0:s.getOffsetParent(i.floating)),b=await(null==s.isElement?void 0:s.isElement(y))&&await(null==s.getScale?void 0:s.getScale(y))||{x:1,y:1},x=Zr(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:v,offsetParent:y,strategy:l}):v);return{top:(g.top-x.top+h.top)/b.y,bottom:(x.bottom-g.bottom+h.bottom)/b.y,left:(g.left-x.left+h.left)/b.x,right:(x.right-g.right+h.right)/b.x}}function ra(e){const t=Pr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Sr(e),s=a?e.offsetWidth:n,o=a?e.offsetHeight:r,i=Br(n)!==s||Br(r)!==o;return i&&(n=s,r=o),{width:n,height:r,$:i}}function aa(e){return wr(e)?e:e.contextElement}function sa(e){const t=aa(e);if(!Sr(t))return zr(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:s}=ra(t);let o=(s?Br(n.width):n.width)/r,i=(s?Br(n.height):n.height)/a;return o&&Number.isFinite(o)||(o=1),i&&Number.isFinite(i)||(i=1),{x:o,y:i}}const oa=zr(0);function ia(e){const t=yr(e);return Er()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:oa}function la(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const a=e.getBoundingClientRect(),s=aa(e);let o=zr(1);t&&(r?wr(r)&&(o=sa(r)):o=sa(e));const i=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==yr(e))&&t}(s,n,r)?ia(s):zr(0);let l=(a.left+i.x)/o.x,c=(a.top+i.y)/o.y,d=a.width/o.x,u=a.height/o.y;if(s){const e=yr(s),t=r&&wr(r)?yr(r):r;let n=e,a=Mr(n);for(;a&&r&&t!==n;){const e=sa(a),t=a.getBoundingClientRect(),r=Pr(a),s=t.left+(a.clientLeft+parseFloat(r.paddingLeft))*e.x,o=t.top+(a.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,d*=e.x,u*=e.y,l+=s,c+=o,n=yr(a),a=Mr(n)}}return Zr({width:d,height:u,x:l,y:c})}function ca(e,t){const n=Ar(e).scrollLeft;return t?t.left+n:la(br(e)).left+n}function da(e,t,n){void 0===n&&(n=!1);const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:ca(e,r)),y:r.top+t.scrollTop}}function ua(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=yr(e),r=br(e),a=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,i=0,l=0;if(a){s=a.width,o=a.height;const e=Er();(!e||e&&"fixed"===t)&&(i=a.offsetLeft,l=a.offsetTop)}return{width:s,height:o,x:i,y:l}}(e,n);else if("document"===t)r=function(e){const t=br(e),n=Ar(e),r=e.ownerDocument.body,a=Fr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Fr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+ca(e);const i=-n.scrollTop;return"rtl"===Pr(r).direction&&(o+=Fr(t.clientWidth,r.clientWidth)-a),{width:a,height:s,x:o,y:i}}(br(e));else if(wr(t))r=function(e,t){const n=la(e,!0,"fixed"===t),r=n.top+e.clientTop,a=n.left+e.clientLeft,s=Sr(e)?sa(e):zr(1);return{width:e.clientWidth*s.x,height:e.clientHeight*s.y,x:a*s.x,y:r*s.y}}(t,n);else{const n=ia(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return Zr(r)}function pa(e,t){const n=Or(e);return!(n===t||!wr(n)||Ir(n))&&("fixed"===Pr(n).position||pa(n,t))}function ma(e,t,n){const r=Sr(t),a=br(t),s="fixed"===n,o=la(e,!0,s,t);let i={scrollLeft:0,scrollTop:0};const l=zr(0);function c(){l.x=ca(a)}if(r||!r&&!s)if(("body"!==vr(t)||jr(a))&&(i=Ar(t)),r){const e=la(t,!0,s,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else a&&c();s&&!r&&a&&c();const d=!a||r||s?zr(0):da(a,i);return{x:o.left+i.scrollLeft-l.x-d.x,y:o.top+i.scrollTop-l.y-d.y,width:o.width,height:o.height}}function ha(e){return"static"===Pr(e).position}function fa(e,t){if(!Sr(e)||"fixed"===Pr(e).position)return null;if(t)return t(e);let n=e.offsetParent;return br(e)===n&&(n=n.ownerDocument.body),n}function ga(e,t){const n=yr(e);if(Cr(e))return n;if(!Sr(e)){let t=Or(e);for(;t&&!Ir(t);){if(wr(t)&&!ha(t))return t;t=Or(t)}return n}let r=fa(e,t);for(;r&&kr(r)&&ha(r);)r=fa(r,t);return r&&Ir(r)&&ha(r)&&!Dr(r)?n:r||function(e){let t=Or(e);for(;Sr(t)&&!Ir(t);){if(Dr(t))return t;if(Cr(t))return null;t=Or(t)}return null}(e)||n}const va={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const s="fixed"===a,o=br(r),i=!!t&&Cr(t.floating);if(r===o||i&&s)return n;let l={scrollLeft:0,scrollTop:0},c=zr(1);const d=zr(0),u=Sr(r);if((u||!u&&!s)&&(("body"!==vr(r)||jr(o))&&(l=Ar(r)),Sr(r))){const e=la(r);c=sa(r),d.x=e.x+r.clientLeft,d.y=e.y+r.clientTop}const p=!o||u||s?zr(0):da(o,l,!0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:n.y*c.y-l.scrollTop*c.y+d.y+p.y}},getDocumentElement:br,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const s=[..."clippingAncestors"===n?Cr(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=_r(e,[],!1).filter(e=>wr(e)&&"body"!==vr(e)),a=null;const s="fixed"===Pr(e).position;let o=s?Or(e):e;for(;wr(o)&&!Ir(o);){const t=Pr(o),n=Dr(o);n||"fixed"!==t.position||(a=null),(s?!n&&!a:!n&&"static"===t.position&&a&&["absolute","fixed"].includes(a.position)||jr(o)&&!n&&pa(e,o))?r=r.filter(e=>e!==o):a=t,o=Or(o)}return t.set(e,r),r}(t,this._c):[].concat(n),r],o=s[0],i=s.reduce((e,n)=>{const r=ua(t,n,a);return e.top=Fr(r.top,e.top),e.right=Lr(r.right,e.right),e.bottom=Lr(r.bottom,e.bottom),e.left=Fr(r.left,e.left),e},ua(t,o,a));return{width:i.right-i.left,height:i.bottom-i.top,x:i.left,y:i.top}},getOffsetParent:ga,getElementRects:async function(e){const t=this.getOffsetParent||ga,n=this.getDimensions,r=await n(e.floating);return{reference:ma(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=ra(e);return{width:t,height:n}},getScale:sa,isElement:wr,isRTL:function(e){return"rtl"===Pr(e).direction}};function ya(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function ba(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:i="function"===typeof ResizeObserver,layoutShift:l="function"===typeof IntersectionObserver,animationFrame:c=!1}=r,d=aa(e),u=a||s?[...d?_r(d):[],..._r(t)]:[];u.forEach(e=>{a&&e.addEventListener("scroll",n,{passive:!0}),s&&e.addEventListener("resize",n)});const p=d&&l?function(e,t){let n,r=null;const a=br(e);function s(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function i(l,c){void 0===l&&(l=!1),void 0===c&&(c=1),s();const d=e.getBoundingClientRect(),{left:u,top:p,width:m,height:h}=d;if(l||t(),!m||!h)return;const f={rootMargin:-Hr(p)+"px "+-Hr(a.clientWidth-(u+m))+"px "+-Hr(a.clientHeight-(p+h))+"px "+-Hr(u)+"px",threshold:Fr(0,Lr(1,c))||1};let g=!0;function v(t){const r=t[0].intersectionRatio;if(r!==c){if(!g)return i();r?i(!1,r):n=setTimeout(()=>{i(!1,1e-7)},1e3)}1!==r||ya(d,e.getBoundingClientRect())||i(),g=!1}try{r=new IntersectionObserver(v,(0,o.A)((0,o.A)({},f),{},{root:a.ownerDocument}))}catch(y){r=new IntersectionObserver(v,f)}r.observe(e)}(!0),s}(d,n):null;let m,h=-1,f=null;i&&(f=new ResizeObserver(e=>{let[r]=e;r&&r.target===d&&f&&(f.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var e;null==(e=f)||e.observe(t)})),n()}),d&&!c&&f.observe(d),f.observe(t));let g=c?la(e):null;return c&&function t(){const r=la(e);g&&!ya(g,r)&&n();g=r,m=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach(e=>{a&&e.removeEventListener("scroll",n),s&&e.removeEventListener("resize",n)}),null==p||p(),null==(e=f)||e.disconnect(),f=null,c&&cancelAnimationFrame(m)}}const xa=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:s,placement:i,middlewareData:l}=t,c=await async function(e,t){const{placement:n,platform:r,elements:a}=e,s=await(null==r.isRTL?void 0:r.isRTL(a.floating)),o=Vr(n),i=qr(n),l="y"===Kr(n),c=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,u=Wr(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:h}="number"===typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return i&&"number"===typeof h&&(m="end"===i?-1*h:h),l?{x:m*d,y:p*c}:{x:p*c,y:m*d}}(t,e);return i===(null==(n=l.offset)?void 0:n.placement)&&null!=(r=l.arrow)&&r.alignmentOffset?{}:{x:a+c.x,y:s+c.y,data:(0,o.A)((0,o.A)({},c),{},{placement:i})}}}},wa=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:s,rects:o,initialPlacement:i,platform:l,elements:c}=t,d=Wr(e,t),{mainAxis:u=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:g=!0}=d,v=mr(d,ea);if(null!=(n=s.arrow)&&n.alignmentOffset)return{};const y=Vr(a),b=Kr(i),x=Vr(i)===i,w=await(null==l.isRTL?void 0:l.isRTL(c.floating)),S=m||(x||!g?[$r(i)]:function(e){const t=$r(e);return[Gr(e),t,Gr(t)]}(i)),N="none"!==f;!m&&N&&S.push(...function(e,t,n,r){const a=qr(e);let s=function(e,t,n){const r=["left","right"],a=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?a:r:t?r:a;case"left":case"right":return t?s:o;default:return[]}}(Vr(e),"start"===n,r);return a&&(s=s.map(e=>e+"-"+a),t&&(s=s.concat(s.map(Gr)))),s}(i,g,f,w));const j=[i,...S],k=await na(t,v),C=[];let D=(null==(r=s.flip)?void 0:r.overflows)||[];if(u&&C.push(k[y]),p){const e=function(e,t,n){void 0===n&&(n=!1);const r=qr(e),a=Jr(e),s=Qr(a);let o="x"===a?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=$r(o)),[o,$r(o)]}(a,o,w);C.push(k[e[0]],k[e[1]])}if(D=[...D,{placement:a,overflows:C}],!C.every(e=>e<=0)){var E,I;const e=((null==(E=s.flip)?void 0:E.index)||0)+1,t=j[e];if(t){if(!("alignment"===p&&b!==Kr(t))||D.every(e=>e.overflows[0]>0&&Kr(e.placement)===b))return{data:{index:e,overflows:D},reset:{placement:t}}}let n=null==(I=D.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:I.placement;if(!n)switch(h){case"bestFit":{var P;const e=null==(P=D.filter(e=>{if(N){const t=Kr(e.placement);return t===b||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:P[0];e&&(n=e);break}case"initialPlacement":n=i}if(a!==n)return{reset:{placement:n}}}return{}}}},Sa=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:s,platform:i,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=Wr(e,t)||{};if(null==d)return{};const p=Xr(u),m={x:n,y:r},h=Jr(a),f=Qr(h),g=await i.getDimensions(d),v="y"===h,y=v?"top":"left",b=v?"bottom":"right",x=v?"clientHeight":"clientWidth",w=s.reference[f]+s.reference[h]-m[h]-s.floating[f],S=m[h]-s.reference[h],N=await(null==i.getOffsetParent?void 0:i.getOffsetParent(d));let j=N?N[x]:0;j&&await(null==i.isElement?void 0:i.isElement(N))||(j=l.floating[x]||s.floating[f]);const k=w/2-S/2,C=j/2-g[f]/2-1,D=Lr(p[y],C),E=Lr(p[b],C),I=D,P=j-g[f]-E,A=j/2-g[f]/2+k,O=Fr(I,Lr(A,P));const T=!c.arrow&&null!=qr(a)&&A!==O&&s.reference[f]/2-(A<I?D:E)-g[f]/2<0,_=T?A<I?A-I:A-P:0;return{[h]:m[h]+_,data:(0,o.A)({[h]:O,centerOffset:A-O-_},T&&{alignmentOffset:_}),reset:T}}}),Na=(e,t,n)=>{const r=new Map,a=(0,o.A)({platform:va},n),s=(0,o.A)((0,o.A)({},a.platform),{},{_c:r});return(async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:s=[],platform:i}=n,l=s.filter(Boolean),c=await(null==i.isRTL?void 0:i.isRTL(t));let d=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:p}=ta(d,r,c),m=r,h={},f=0;for(let g=0;g<l.length;g++){const{name:n,fn:s}=l[g],{x:v,y:y,data:b,reset:x}=await s({x:u,y:p,initialPlacement:r,placement:m,strategy:a,middlewareData:h,rects:d,platform:i,elements:{reference:e,floating:t}});u=null!=v?v:u,p=null!=y?y:p,h=(0,o.A)((0,o.A)({},h),{},{[n]:(0,o.A)((0,o.A)({},h[n]),b)}),x&&f<=50&&(f++,"object"===typeof x&&(x.placement&&(m=x.placement),x.rects&&(d=!0===x.rects?await i.getElementRects({reference:e,floating:t,strategy:a}):x.rects),({x:u,y:p}=ta(d,m,c))),g=-1)}return{x:u,y:p,placement:m,strategy:a,middlewareData:h}})(e,t,(0,o.A)((0,o.A)({},a),{},{platform:s}))};var ja="undefined"!==typeof document?r.useLayoutEffect:function(){};function ka(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!ka(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;0!==r--;){const n=a[r];if(("_owner"!==n||!e.$$typeof)&&!ka(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function Ca(e){if("undefined"===typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Da(e,t){const n=Ca(e);return Math.round(t*n)/n}function Ea(e){const t=r.useRef(e);return ja(()=>{t.current=e}),t}const Ia=(e,t)=>(0,o.A)((0,o.A)({},xa(e)),{},{options:[e,t]}),Pa=(e,t)=>(0,o.A)((0,o.A)({},(e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"===typeof e?e(t):e;return n&&(a=n,{}.hasOwnProperty.call(a,"current"))?null!=n.current?Sa({element:n.current,padding:r}).fn(t):{}:n?Sa({element:n,padding:r}).fn(t):{};var a}}))(e)),{},{options:[e,t]}),Aa=["transform"],Oa=["context","width","height","tipRadius","strokeWidth","staticOffset","stroke","d","style"];const Ta="ArrowLeft",_a="ArrowRight",Ma="ArrowUp",Ra="ArrowDown";const La=[Ta,_a],Fa=[Ma,Ra],Ba=(0,o.A)({},a);let Ha=!1,za=0;const Ua=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+za++;const Ya=Ba.useId||function(){const[e,t]=r.useState(()=>Ha?Ua():void 0);return hr(()=>{null==e&&t(Ua())},[]),r.useEffect(()=>{Ha=!0},[]),e};const Wa=r.forwardRef(function(e,t){const{context:{placement:n,elements:{floating:a},middlewareData:{arrow:s,shift:i}},width:l=14,height:c=7,tipRadius:d=0,strokeWidth:u=0,staticOffset:p,stroke:m,d:h,style:{transform:f}={}}=e,g=mr(e.style,Aa),v=mr(e,Oa);const y=Ya(),[b,x]=r.useState(!1);if(hr(()=>{if(!a)return;"rtl"===Pr(a).direction&&x(!0)},[a]),!a)return null;const[w,S]=n.split("-"),N="top"===w||"bottom"===w;let j=p;(N&&null!=i&&i.x||!N&&null!=i&&i.y)&&(j=null);const k=2*u,D=k/2,E=l/2*(d/-8+1),I=c/2*d/4,P=!!h,A=j&&"end"===S?"bottom":"top";let O=j&&"end"===S?"right":"left";j&&b&&(O="end"===S?"left":"right");const T=null!=(null==s?void 0:s.x)?j||s.x:"",_=null!=(null==s?void 0:s.y)?j||s.y:"",M=h||"M0,0 H"+l+" L"+(l-E)+","+(c-I)+" Q"+l/2+","+c+" "+E+","+(c-I)+" Z",R={top:P?"rotate(180deg)":"",left:P?"rotate(90deg)":"rotate(-90deg)",bottom:P?"":"rotate(180deg)",right:P?"rotate(-90deg)":"rotate(90deg)"}[w];return(0,C.jsxs)("svg",(0,o.A)((0,o.A)({},v),{},{"aria-hidden":!0,ref:t,width:P?l:l+k,height:l,viewBox:"0 0 "+l+" "+(c>l?c:l),style:(0,o.A)({position:"absolute",pointerEvents:"none",[O]:T,[A]:_,[w]:N||P?"100%":"calc(100% - "+k/2+"px)",transform:[R,f].filter(e=>!!e).join(" ")},g),children:[k>0&&(0,C.jsx)("path",{clipPath:"url(#"+y+")",fill:"none",stroke:m,strokeWidth:k+(h?0:1),d:M}),(0,C.jsx)("path",{stroke:k&&!h?v.fill:"none",d:M}),(0,C.jsx)("clipPath",{id:y,children:(0,C.jsx)("rect",{x:-D,y:D*(P?-1:1),width:l+k,height:l})})]}))});function Va(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach(e=>e(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;null==(r=e.get(t))||r.delete(n)}}}const qa=r.createContext(null),Qa=r.createContext(null),Ka=()=>{var e;return(null==(e=r.useContext(qa))?void 0:e.id)||null},Ja=()=>r.useContext(Qa);function Ga(e){const{open:t=!1,onOpenChange:n,elements:a}=e,s=Ya(),o=r.useRef({}),[i]=r.useState(()=>Va()),l=null!=Ka();const[c,d]=r.useState(a.reference),u=function(e){const t=r.useRef(()=>{});return fr(()=>{t.current=e}),r.useCallback(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)},[])}((e,t,r)=>{o.current.openEvent=e?t:void 0,i.emit("openchange",{open:e,event:t,reason:r,nested:l}),null==n||n(e,t,r)}),p=r.useMemo(()=>({setPositionReference:d}),[]),m=r.useMemo(()=>({reference:c||a.reference||null,floating:a.floating||null,domReference:a.reference}),[c,a.reference,a.floating]);return r.useMemo(()=>({dataRef:o,open:t,onOpenChange:u,elements:m,events:i,floatingId:s,refs:p}),[t,u,m,i,s,p])}function $a(e){void 0===e&&(e={});const{nodeId:t}=e,n=Ga((0,o.A)((0,o.A)({},e),{},{elements:(0,o.A)({reference:null,floating:null},e.elements)})),a=e.rootContext||n,s=a.elements,[i,l]=r.useState(null),[c,d]=r.useState(null),u=(null==s?void 0:s.domReference)||i,p=r.useRef(null),m=Ja();hr(()=>{u&&(p.current=u)},[u]);const h=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:a=[],platform:s,elements:{reference:i,floating:l}={},transform:c=!0,whileElementsMounted:d,open:u}=e,[p,m]=r.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,f]=r.useState(a);ka(h,a)||f(a);const[g,v]=r.useState(null),[y,b]=r.useState(null),x=r.useCallback(e=>{e!==j.current&&(j.current=e,v(e))},[]),w=r.useCallback(e=>{e!==k.current&&(k.current=e,b(e))},[]),S=i||g,N=l||y,j=r.useRef(null),k=r.useRef(null),C=r.useRef(p),D=null!=d,E=Ea(d),I=Ea(s),P=Ea(u),A=r.useCallback(()=>{if(!j.current||!k.current)return;const e={placement:t,strategy:n,middleware:h};I.current&&(e.platform=I.current),Na(j.current,k.current,e).then(e=>{const t=(0,o.A)((0,o.A)({},e),{},{isPositioned:!1!==P.current});O.current&&!ka(C.current,t)&&(C.current=t,Rr.flushSync(()=>{m(t)}))})},[h,t,n,I,P]);ja(()=>{!1===u&&C.current.isPositioned&&(C.current.isPositioned=!1,m(e=>(0,o.A)((0,o.A)({},e),{},{isPositioned:!1})))},[u]);const O=r.useRef(!1);ja(()=>(O.current=!0,()=>{O.current=!1}),[]),ja(()=>{if(S&&(j.current=S),N&&(k.current=N),S&&N){if(E.current)return E.current(S,N,A);A()}},[S,N,A,E,D]);const T=r.useMemo(()=>({reference:j,floating:k,setReference:x,setFloating:w}),[x,w]),_=r.useMemo(()=>({reference:S,floating:N}),[S,N]),M=r.useMemo(()=>{const e={position:n,left:0,top:0};if(!_.floating)return e;const t=Da(_.floating,p.x),r=Da(_.floating,p.y);return c?(0,o.A)((0,o.A)({},e),{},{transform:"translate("+t+"px, "+r+"px)"},Ca(_.floating)>=1.5&&{willChange:"transform"}):{position:n,left:t,top:r}},[n,c,_.floating,p.x,p.y]);return r.useMemo(()=>(0,o.A)((0,o.A)({},p),{},{update:A,refs:T,elements:_,floatingStyles:M}),[p,A,T,_,M])}((0,o.A)((0,o.A)({},e),{},{elements:(0,o.A)((0,o.A)({},s),c&&{reference:c})})),f=r.useCallback(e=>{const t=wr(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),getClientRects:()=>e.getClientRects(),contextElement:e}:e;d(t),h.refs.setReference(t)},[h.refs]),g=r.useCallback(e=>{(wr(e)||null===e)&&(p.current=e,l(e)),(wr(h.refs.reference.current)||null===h.refs.reference.current||null!==e&&!wr(e))&&h.refs.setReference(e)},[h.refs]),v=r.useMemo(()=>(0,o.A)((0,o.A)({},h.refs),{},{setReference:g,setPositionReference:f,domReference:p}),[h.refs,g,f]),y=r.useMemo(()=>(0,o.A)((0,o.A)({},h.elements),{},{domReference:u}),[h.elements,u]),b=r.useMemo(()=>(0,o.A)((0,o.A)((0,o.A)({},h),a),{},{refs:v,elements:y,nodeId:t}),[h,v,y,t,a]);return hr(()=>{a.dataRef.current.floatingContext=b;const e=null==m?void 0:m.nodesRef.current.find(e=>e.id===t);e&&(e.context=b)}),r.useMemo(()=>(0,o.A)((0,o.A)({},h),{},{context:b,refs:v,elements:y}),[h,v,y,b])}var Xa=function(e,t){return Xa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Xa(e,t)};function Za(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Xa(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var es=function(){return es=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},es.apply(this,arguments)};function ts(e,t,n){if(n||2===arguments.length)for(var r,a=0,s=t.length;a<s;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}"function"===typeof SuppressedError&&SuppressedError;var ns,rs=function(e){var t=e.showTimeSelectOnly,n=void 0!==t&&t,a=e.showTime,s=void 0!==a&&a,o=e.className,i=e.children,l=n?"Choose Time":"Choose Date".concat(s?" and Time":"");return r.createElement("div",{className:o,role:"dialog","aria-label":l,"aria-modal":"true"},i)},as=function(e){var t=e.children,n=e.onClickOutside,a=e.className,s=e.containerRef,o=e.style,i=function(e,t){var n=(0,r.useRef)(null),a=(0,r.useRef)(e);a.current=e;var s=(0,r.useCallback)(function(e){var r,s=e.composed&&e.composedPath&&e.composedPath().find(function(e){return e instanceof Node})||e.target;n.current&&!n.current.contains(s)&&(t&&s instanceof HTMLElement&&s.classList.contains(t)||null===(r=a.current)||void 0===r||r.call(a,e))},[t]);return(0,r.useEffect)(function(){return document.addEventListener("mousedown",s),function(){document.removeEventListener("mousedown",s)}},[s]),n}(n,e.ignoreClass);return r.createElement("div",{className:a,style:o,ref:function(e){i.current=e,s&&(s.current=e)}},t)};function ss(){return"undefined"!==typeof window?window:globalThis}!function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"}(ns||(ns={}));function os(e){if(null==e)return new Date;var t="string"===typeof e?ne(e):te(e);return ls(t)?t:new Date}function is(e,t,n,r,a){void 0===a&&(a=os());for(var s=Ds(n)||Ds(Cs()),o=0,i=Array.isArray(t)?t:[t];o<i.length;o++){var l=i[o],c=Ut(e,l,a,{locale:s,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});if(ls(c)&&(!r||e===cs(c,l,n)))return c}return null}function ls(e,t){return Vt(e)&&!qt(e,new Date("1/1/1800"))}function cs(e,t,n){if("en"===n)return gn(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?Ds(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),gn(e,t,{locale:r=r||Ds(Cs()),useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function ds(e,t){var n=t.dateFormat,r=t.locale,a=Array.isArray(n)&&n.length>0?n[0]:n;return e&&cs(e,a,r)||""}function us(e,t){var n=t.hour,r=void 0===n?0:n,a=t.minute,s=void 0===a?0:a,o=t.second;return yn(bn(xn(e,void 0===o?0:o),s),r)}function ps(e){return Kt(e)}function ms(e,t,n){return yt(e,{locale:Ds(t||Cs()),weekStartsOn:n})}function hs(e){return wn(e)}function fs(e){return Gt(e)}function gs(e){return Sn(e)}function vs(){return Kt(os())}function ys(e){return Nn(e)}function bs(e){return kn(e)}function xs(e,t){return e&&t?Cn(e,t):!e&&!t}function ws(e,t){return e&&t?Dn(e,t):!e&&!t}function Ss(e,t){return e&&t?En(e,t):!e&&!t}function Ns(e,t){return e&&t?In(e,t):!e&&!t}function js(e,t){return e&&t?Pn(e,t):!e&&!t}function ks(e,t,n){var r,a=Kt(t),s=Nn(n);try{r=An(e,{start:a,end:s})}catch(o){r=!1}return r}function Cs(){return ss().__localeId__}function Ds(e){if("string"===typeof e){var t=ss();return t.__localeData__?t.__localeData__[e]:void 0}return e}function Es(e,t){return cs(Tn(os(),e),"LLLL",t)}function Is(e,t){return cs(Tn(os(),e),"LLL",t)}function Ps(e,t){var n=void 0===t?{}:t,r=n.minDate,a=n.maxDate,s=n.excludeDates,o=n.excludeDateIntervals,i=n.includeDates,l=n.includeDateIntervals,c=n.filterDate;return Bs(e,{minDate:r,maxDate:a})||s&&s.some(function(t){return t instanceof Date?Ns(e,t):Ns(e,t.date)})||o&&o.some(function(t){var n=t.start,r=t.end;return An(e,{start:n,end:r})})||i&&!i.some(function(t){return Ns(e,t)})||l&&!l.some(function(t){var n=t.start,r=t.end;return An(e,{start:n,end:r})})||c&&!c(os(e))||!1}function As(e,t){var n=void 0===t?{}:t,r=n.excludeDates,a=n.excludeDateIntervals;return a&&a.length>0?a.some(function(t){var n=t.start,r=t.end;return An(e,{start:n,end:r})}):r&&r.some(function(t){var n;return t instanceof Date?Ns(e,t):Ns(e,null!==(n=t.date)&&void 0!==n?n:new Date)})||!1}function Os(e,t){var n=void 0===t?{}:t,r=n.minDate,a=n.maxDate,s=n.excludeDates,o=n.includeDates,i=n.filterDate;return Bs(e,{minDate:r?wn(r):void 0,maxDate:a?kn(a):void 0})||(null===s||void 0===s?void 0:s.some(function(t){return ws(e,t instanceof Date?t:t.date)}))||o&&!o.some(function(t){return ws(e,t)})||i&&!i(os(e))||!1}function Ts(e,t,n,r){var a=Mn(e),s=Rn(e),o=Mn(t),i=Rn(t),l=Mn(r);return a===o&&a===l?s<=n&&n<=i:a<o&&(l===a&&s<=n||l===o&&i>=n||l<o&&l>a)}function _s(e,t){var n=void 0===t?{}:t,r=n.minDate,a=n.maxDate,s=n.excludeDates,o=n.includeDates;return Bs(e,{minDate:r,maxDate:a})||s&&s.some(function(t){return ws(t instanceof Date?t:t.date,e)})||o&&!o.some(function(t){return ws(t,e)})||!1}function Ms(e,t){var n=void 0===t?{}:t,r=n.minDate,a=n.maxDate,s=n.excludeDates,o=n.includeDates,i=n.filterDate;return Bs(e,{minDate:r,maxDate:a})||(null===s||void 0===s?void 0:s.some(function(t){return Ss(e,t instanceof Date?t:t.date)}))||o&&!o.some(function(t){return Ss(e,t)})||i&&!i(os(e))||!1}function Rs(e,t,n){if(!t||!n)return!1;if(!Vt(t)||!Vt(n))return!1;var r=Mn(t),a=Mn(n);return r<=e&&a>=e}function Ls(e,t){var n=void 0===t?{}:t,r=n.minDate,a=n.maxDate,s=n.excludeDates,o=n.includeDates,i=n.filterDate,l=new Date(e,0,1);return Bs(l,{minDate:r?Gt(r):void 0,maxDate:a?Ln(a):void 0})||(null===s||void 0===s?void 0:s.some(function(e){return xs(l,e instanceof Date?e:e.date)}))||o&&!o.some(function(e){return xs(l,e)})||i&&!i(os(l))||!1}function Fs(e,t,n,r){var a=Mn(e),s=Fn(e),o=Mn(t),i=Fn(t),l=Mn(r);return a===o&&a===l?s<=n&&n<=i:a<o&&(l===a&&s<=n||l===o&&i>=n||l<o&&l>a)}function Bs(e,t){var n,r=void 0===t?{}:t,a=r.minDate,s=r.maxDate;return null!==(n=a&&Jt(e,a)<0||s&&Jt(e,s)>0)&&void 0!==n&&n}function Hs(e,t){return t.some(function(t){return Bn(t)===Bn(e)&&Hn(t)===Hn(e)&&zn(t)===zn(e)})}function zs(e,t){var n=void 0===t?{}:t,r=n.excludeTimes,a=n.includeTimes,s=n.filterTime;return r&&Hs(e,r)||a&&!Hs(e,a)||s&&!s(e)||!1}function Us(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var a=os();a=xn(a=bn(a=yn(a,Bn(e)),Hn(e)),zn(e));var s=os();s=xn(s=bn(s=yn(s,Bn(n)),Hn(n)),zn(n));var o,i=os();i=xn(i=bn(i=yn(i,Bn(r)),Hn(r)),zn(r));try{o=!An(a,{start:s,end:i})}catch(l){o=!1}return o}function Ys(e,t){var n=void 0===t?{}:t,r=n.minDate,a=n.includeDates,s=Yn(e,1);return r&&Wn(r,s)>0||a&&a.every(function(e){return Wn(e,s)>0})||!1}function Ws(e,t){var n=void 0===t?{}:t,r=n.maxDate,a=n.includeDates,s=Un(e,1);return r&&Wn(s,r)>0||a&&a.every(function(e){return Wn(s,e)>0})||!1}function Vs(e,t){var n=void 0===t?{}:t,r=n.minDate,a=n.includeDates,s=Jn(e,1);return r&&Gn(r,s)>0||a&&a.every(function(e){return Gn(e,s)>0})||!1}function qs(e,t){var n=void 0===t?{}:t,r=n.maxDate,a=n.includeDates,s=Kn(e,1);return r&&Gn(s,r)>0||a&&a.every(function(e){return Gn(s,e)>0})||!1}function Qs(e){var t=e.minDate,n=e.includeDates;return n&&t?$n(n.filter(function(e){return Jt(e,t)>=0})):n?$n(n):t}function Ks(e){var t=e.maxDate,n=e.includeDates;return n&&t?Xn(n.filter(function(e){return Jt(e,t)<=0})):n?Xn(n):t}function Js(e,t){var n;void 0===e&&(e=[]),void 0===t&&(t="react-datepicker__day--highlighted");for(var r=new Map,a=0,s=e.length;a<s;a++){var o=e[a];if(Wt(o)){var i=cs(o,"MM.dd.yyyy");(m=r.get(i)||[]).includes(t)||(m.push(t),r.set(i,m))}else if("object"===typeof o){var l=null!==(n=Object.keys(o)[0])&&void 0!==n?n:"",c=o[l];if("string"===typeof l&&Array.isArray(c))for(var d=0,u=c.length;d<u;d++){var p=c[d];if(p){var m;i=cs(p,"MM.dd.yyyy");(m=r.get(i)||[]).includes(l)||(m.push(l),r.set(i,m))}}}}return r}function Gs(e,t){void 0===e&&(e=[]),void 0===t&&(t="react-datepicker__day--holidays");var n=new Map;return e.forEach(function(e){var r=e.date,a=e.holidayName;if(Wt(r)){var s=cs(r,"MM.dd.yyyy"),o=n.get(s)||{className:"",holidayNames:[]};if(!("className"in o)||o.className!==t||(i=o.holidayNames,l=[a],i.length!==l.length||!i.every(function(e,t){return e===l[t]}))){var i,l;o.className=t;var c=o.holidayNames;o.holidayNames=c?ts(ts([],c,!0),[a],!1):[a],n.set(s,o)}}}),n}function $s(e,t,n,r,a){for(var s=a.length,o=[],i=0;i<s;i++){var l=e,c=a[i];c&&(l=nr(l=tr(l=er(l,Bn(c)),Hn(c)),zn(c)));var d=tr(e,(n+1)*r);rr(l,t)&&qt(l,d)&&void 0!=c&&o.push(c)}return o}function Xs(e){return e<10?"0".concat(e):"".concat(e)}function Zs(e,t){void 0===t&&(t=12);var n=Math.ceil(Mn(e)/t)*t;return{startPeriod:n-(t-1),endPeriod:n}}function eo(e){var t=e.getSeconds(),n=e.getMilliseconds();return te(e.getTime()-1e3*t-n)}function to(e){if(!Wt(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function no(e,t){if(!Wt(e)||!Wt(t))throw new Error("Invalid date received");return qt(to(e),to(t))}function ro(e){return e.key===ns.Space}var ao,so=function(e){function t(t){var n=e.call(this,t)||this;return n.inputRef=r.createRef(),n.onTimeChange=function(e){var t,r;n.setState({time:e});var a=n.props.date,s=a instanceof Date&&!isNaN(+a)?a:new Date;if(null===e||void 0===e?void 0:e.includes(":")){var o=e.split(":"),i=o[0],l=o[1];s.setHours(Number(i)),s.setMinutes(Number(l))}null===(r=(t=n.props).onChange)||void 0===r||r.call(t,s)},n.renderTimeInput=function(){var e=n.state.time,t=n.props,a=t.date,s=t.timeString,o=t.customTimeInput;return o?(0,r.cloneElement)(o,{date:a,value:e,onChange:n.onTimeChange}):r.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var e;null===(e=n.inputRef.current)||void 0===e||e.focus()},required:!0,value:e,onChange:function(e){n.onTimeChange(e.target.value||s)}})},n.state={time:n.props.timeString},n}return Za(t,e),t.getDerivedStateFromProps=function(e,t){return e.timeString!==t.time?{time:e.timeString}:null},t.prototype.render=function(){return r.createElement("div",{className:"react-datepicker__input-time-container"},r.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),r.createElement("div",{className:"react-datepicker-time__input-container"},r.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(r.Component),oo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dayEl=(0,r.createRef)(),t.handleClick=function(e){!t.isDisabled()&&t.props.onClick&&t.props.onClick(e)},t.handleMouseEnter=function(e){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(e)},t.handleOnKeyDown=function(e){var n,r;e.key===ns.Space&&(e.preventDefault(),e.key=ns.Enter),null===(r=(n=t.props).handleOnKeyDown)||void 0===r||r.call(n,e)},t.isSameDay=function(e){return Ns(t.props.day,e)},t.isKeyboardSelected=function(){var e;if(t.props.disabledKeyboardNavigation)return!1;var n=t.props.selectsMultiple?null===(e=t.props.selectedDates)||void 0===e?void 0:e.some(function(e){return t.isSameDayOrWeek(e)}):t.isSameDayOrWeek(t.props.selected),r=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!n&&t.isSameDayOrWeek(t.props.preSelection)&&!r},t.isDisabled=function(e){return void 0===e&&(e=t.props.day),Ps(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return As(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Ns(t.props.day,ms(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(e){return t.props.showWeekPicker&&Ns(e,ms(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(e){return t.isSameDay(e)||t.isSameWeek(e)},t.getHighLightedClass=function(){var e=t.props,n=e.day,r=e.highlightDates;if(!r)return!1;var a=cs(n,"MM.dd.yyyy");return r.get(a)},t.getHolidaysClass=function(){var e,n=t.props,r=n.day,a=n.holidays;if(!a)return[void 0];var s=cs(r,"MM.dd.yyyy");return a.has(s)?[null===(e=a.get(s))||void 0===e?void 0:e.className]:[void 0]},t.isInRange=function(){var e=t.props,n=e.day,r=e.startDate,a=e.endDate;return!(!r||!a)&&ks(n,r,a)},t.isInSelectingRange=function(){var e,n=t.props,r=n.day,a=n.selectsStart,s=n.selectsEnd,o=n.selectsRange,i=n.selectsDisabledDaysInRange,l=n.startDate,c=n.endDate,d=null!==(e=t.props.selectingDate)&&void 0!==e?e:t.props.preSelection;return!(!(a||s||o)||!d||!i&&t.isDisabled())&&(a&&c&&(qt(d,c)||js(d,c))?ks(r,d,c):(s&&l&&(rr(d,l)||js(d,l))||!(!o||!l||c||!rr(d,l)&&!js(d,l)))&&ks(r,l,d))},t.isSelectingRangeStart=function(){var e;if(!t.isInSelectingRange())return!1;var n=t.props,r=n.day,a=n.startDate,s=n.selectsStart,o=null!==(e=t.props.selectingDate)&&void 0!==e?e:t.props.preSelection;return Ns(r,s?o:a)},t.isSelectingRangeEnd=function(){var e;if(!t.isInSelectingRange())return!1;var n=t.props,r=n.day,a=n.endDate,s=n.selectsEnd,o=n.selectsRange,i=null!==(e=t.props.selectingDate)&&void 0!==e?e:t.props.preSelection;return Ns(r,s||o?i:a)},t.isRangeStart=function(){var e=t.props,n=e.day,r=e.startDate,a=e.endDate;return!(!r||!a)&&Ns(r,n)},t.isRangeEnd=function(){var e=t.props,n=e.day,r=e.startDate,a=e.endDate;return!(!r||!a)&&Ns(a,n)},t.isWeekend=function(){var e=ar(t.props.day);return 0===e||6===e},t.isAfterMonth=function(){return void 0!==t.props.month&&(t.props.month+1)%12===Rn(t.props.day)},t.isBeforeMonth=function(){return void 0!==t.props.month&&(Rn(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(os())},t.isSelected=function(){var e;return t.props.selectsMultiple?null===(e=t.props.selectedDates)||void 0===e?void 0:e.some(function(e){return t.isSameDayOrWeek(e)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(e){var n;return J("react-datepicker__day",t.props.dayClassName?t.props.dayClassName(e):void 0,"react-datepicker__day--"+cs(t.props.day,"ddd",n),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var e=t.props,n=e.day,r=e.ariaLabelPrefixWhenEnabled,a=void 0===r?"Choose":r,s=e.ariaLabelPrefixWhenDisabled,o=void 0===s?"Not available":s,i=t.isDisabled()||t.isExcluded()?o:a;return"".concat(i," ").concat(cs(n,"PPPP",t.props.locale))},t.getTitle=function(){var e=t.props,n=e.day,r=e.holidays,a=void 0===r?new Map:r,s=e.excludeDates,o=cs(n,"MM.dd.yyyy"),i=[];return a.has(o)&&i.push.apply(i,a.get(o).holidayNames),t.isExcluded()&&i.push(null===s||void 0===s?void 0:s.filter(function(e){return e instanceof Date?Ns(e,n):Ns(null===e||void 0===e?void 0:e.date,n)}).map(function(e){if(!(e instanceof Date))return null===e||void 0===e?void 0:e.message})),i.join(", ")},t.getTabIndex=function(){var e=t.props.selected,n=t.props.preSelection;return(!t.props.showWeekPicker||!t.props.showWeekNumber&&t.isStartOfWeek())&&(t.isKeyboardSelected()||t.isSameDay(e)&&Ns(n,e))?0:-1},t.handleFocusDay=function(){var e;t.shouldFocusDay()&&(null===(e=t.dayEl.current)||void 0===e||e.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(sr(t.props.day),t.props.day):sr(t.props.day)},t.render=function(){return r.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),""!==t.getTitle()&&r.createElement("span",{className:"overlay"},t.getTitle()))},t}return Za(t,e),t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var e=!1;return 0===this.getTabIndex()&&this.isSameDay(this.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(e=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(e=!1),this.isDayActiveElement()&&(e=!0),this.isDuplicateDay()&&(e=!1)),e},t.prototype.isDayActiveElement=function(){var e,t,n;return(null===(t=null===(e=this.props.containerRef)||void 0===e?void 0:e.current)||void 0===t?void 0:t.contains(document.activeElement))&&(null===(n=document.activeElement)||void 0===n?void 0:n.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(r.Component),io=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.weekNumberEl=(0,r.createRef)(),t.handleClick=function(e){t.props.onClick&&t.props.onClick(e)},t.handleOnKeyDown=function(e){var n,r;e.key===ns.Space&&(e.preventDefault(),e.key=ns.Enter),null===(r=(n=t.props).handleOnKeyDown)||void 0===r||r.call(n,e)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Ns(t.props.date,t.props.selected)&&Ns(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Ns(t.props.date,t.props.selected)&&Ns(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(e){var n=!1;0===t.getTabIndex()&&!(null===e||void 0===e?void 0:e.isInputFocused)&&Ns(t.props.date,t.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(n=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(n=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(n=!0)),n&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Za(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(e){this.handleFocusWeekNumber(e)},t.prototype.render=function(){var e=this.props,n=e.weekNumber,a=e.isWeekDisabled,s=e.ariaLabelPrefix,o=void 0===s?t.defaultProps.ariaLabelPrefix:s,i=e.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!i&&!a,"react-datepicker__week-number--selected":!!i&&Ns(this.props.date,this.props.selected)};return r.createElement("div",{ref:this.weekNumberEl,className:J(l),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},t}(r.Component),lo=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.isDisabled=function(e){return Ps(e,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(e,t){n.props.onDayClick&&n.props.onDayClick(e,t)},n.handleDayMouseEnter=function(e){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(e)},n.handleWeekClick=function(e,r,a){for(var s,o,i,l=new Date(e),c=0;c<7;c++){var d=new Date(e);if(d.setDate(d.getDate()+c),!n.isDisabled(d)){l=d;break}}"function"===typeof n.props.onWeekSelect&&n.props.onWeekSelect(l,r,a),n.props.showWeekPicker&&n.handleDayClick(l,a),(null!==(s=n.props.shouldCloseOnSelect)&&void 0!==s?s:t.defaultProps.shouldCloseOnSelect)&&(null===(i=(o=n.props).setOpen)||void 0===i||i.call(o,!1))},n.formatWeekNumber=function(e){return n.props.formatWeekNumber?n.props.formatWeekNumber(e):function(e){return Ct(e)}(e)},n.isWeekDisabled=function(){for(var e=n.startOfWeek(),t=Pt(e,6),r=new Date(e);r<=t;){if(!n.isDisabled(r))return!1;r=Pt(r,1)}return!0},n.renderDays=function(){var e=n.startOfWeek(),a=[],s=n.formatWeekNumber(e);if(n.props.showWeekNumber){var o=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,e,s):void 0;a.push(r.createElement(io,es({key:"W"},t.defaultProps,n.props,{weekNumber:s,isWeekDisabled:n.isWeekDisabled(),date:e,onClick:o})))}return a.concat([0,1,2,3,4,5,6].map(function(a){var s=Pt(e,a);return r.createElement(oo,es({},t.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:s.valueOf(),day:s,onClick:n.handleDayClick.bind(n,s),onMouseEnter:n.handleDayMouseEnter.bind(n,s)}))}))},n.startOfWeek=function(){return ms(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Ns(n.startOfWeek(),n.props.selected)&&Ns(n.startOfWeek(),n.props.preSelection)},n}return Za(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e={"react-datepicker__week":!0,"react-datepicker__week--selected":Ns(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return r.createElement("div",{className:J(e)},this.renderDays())},t}(r.Component),co="two_columns",uo="three_columns",po="four_columns",mo=((ao={})[co]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},ao[uo]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},ao[po]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},ao);function ho(e,t){return e?po:t?co:uo}var fo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.MONTH_REFS=ts([],Array(12),!0).map(function(){return(0,r.createRef)()}),t.QUARTER_REFS=ts([],Array(4),!0).map(function(){return(0,r.createRef)()}),t.isDisabled=function(e){return Ps(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(e){return As(e,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(e,n){var r,a;null===(a=(r=t.props).onDayClick)||void 0===a||a.call(r,e,n,t.props.orderInDisplay)},t.handleDayMouseEnter=function(e){var n,r;null===(r=(n=t.props).onDayMouseEnter)||void 0===r||r.call(n,e)},t.handleMouseLeave=function(){var e,n;null===(n=(e=t.props).onMouseLeave)||void 0===n||n.call(e)},t.isRangeStartMonth=function(e){var n=t.props,r=n.day,a=n.startDate,s=n.endDate;return!(!a||!s)&&ws(Tn(r,e),a)},t.isRangeStartQuarter=function(e){var n=t.props,r=n.day,a=n.startDate,s=n.endDate;return!(!a||!s)&&Ss(_n(r,e),a)},t.isRangeEndMonth=function(e){var n=t.props,r=n.day,a=n.startDate,s=n.endDate;return!(!a||!s)&&ws(Tn(r,e),s)},t.isRangeEndQuarter=function(e){var n=t.props,r=n.day,a=n.startDate,s=n.endDate;return!(!a||!s)&&Ss(_n(r,e),s)},t.isInSelectingRangeMonth=function(e){var n,r=t.props,a=r.day,s=r.selectsStart,o=r.selectsEnd,i=r.selectsRange,l=r.startDate,c=r.endDate,d=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return!(!(s||o||i)||!d)&&(s&&c?Ts(d,c,e,a):(o&&l||!(!i||!l||c))&&Ts(l,d,e,a))},t.isSelectingMonthRangeStart=function(e){var n;if(!t.isInSelectingRangeMonth(e))return!1;var r=t.props,a=r.day,s=r.startDate,o=r.selectsStart,i=Tn(a,e),l=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return ws(i,o?l:s)},t.isSelectingMonthRangeEnd=function(e){var n;if(!t.isInSelectingRangeMonth(e))return!1;var r=t.props,a=r.day,s=r.endDate,o=r.selectsEnd,i=r.selectsRange,l=Tn(a,e),c=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return ws(l,o||i?c:s)},t.isInSelectingRangeQuarter=function(e){var n,r=t.props,a=r.day,s=r.selectsStart,o=r.selectsEnd,i=r.selectsRange,l=r.startDate,c=r.endDate,d=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return!(!(s||o||i)||!d)&&(s&&c?Fs(d,c,e,a):(o&&l||!(!i||!l||c))&&Fs(l,d,e,a))},t.isWeekInMonth=function(e){var n=t.props.day,r=Pt(e,6);return ws(e,n)||ws(r,n)},t.isCurrentMonth=function(e,t){return Mn(e)===Mn(os())&&t===Rn(os())},t.isCurrentQuarter=function(e,t){return Mn(e)===Mn(os())&&t===Fn(os())},t.isSelectedMonth=function(e,t,n){return Rn(n)===t&&Mn(e)===Mn(n)},t.isSelectMonthInList=function(e,n,r){return r.some(function(r){return t.isSelectedMonth(e,n,r)})},t.isSelectedQuarter=function(e,t,n){return Fn(e)===t&&Mn(e)===Mn(n)},t.isMonthSelected=function(){var e=t.props,n=e.day,r=e.selected,a=e.selectedDates,s=e.selectsMultiple,o=Rn(n);return s?null===a||void 0===a?void 0:a.some(function(e){return t.isSelectedMonth(n,o,e)}):!!r&&t.isSelectedMonth(n,o,r)},t.renderWeeks=function(){for(var e=[],n=t.props.fixedHeight,a=0,s=!1,o=ms(hs(t.props.day),t.props.locale,t.props.calendarStartDay),i=t.props.selected?function(e){return t.props.showWeekPicker?ms(e,t.props.locale,t.props.calendarStartDay):t.props.selected}(t.props.selected):void 0,l=t.props.preSelection?function(e){return t.props.showWeekPicker?ms(e,t.props.locale,t.props.calendarStartDay):t.props.preSelection}(t.props.preSelection):void 0;e.push(r.createElement(lo,es({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:a,day:o,month:Rn(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:i,preSelection:l,showWeekNumber:t.props.showWeekNumbers}))),!s;){a++,o=or(o,1);var c=n&&a>=6,d=!n&&!t.isWeekInMonth(o);if(c||d){if(!t.props.peekNextMonth)break;s=!0}}return e},t.onMonthClick=function(e,n){var r=t.isMonthDisabledForLabelDate(n),a=r.isDisabled,s=r.labelDate;a||t.handleDayClick(hs(s),e)},t.onMonthMouseEnter=function(e){var n=t.isMonthDisabledForLabelDate(e),r=n.isDisabled,a=n.labelDate;r||t.handleDayMouseEnter(hs(a))},t.handleMonthNavigation=function(e,n){var r,a,s,o;null===(a=(r=t.props).setPreSelection)||void 0===a||a.call(r,n),null===(o=null===(s=t.MONTH_REFS[e])||void 0===s?void 0:s.current)||void 0===o||o.focus()},t.handleKeyboardNavigation=function(e,n,r){var a,s=t.props,o=s.selected,i=s.preSelection,l=s.setPreSelection,c=s.minDate,d=s.maxDate,u=s.showFourColumnMonthYearPicker,p=s.showTwoColumnMonthYearPicker;if(i){var m=ho(u,p),h=t.getVerticalOffset(m),f=null===(a=mo[m])||void 0===a?void 0:a.grid,g=function(e,t,n){var r,a,s=t,o=n;switch(e){case ns.ArrowRight:s=Un(t,1),o=11===n?0:n+1;break;case ns.ArrowLeft:s=Yn(t,1),o=0===n?11:n-1;break;case ns.ArrowUp:s=Yn(t,h),o=(null===(r=null===f||void 0===f?void 0:f[0])||void 0===r?void 0:r.includes(n))?n+12-h:n-h;break;case ns.ArrowDown:s=Un(t,h),o=(null===(a=null===f||void 0===f?void 0:f[f.length-1])||void 0===a?void 0:a.includes(n))?n-12+h:n+h}return{newCalculatedDate:s,newCalculatedMonth:o}};if(n!==ns.Enter){var v=function(e,n,r){for(var a=e,s=!1,o=0,i=g(a,n,r),l=i.newCalculatedDate,u=i.newCalculatedMonth;!s;){if(o>=40){l=n,u=r;break}var p;if(c&&l<c)a=ns.ArrowRight,l=(p=g(a,l,u)).newCalculatedDate,u=p.newCalculatedMonth;if(d&&l>d)a=ns.ArrowLeft,l=(p=g(a,l,u)).newCalculatedDate,u=p.newCalculatedMonth;if(_s(l,t.props))l=(p=g(a,l,u)).newCalculatedDate,u=p.newCalculatedMonth;else s=!0;o++}return{newCalculatedDate:l,newCalculatedMonth:u}}(n,i,r),y=v.newCalculatedDate,b=v.newCalculatedMonth;switch(n){case ns.ArrowRight:case ns.ArrowLeft:case ns.ArrowUp:case ns.ArrowDown:t.handleMonthNavigation(b,y)}}else t.isMonthDisabled(r)||(t.onMonthClick(e,r),null===l||void 0===l||l(o))}},t.getVerticalOffset=function(e){var t,n;return null!==(n=null===(t=mo[e])||void 0===t?void 0:t.verticalNavigationOffset)&&void 0!==n?n:0},t.onMonthKeyDown=function(e,n){var r=t.props,a=r.disabledKeyboardNavigation,s=r.handleOnMonthKeyDown,o=e.key;o!==ns.Tab&&e.preventDefault(),a||t.handleKeyboardNavigation(e,o,n),s&&s(e)},t.onQuarterClick=function(e,n){var r=_n(t.props.day,n);Ms(r,t.props)||t.handleDayClick(gs(r),e)},t.onQuarterMouseEnter=function(e){var n=_n(t.props.day,e);Ms(n,t.props)||t.handleDayMouseEnter(gs(n))},t.handleQuarterNavigation=function(e,n){var r,a,s,o;t.isDisabled(n)||t.isExcluded(n)||(null===(a=(r=t.props).setPreSelection)||void 0===a||a.call(r,n),null===(o=null===(s=t.QUARTER_REFS[e-1])||void 0===s?void 0:s.current)||void 0===o||o.focus())},t.onQuarterKeyDown=function(e,n){var r,a,s=e.key;if(!t.props.disabledKeyboardNavigation)switch(s){case ns.Enter:t.onQuarterClick(e,n),null===(a=(r=t.props).setPreSelection)||void 0===a||a.call(r,t.props.selected);break;case ns.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(4===n?1:n+1,Vn(t.props.preSelection,1));break;case ns.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(1===n?4:n-1,qn(t.props.preSelection,1))}},t.isMonthDisabledForLabelDate=function(e){var n,r=t.props,a=r.day,s=r.minDate,o=r.maxDate,i=r.excludeDates,l=r.includeDates,c=Tn(a,e);return{isDisabled:null!==(n=(s||o||i||l)&&Os(c,t.props))&&void 0!==n&&n,labelDate:c}},t.isMonthDisabled=function(e){return t.isMonthDisabledForLabelDate(e).isDisabled},t.getMonthClassNames=function(e){var n=t.props,r=n.day,a=n.startDate,s=n.endDate,o=n.preSelection,i=n.monthClassName,l=i?i(Tn(r,e)):void 0,c=t.getSelection();return J("react-datepicker__month-text","react-datepicker__month-".concat(e),l,{"react-datepicker__month-text--disabled":t.isMonthDisabled(e),"react-datepicker__month-text--selected":c?t.isSelectMonthInList(r,e,c):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&o&&t.isSelectedMonth(r,e,o)&&!t.isMonthSelected()&&!t.isMonthDisabled(e),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(e),"react-datepicker__month-text--in-range":a&&s?Ts(a,s,e,r):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(e),"react-datepicker__month-text--range-end":t.isRangeEndMonth(e),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(e),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(e),"react-datepicker__month-text--today":t.isCurrentMonth(r,e)})},t.getTabIndex=function(e){if(null==t.props.preSelection)return"-1";var n=Rn(t.props.preSelection),r=t.isMonthDisabledForLabelDate(n).isDisabled;return e!==n||r||t.props.disabledKeyboardNavigation?"-1":"0"},t.getQuarterTabIndex=function(e){if(null==t.props.preSelection)return"-1";var n=Fn(t.props.preSelection),r=Ms(t.props.day,t.props);return e!==n||r||t.props.disabledKeyboardNavigation?"-1":"0"},t.getAriaLabel=function(e){var n=t.props,r=n.chooseDayAriaLabelPrefix,a=void 0===r?"Choose":r,s=n.disabledDayAriaLabelPrefix,o=void 0===s?"Not available":s,i=n.day,l=n.locale,c=Tn(i,e),d=t.isDisabled(c)||t.isExcluded(c)?o:a;return"".concat(d," ").concat(cs(c,"MMMM yyyy",l))},t.getQuarterClassNames=function(e){var n=t.props,r=n.day,a=n.startDate,s=n.endDate,o=n.selected,i=n.minDate,l=n.maxDate,c=n.excludeDates,d=n.includeDates,u=n.filterDate,p=n.preSelection,m=n.disabledKeyboardNavigation,h=(i||l||c||d||u)&&Ms(_n(r,e),t.props);return J("react-datepicker__quarter-text","react-datepicker__quarter-".concat(e),{"react-datepicker__quarter-text--disabled":h,"react-datepicker__quarter-text--selected":o?t.isSelectedQuarter(r,e,o):void 0,"react-datepicker__quarter-text--keyboard-selected":!m&&p&&t.isSelectedQuarter(r,e,p)&&!h,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(e),"react-datepicker__quarter-text--in-range":a&&s?Fs(a,s,e,r):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(e),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(e),"react-datepicker__quarter-text--today":t.isCurrentQuarter(r,e)})},t.getMonthContent=function(e){var n=t.props,r=n.showFullMonthYearPicker,a=n.renderMonthContent,s=n.locale,o=n.day,i=Is(e,s),l=Es(e,s);return a?a(e,i,l,o):r?l:i},t.getQuarterContent=function(e){var n,r=t.props,a=r.renderQuarterContent,s=function(e,t){return cs(_n(os(),e),"QQQ",t)}(e,r.locale);return null!==(n=null===a||void 0===a?void 0:a(e,s))&&void 0!==n?n:s},t.renderMonths=function(){var e,n=t.props,a=n.showTwoColumnMonthYearPicker,s=n.showFourColumnMonthYearPicker,o=n.day,i=n.selected,l=null===(e=mo[ho(s,a)])||void 0===e?void 0:e.grid;return null===l||void 0===l?void 0:l.map(function(e,n){return r.createElement("div",{className:"react-datepicker__month-wrapper",key:n},e.map(function(e,n){return r.createElement("div",{ref:t.MONTH_REFS[e],key:n,onClick:function(n){t.onMonthClick(n,e)},onKeyDown:function(n){ro(n)&&(n.preventDefault(),n.key=ns.Enter),t.onMonthKeyDown(n,e)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(e)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(e)}:void 0,tabIndex:Number(t.getTabIndex(e)),className:t.getMonthClassNames(e),"aria-disabled":t.isMonthDisabled(e),role:"option","aria-label":t.getAriaLabel(e),"aria-current":t.isCurrentMonth(o,e)?"date":void 0,"aria-selected":i?t.isSelectedMonth(o,e,i):void 0},t.getMonthContent(e))}))})},t.renderQuarters=function(){var e=t.props,n=e.day,a=e.selected;return r.createElement("div",{className:"react-datepicker__quarter-wrapper"},[1,2,3,4].map(function(e,s){return r.createElement("div",{key:s,ref:t.QUARTER_REFS[s],role:"option",onClick:function(n){t.onQuarterClick(n,e)},onKeyDown:function(n){t.onQuarterKeyDown(n,e)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(e)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(e)}:void 0,className:t.getQuarterClassNames(e),"aria-selected":a?t.isSelectedQuarter(n,e,a):void 0,tabIndex:Number(t.getQuarterTabIndex(e)),"aria-current":t.isCurrentQuarter(n,e)?"date":void 0},t.getQuarterContent(e))}))},t.getClassNames=function(){var e=t.props,n=e.selectingDate,r=e.selectsStart,a=e.selectsEnd;return J("react-datepicker__month",{"react-datepicker__month--selecting-range":n&&(r||a)},{"react-datepicker__monthPicker":e.showMonthYearPicker},{"react-datepicker__quarterPicker":e.showQuarterYearPicker},{"react-datepicker__weekPicker":e.showWeekPicker})},t}return Za(t,e),t.prototype.getSelection=function(){var e=this.props,t=e.selected,n=e.selectedDates;return e.selectsMultiple?n:t?[t]:void 0},t.prototype.render=function(){var e=this.props,t=e.showMonthYearPicker,n=e.showQuarterYearPicker,a=e.day,s=e.ariaLabelPrefix,o=void 0===s?"Month ":s,i=o?o.trim()+" ":"";return r.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(i).concat(cs(a,"MMMM, yyyy",this.props.locale)),role:"listbox"},t?this.renderMonths():n?this.renderQuarters():this.renderWeeks())},t}(r.Component),go=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isSelectedMonth=function(e){return t.props.month===e},t.renderOptions=function(){return t.props.monthNames.map(function(e,n){return r.createElement("div",{className:t.isSelectedMonth(n)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:e,onClick:t.onChange.bind(t,n),"aria-selected":t.isSelectedMonth(n)?"true":void 0},t.isSelectedMonth(n)?r.createElement("span",{className:"react-datepicker__month-option--selected"},"\u2713"):"",e)})},t.onChange=function(e){return t.props.onChange(e)},t.handleClickOutside=function(){return t.props.onCancel()},t}return Za(t,e),t.prototype.render=function(){return r.createElement(as,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(r.Component),vo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(e){return e.map(function(e,t){return r.createElement("option",{key:e,value:t},e)})},t.renderSelectMode=function(e){return r.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(e){return t.onChange(parseInt(e.target.value))}},t.renderSelectOptions(e))},t.renderReadView=function(e,n){return r.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},r.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),r.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},n[t.props.month]))},t.renderDropdown=function(e){return r.createElement(go,es({key:"dropdown"},t.props,{monthNames:e,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(e){var n=t.state.dropdownVisible,r=[t.renderReadView(!n,e)];return n&&r.unshift(t.renderDropdown(e)),r},t.onChange=function(e){t.toggleDropdown(),e!==t.props.month&&t.props.onChange(e)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return Za(t,e),t.prototype.render=function(){var e,t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(e){return Is(e,t.props.locale)}:function(e){return Es(e,t.props.locale)});switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode(n);break;case"select":e=this.renderSelectMode(n)}return r.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},e)},t}(r.Component);function yo(e,t){for(var n=[],r=hs(e),a=hs(t);!rr(r,a);)n.push(os(r)),r=Un(r,1);return n}var bo=function(e){function t(t){var n=e.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(e){var t=ir(e),a=xs(n.props.date,e)&&ws(n.props.date,e);return r.createElement("div",{className:a?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:t,onClick:n.onChange.bind(n,t),"aria-selected":a?"true":void 0},a?r.createElement("span",{className:"react-datepicker__month-year-option--selected"},"\u2713"):"",cs(e,n.props.dateFormat,n.props.locale))})},n.onChange=function(e){return n.props.onChange(e)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:yo(n.props.minDate,n.props.maxDate)},n}return Za(t,e),t.prototype.render=function(){var e=J({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return r.createElement(as,{className:e,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(r.Component),xo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var e=hs(t.props.minDate),n=hs(t.props.maxDate),a=[];!rr(e,n);){var s=ir(e);a.push(r.createElement("option",{key:s,value:s},cs(e,t.props.dateFormat,t.props.locale))),e=Un(e,1)}return a},t.onSelectChange=function(e){t.onChange(parseInt(e.target.value))},t.renderSelectMode=function(){return r.createElement("select",{value:ir(hs(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(e){var n=cs(t.props.date,t.props.dateFormat,t.props.locale);return r.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},r.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),r.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},n))},t.renderDropdown=function(){return r.createElement(bo,es({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var e=t.state.dropdownVisible,n=[t.renderReadView(!e)];return e&&n.unshift(t.renderDropdown()),n},t.onChange=function(e){t.toggleDropdown();var n=os(e);xs(t.props.date,n)&&ws(t.props.date,n)||t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return Za(t,e),t.prototype.render=function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return r.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},e)},t}(r.Component),wo=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var e,r,a;n.list&&(n.list.scrollTop=null!==(a=n.centerLi&&t.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-(null!==(r=null===(e=n.header)||void 0===e?void 0:e.clientHeight)&&void 0!==r?r:0):n.list.clientHeight,n.centerLi))&&void 0!==a?a:0)})},n.handleClick=function(e){var t,r;(n.props.minTime||n.props.maxTime)&&Us(e,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&zs(e,n.props)||null===(r=(t=n.props).onChange)||void 0===r||r.call(t,e)},n.isSelectedTime=function(e){return n.props.selected&&(t=n.props.selected,r=e,eo(t).getTime()===eo(r).getTime());var t,r},n.isDisabledTime=function(e){return(n.props.minTime||n.props.maxTime)&&Us(e,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&zs(e,n.props)},n.liClasses=function(e){var r,a=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(e):void 0];return n.isSelectedTime(e)&&a.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(e)&&a.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(3600*Bn(e)+60*Hn(e)+zn(e))%(60*(null!==(r=n.props.intervals)&&void 0!==r?r:t.defaultProps.intervals))!==0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")},n.handleOnKeyDown=function(e,t){var r,a;e.key===ns.Space&&(e.preventDefault(),e.key=ns.Enter),(e.key===ns.ArrowUp||e.key===ns.ArrowLeft)&&e.target instanceof HTMLElement&&e.target.previousSibling&&(e.preventDefault(),e.target.previousSibling instanceof HTMLElement&&e.target.previousSibling.focus()),(e.key===ns.ArrowDown||e.key===ns.ArrowRight)&&e.target instanceof HTMLElement&&e.target.nextSibling&&(e.preventDefault(),e.target.nextSibling instanceof HTMLElement&&e.target.nextSibling.focus()),e.key===ns.Enter&&n.handleClick(t),null===(a=(r=n.props).handleOnKeyDown)||void 0===a||a.call(r,e)},n.renderTimes=function(){for(var e,a=[],s="string"===typeof n.props.format?n.props.format:"p",o=null!==(e=n.props.intervals)&&void 0!==e?e:t.defaultProps.intervals,i=n.props.selected||n.props.openToDate||os(),l=ps(i),c=n.props.injectTimes&&n.props.injectTimes.sort(function(e,t){return e.getTime()-t.getTime()}),d=60*function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+n-+t)/36e5)}(i),u=d/o,p=0;p<u;p++){var m=tr(l,p*o);if(a.push(m),c){var h=$s(l,m,p,o,c);a=a.concat(h)}}var f=a.reduce(function(e,t){return t.getTime()<=i.getTime()?t:e},a[0]);return a.map(function(e){return r.createElement("li",{key:e.valueOf(),onClick:n.handleClick.bind(n,e),className:n.liClasses(e),ref:function(t){e===f&&(n.centerLi=t)},onKeyDown:function(t){n.handleOnKeyDown(t,e)},tabIndex:e===f?0:-1,role:"option","aria-selected":n.isSelectedTime(e)?"true":void 0,"aria-disabled":n.isDisabledTime(e)?"true":void 0},cs(e,s,n.props.locale))})},n.renderTimeCaption=function(){return!1===n.props.showTimeCaption?r.createElement(r.Fragment,null):r.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(e){n.header=e}},r.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Za(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var e;null===(e=this.resizeObserver)||void 0===e||e.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var e=this,t=this.props.monthRef;this.updateContainerHeight(),t&&(this.resizeObserver=new ResizeObserver(function(){e.updateContainerHeight()}),this.resizeObserver.observe(t))},t.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var e,n=this,a=this.state.height;return r.createElement("div",{className:"react-datepicker__time-container ".concat((null!==(e=this.props.todayButton)&&void 0!==e?e:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),r.createElement("div",{className:"react-datepicker__time"},r.createElement("div",{className:"react-datepicker__time-box"},r.createElement("ul",{className:"react-datepicker__time-list",ref:function(e){n.list=e},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(e,t){return t.offsetTop-(e/2-t.clientHeight/2)},t}(r.Component),So=function(e){function t(t){var n=e.call(this,t)||this;return n.YEAR_REFS=ts([],Array(n.props.yearItemNumber),!0).map(function(){return(0,r.createRef)()}),n.isDisabled=function(e){return Ps(e,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(e){return As(e,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var e;return null!==(e=n.props.selectingDate)&&void 0!==e?e:n.props.preSelection},n.updateFocusOnPaginate=function(e){window.requestAnimationFrame(function(){var t,r;null===(r=null===(t=n.YEAR_REFS[e])||void 0===t?void 0:t.current)||void 0===r||r.focus()})},n.handleYearClick=function(e,t){n.props.onDayClick&&n.props.onDayClick(e,t)},n.handleYearNavigation=function(e,t){var r,a,s,o,i=n.props,l=i.date,c=i.yearItemNumber;if(void 0!==l&&void 0!==c){var d=Zs(l,c).startPeriod;n.isDisabled(t)||n.isExcluded(t)||(null===(a=(r=n.props).setPreSelection)||void 0===a||a.call(r,t),e-d<0?n.updateFocusOnPaginate(c-(d-e)):e-d>=c?n.updateFocusOnPaginate(Math.abs(c-(e-d))):null===(o=null===(s=n.YEAR_REFS[e-d])||void 0===s?void 0:s.current)||void 0===o||o.focus())}},n.isSameDay=function(e,t){return Ns(e,t)},n.isCurrentYear=function(e){return e===Mn(os())},n.isRangeStart=function(e){return n.props.startDate&&n.props.endDate&&xs(lr(os(),e),n.props.startDate)},n.isRangeEnd=function(e){return n.props.startDate&&n.props.endDate&&xs(lr(os(),e),n.props.endDate)},n.isInRange=function(e){return Rs(e,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(e){var t=n.props,r=t.selectsStart,a=t.selectsEnd,s=t.selectsRange,o=t.startDate,i=t.endDate;return!(!(r||a||s)||!n.selectingDate())&&(r&&i?Rs(e,n.selectingDate(),i):(a&&o||!(!s||!o||i))&&Rs(e,o,n.selectingDate()))},n.isSelectingRangeStart=function(e){var t;if(!n.isInSelectingRange(e))return!1;var r=n.props,a=r.startDate,s=r.selectsStart,o=lr(os(),e);return xs(o,s?null!==(t=n.selectingDate())&&void 0!==t?t:null:null!==a&&void 0!==a?a:null)},n.isSelectingRangeEnd=function(e){var t;if(!n.isInSelectingRange(e))return!1;var r=n.props,a=r.endDate,s=r.selectsEnd,o=r.selectsRange,i=lr(os(),e);return xs(i,s||o?null!==(t=n.selectingDate())&&void 0!==t?t:null:null!==a&&void 0!==a?a:null)},n.isKeyboardSelected=function(e){if(void 0!==n.props.date&&null!=n.props.selected&&null!=n.props.preSelection){var t=n.props,r=t.minDate,a=t.maxDate,s=t.excludeDates,o=t.includeDates,i=t.filterDate,l=fs(lr(n.props.date,e)),c=(r||a||s||o||i)&&Ls(e,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!Ns(l,fs(n.props.selected))&&Ns(l,fs(n.props.preSelection))&&!c}},n.isSelectedYear=function(e){var t=n.props,r=t.selectsMultiple,a=t.selected,s=t.selectedDates;return r?null===s||void 0===s?void 0:s.some(function(t){return e===Mn(t)}):!!a&&e===Mn(a)},n.onYearClick=function(e,t){var r=n.props.date;void 0!==r&&n.handleYearClick(fs(lr(r,t)),e)},n.onYearKeyDown=function(e,t){var r,a,s=e.key,o=n.props,i=o.date,l=o.yearItemNumber,c=o.handleOnKeyDown;if(s!==ns.Tab&&e.preventDefault(),!n.props.disabledKeyboardNavigation)switch(s){case ns.Enter:if(null==n.props.selected)break;n.onYearClick(e,t),null===(a=(r=n.props).setPreSelection)||void 0===a||a.call(r,n.props.selected);break;case ns.ArrowRight:if(null==n.props.preSelection)break;n.handleYearNavigation(t+1,Kn(n.props.preSelection,1));break;case ns.ArrowLeft:if(null==n.props.preSelection)break;n.handleYearNavigation(t-1,Jn(n.props.preSelection,1));break;case ns.ArrowUp:if(void 0===i||void 0===l||null==n.props.preSelection)break;var d=Zs(i,l).startPeriod;if((m=t-(p=3))<d){var u=l%p;t>=d&&t<d+u?p=u:p+=u,m=t-p}n.handleYearNavigation(m,Jn(n.props.preSelection,p));break;case ns.ArrowDown:if(void 0===i||void 0===l||null==n.props.preSelection)break;var p,m,h=Zs(i,l).endPeriod;if((m=t+(p=3))>h){u=l%p;t<=h&&t>h-u?p=u:p+=u,m=t+p}n.handleYearNavigation(m,Kn(n.props.preSelection,p))}c&&c(e)},n.getYearClassNames=function(e){var t=n.props,r=t.date,a=t.minDate,s=t.maxDate,o=t.excludeDates,i=t.includeDates,l=t.filterDate,c=t.yearClassName;return J("react-datepicker__year-text","react-datepicker__year-".concat(e),r?null===c||void 0===c?void 0:c(lr(r,e)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(e),"react-datepicker__year-text--disabled":(a||s||o||i||l)&&Ls(e,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(e),"react-datepicker__year-text--range-start":n.isRangeStart(e),"react-datepicker__year-text--range-end":n.isRangeEnd(e),"react-datepicker__year-text--in-range":n.isInRange(e),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(e),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(e),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(e),"react-datepicker__year-text--today":n.isCurrentYear(e)})},n.getYearTabIndex=function(e){if(n.props.disabledKeyboardNavigation||null==n.props.preSelection)return"-1";var t=Mn(n.props.preSelection),r=Ls(e,n.props);return e!==t||r?"-1":"0"},n.getYearContent=function(e){return n.props.renderYearContent?n.props.renderYearContent(e):e},n}return Za(t,e),t.prototype.render=function(){var e=this,t=[],n=this.props,a=n.date,s=n.yearItemNumber,o=n.onYearMouseEnter,i=n.onYearMouseLeave;if(void 0===a)return null;for(var l=Zs(a,s),c=l.startPeriod,d=l.endPeriod,u=function(n){t.push(r.createElement("div",{ref:p.YEAR_REFS[n-c],onClick:function(t){e.onYearClick(t,n)},onKeyDown:function(t){ro(t)&&(t.preventDefault(),t.key=ns.Enter),e.onYearKeyDown(t,n)},tabIndex:Number(p.getYearTabIndex(n)),className:p.getYearClassNames(n),onMouseEnter:p.props.usePointerEvent?void 0:function(e){return o(e,n)},onPointerEnter:p.props.usePointerEvent?function(e){return o(e,n)}:void 0,onMouseLeave:p.props.usePointerEvent?void 0:function(e){return i(e,n)},onPointerLeave:p.props.usePointerEvent?function(e){return i(e,n)}:void 0,key:n,"aria-current":p.isCurrentYear(n)?"date":void 0},p.getYearContent(n)))},p=this,m=c;m<=d;m++)u(m);return r.createElement("div",{className:"react-datepicker__year"},r.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},t))},t}(r.Component);function No(e,t,n,r){for(var a=[],s=0;s<2*t+1;s++){var o=e+t-s,i=!0;n&&(i=Mn(n)<=o),r&&i&&(i=Mn(r)>=o),i&&a.push(o)}return a}var jo=function(e){function t(t){var n=e.call(this,t)||this;n.renderOptions=function(){var e=n.props.year,t=n.state.yearsList.map(function(t){return r.createElement("div",{className:e===t?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:t,onClick:n.onChange.bind(n,t),"aria-selected":e===t?"true":void 0},e===t?r.createElement("span",{className:"react-datepicker__year-option--selected"},"\u2713"):"",t)}),a=n.props.minDate?Mn(n.props.minDate):null,s=n.props.maxDate?Mn(n.props.maxDate):null;return s&&n.state.yearsList.find(function(e){return e===s})||t.unshift(r.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},r.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),a&&n.state.yearsList.find(function(e){return e===a})||t.push(r.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},r.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),t},n.onChange=function(e){n.props.onChange(e)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(e){var t=n.state.yearsList.map(function(t){return t+e});n.setState({yearsList:t})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var a=t.yearDropdownItemNumber,s=t.scrollableYearDropdown,o=a||(s?10:5);return n.state={yearsList:No(n.props.year,o,n.props.minDate,n.props.maxDate)},n.dropdownRef=(0,r.createRef)(),n}return Za(t,e),t.prototype.componentDidMount=function(){var e=this.dropdownRef.current;if(e){var t=e.children?Array.from(e.children):null,n=t?t.find(function(e){return e.ariaSelected}):null;e.scrollTop=n&&n instanceof HTMLElement?n.offsetTop+(n.clientHeight-e.clientHeight)/2:(e.scrollHeight-e.clientHeight)/2}},t.prototype.render=function(){var e=J({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return r.createElement(as,{className:e,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(r.Component),ko=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var e=t.props.minDate?Mn(t.props.minDate):1900,n=t.props.maxDate?Mn(t.props.maxDate):2100,a=[],s=e;s<=n;s++)a.push(r.createElement("option",{key:s,value:s},s));return a},t.onSelectChange=function(e){t.onChange(parseInt(e.target.value))},t.renderSelectMode=function(){return r.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(e){return r.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(e){return t.toggleDropdown(e)}},r.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),r.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return r.createElement(jo,es({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var e=t.state.dropdownVisible,n=[t.renderReadView(!e)];return e&&n.unshift(t.renderDropdown()),n},t.onChange=function(e){t.toggleDropdown(),e!==t.props.year&&t.props.onChange(e)},t.toggleDropdown=function(e){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,e)})},t.handleYearChange=function(e,n){var r;null===(r=t.onSelect)||void 0===r||r.call(t,e,n),t.setOpen()},t.onSelect=function(e,n){var r,a;null===(a=(r=t.props).onSelect)||void 0===a||a.call(r,e,n)},t.setOpen=function(){var e,n;null===(n=(e=t.props).setOpen)||void 0===n||n.call(e,!0)},t}return Za(t,e),t.prototype.render=function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return r.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},e)},t}(r.Component),Co=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],Do=function(e){function t(n){var a=e.call(this,n)||this;return a.monthContainer=void 0,a.handleClickOutside=function(e){a.props.onClickOutside(e)},a.setClickOutsideRef=function(){return a.containerRef.current},a.handleDropdownFocus=function(e){var t,n;(function(e){var t=(e.className||"").split(/\s+/);return Co.some(function(e){return t.indexOf(e)>=0})})(e.target)&&(null===(n=(t=a.props).onDropdownFocus)||void 0===n||n.call(t,e))},a.getDateInView=function(){var e=a.props,t=e.preSelection,n=e.selected,r=e.openToDate,s=Qs(a.props),o=Ks(a.props),i=os(),l=r||n||t;return l||(s&&qt(i,s)?s:o&&rr(i,o)?o:i)},a.increaseMonth=function(){a.setState(function(e){return{date:Un(e.date,1)}},function(){return a.handleMonthChange(a.state.date)})},a.decreaseMonth=function(){a.setState(function(e){return{date:Yn(e.date,1)}},function(){return a.handleMonthChange(a.state.date)})},a.handleDayClick=function(e,t,n){a.props.onSelect(e,t,n),a.props.setPreSelection&&a.props.setPreSelection(e)},a.handleDayMouseEnter=function(e){a.setState({selectingDate:e}),a.props.onDayMouseEnter&&a.props.onDayMouseEnter(e)},a.handleMonthMouseLeave=function(){a.setState({selectingDate:void 0}),a.props.onMonthMouseLeave&&a.props.onMonthMouseLeave()},a.handleYearMouseEnter=function(e,t){a.setState({selectingDate:lr(os(),t)}),a.props.onYearMouseEnter&&a.props.onYearMouseEnter(e,t)},a.handleYearMouseLeave=function(e,t){a.props.onYearMouseLeave&&a.props.onYearMouseLeave(e,t)},a.handleYearChange=function(e){var t,n,r,s;null===(n=(t=a.props).onYearChange)||void 0===n||n.call(t,e),a.setState({isRenderAriaLiveMessage:!0}),a.props.adjustDateOnChange&&(a.props.onSelect(e),null===(s=(r=a.props).setOpen)||void 0===s||s.call(r,!0)),a.props.setPreSelection&&a.props.setPreSelection(e)},a.getEnabledPreSelectionDateForMonth=function(e){if(!Ps(e,a.props))return e;for(var t=hs(e),n=cr(bs(e),t),r=null,s=0;s<=n;s++){var o=Pt(t,s);if(!Ps(o,a.props)){r=o;break}}return r},a.handleMonthChange=function(e){var t,n,r,s=null!==(t=a.getEnabledPreSelectionDateForMonth(e))&&void 0!==t?t:e;a.handleCustomMonthChange(s),a.props.adjustDateOnChange&&(a.props.onSelect(s),null===(r=(n=a.props).setOpen)||void 0===r||r.call(n,!0)),a.props.setPreSelection&&a.props.setPreSelection(s)},a.handleCustomMonthChange=function(e){var t,n;null===(n=(t=a.props).onMonthChange)||void 0===n||n.call(t,e),a.setState({isRenderAriaLiveMessage:!0})},a.handleMonthYearChange=function(e){a.handleYearChange(e),a.handleMonthChange(e)},a.changeYear=function(e){a.setState(function(t){return{date:lr(t.date,Number(e))}},function(){return a.handleYearChange(a.state.date)})},a.changeMonth=function(e){a.setState(function(t){return{date:Tn(t.date,Number(e))}},function(){return a.handleMonthChange(a.state.date)})},a.changeMonthYear=function(e){a.setState(function(t){return{date:lr(Tn(t.date,Rn(e)),Mn(e))}},function(){return a.handleMonthYearChange(a.state.date)})},a.header=function(e){void 0===e&&(e=a.state.date);var t=ms(e,a.props.locale,a.props.calendarStartDay),n=[];return a.props.showWeekNumbers&&n.push(r.createElement("div",{key:"W",className:"react-datepicker__day-name"},a.props.weekLabel||"#")),n.concat([0,1,2,3,4,5,6].map(function(e){var n=Pt(t,e),s=a.formatWeekday(n,a.props.locale),o=a.props.weekDayClassName?a.props.weekDayClassName(n):void 0;return r.createElement("div",{key:e,"aria-label":cs(n,"EEEE",a.props.locale),className:J("react-datepicker__day-name",o)},s)}))},a.formatWeekday=function(e,t){return a.props.formatWeekDay?function(e,t,n){return t(cs(e,"EEEE",n))}(e,a.props.formatWeekDay,t):a.props.useWeekdaysShort?function(e,t){return cs(e,"EEE",t)}(e,t):function(e,t){return cs(e,"EEEEEE",t)}(e,t)},a.decreaseYear=function(){a.setState(function(e){var n;return{date:Jn(e.date,a.props.showYearPicker?null!==(n=a.props.yearItemNumber)&&void 0!==n?n:t.defaultProps.yearItemNumber:1)}},function(){return a.handleYearChange(a.state.date)})},a.clearSelectingDate=function(){a.setState({selectingDate:void 0})},a.renderPreviousButton=function(){var e,n,s;if(!a.props.renderCustomHeader){var o,i=null!==(e=a.props.monthsShown)&&void 0!==e?e:t.defaultProps.monthsShown,l=a.props.showPreviousMonths?i-1:0,c=null!==(n=a.props.monthSelectedIn)&&void 0!==n?n:l,d=Yn(a.state.date,c);switch(!0){case a.props.showMonthYearPicker:o=Vs(a.state.date,a.props);break;case a.props.showYearPicker:o=function(e,t){var n=void 0===t?{}:t,r=n.minDate,a=n.yearItemNumber,s=void 0===a?12:a,o=Zs(fs(Jn(e,s)),s).endPeriod,i=r&&Mn(r);return i&&i>o||!1}(a.state.date,a.props);break;case a.props.showQuarterYearPicker:o=function(e,t){var n=void 0===t?{}:t,r=n.minDate,a=n.includeDates,s=qn(Gt(e),1);return r&&Qn(r,s)>0||a&&a.every(function(e){return Qn(e,s)>0})||!1}(a.state.date,a.props);break;default:o=Ys(d,a.props)}if(((null!==(s=a.props.forceShowMonthNavigation)&&void 0!==s?s:t.defaultProps.forceShowMonthNavigation)||a.props.showDisabledMonthNavigation||!o)&&!a.props.showTimeSelectOnly){var u=["react-datepicker__navigation","react-datepicker__navigation--previous"],p=a.decreaseMonth;(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker)&&(p=a.decreaseYear),o&&a.props.showDisabledMonthNavigation&&(u.push("react-datepicker__navigation--previous--disabled"),p=void 0);var m=a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker,h=a.props,f=h.previousMonthButtonLabel,g=void 0===f?t.defaultProps.previousMonthButtonLabel:f,v=h.previousYearButtonLabel,y=void 0===v?t.defaultProps.previousYearButtonLabel:v,b=a.props,x=b.previousMonthAriaLabel,w=void 0===x?"string"===typeof g?g:"Previous Month":x,S=b.previousYearAriaLabel,N=void 0===S?"string"===typeof y?y:"Previous Year":S;return r.createElement("button",{type:"button",className:u.join(" "),onClick:p,onKeyDown:a.props.handleOnKeyDown,"aria-label":m?N:w},r.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"].join(" ")},m?y:g))}}},a.increaseYear=function(){a.setState(function(e){var n;return{date:Kn(e.date,a.props.showYearPicker?null!==(n=a.props.yearItemNumber)&&void 0!==n?n:t.defaultProps.yearItemNumber:1)}},function(){return a.handleYearChange(a.state.date)})},a.renderNextButton=function(){var e;if(!a.props.renderCustomHeader){var n;switch(!0){case a.props.showMonthYearPicker:n=qs(a.state.date,a.props);break;case a.props.showYearPicker:n=function(e,t){var n=void 0===t?{}:t,r=n.maxDate,a=n.yearItemNumber,s=void 0===a?12:a,o=Zs(Kn(e,s),s).startPeriod,i=r&&Mn(r);return i&&i<o||!1}(a.state.date,a.props);break;case a.props.showQuarterYearPicker:n=function(e,t){var n=void 0===t?{}:t,r=n.maxDate,a=n.includeDates,s=Vn(Ln(e),1);return r&&Qn(s,r)>0||a&&a.every(function(e){return Qn(s,e)>0})||!1}(a.state.date,a.props);break;default:n=Ws(a.state.date,a.props)}if(((null!==(e=a.props.forceShowMonthNavigation)&&void 0!==e?e:t.defaultProps.forceShowMonthNavigation)||a.props.showDisabledMonthNavigation||!n)&&!a.props.showTimeSelectOnly){var s=["react-datepicker__navigation","react-datepicker__navigation--next"];a.props.showTimeSelect&&s.push("react-datepicker__navigation--next--with-time"),a.props.todayButton&&s.push("react-datepicker__navigation--next--with-today-button");var o=a.increaseMonth;(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker)&&(o=a.increaseYear),n&&a.props.showDisabledMonthNavigation&&(s.push("react-datepicker__navigation--next--disabled"),o=void 0);var i=a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker,l=a.props,c=l.nextMonthButtonLabel,d=void 0===c?t.defaultProps.nextMonthButtonLabel:c,u=l.nextYearButtonLabel,p=void 0===u?t.defaultProps.nextYearButtonLabel:u,m=a.props,h=m.nextMonthAriaLabel,f=void 0===h?"string"===typeof d?d:"Next Month":h,g=m.nextYearAriaLabel,v=void 0===g?"string"===typeof p?p:"Next Year":g;return r.createElement("button",{type:"button",className:s.join(" "),onClick:o,onKeyDown:a.props.handleOnKeyDown,"aria-label":i?v:f},r.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"].join(" ")},i?p:d))}}},a.renderCurrentMonth=function(e){void 0===e&&(e=a.state.date);var t=["react-datepicker__current-month"];return a.props.showYearDropdown&&t.push("react-datepicker__current-month--hasYearDropdown"),a.props.showMonthDropdown&&t.push("react-datepicker__current-month--hasMonthDropdown"),a.props.showMonthYearDropdown&&t.push("react-datepicker__current-month--hasMonthYearDropdown"),r.createElement("h2",{className:t.join(" ")},cs(e,a.props.dateFormat,a.props.locale))},a.renderYearDropdown=function(e){if(void 0===e&&(e=!1),a.props.showYearDropdown&&!e)return r.createElement(ko,es({},t.defaultProps,a.props,{date:a.state.date,onChange:a.changeYear,year:Mn(a.state.date)}))},a.renderMonthDropdown=function(e){if(void 0===e&&(e=!1),a.props.showMonthDropdown&&!e)return r.createElement(vo,es({},t.defaultProps,a.props,{month:Rn(a.state.date),onChange:a.changeMonth}))},a.renderMonthYearDropdown=function(e){if(void 0===e&&(e=!1),a.props.showMonthYearDropdown&&!e)return r.createElement(xo,es({},t.defaultProps,a.props,{date:a.state.date,onChange:a.changeMonthYear}))},a.handleTodayButtonClick=function(e){a.props.onSelect(vs(),e),a.props.setPreSelection&&a.props.setPreSelection(vs())},a.renderTodayButton=function(){if(a.props.todayButton&&!a.props.showTimeSelectOnly)return r.createElement("div",{className:"react-datepicker__today-button",onClick:a.handleTodayButtonClick},a.props.todayButton)},a.renderDefaultHeader=function(e){var t=e.monthDate,n=e.i;return r.createElement("div",{className:"react-datepicker__header ".concat(a.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},a.renderCurrentMonth(t),r.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(a.props.dropdownMode),onFocus:a.handleDropdownFocus},a.renderMonthDropdown(0!==n),a.renderMonthYearDropdown(0!==n),a.renderYearDropdown(0!==n)),r.createElement("div",{className:"react-datepicker__day-names"},a.header(t)))},a.renderCustomHeader=function(e){var t,n,s=e.monthDate,o=e.i;if(a.props.showTimeSelect&&!a.state.monthContainer||a.props.showTimeSelectOnly)return null;var i=Ys(a.state.date,a.props),l=Ws(a.state.date,a.props),c=Vs(a.state.date,a.props),d=qs(a.state.date,a.props),u=!a.props.showMonthYearPicker&&!a.props.showQuarterYearPicker&&!a.props.showYearPicker;return r.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:a.props.onDropdownFocus},null===(n=(t=a.props).renderCustomHeader)||void 0===n?void 0:n.call(t,es(es({},a.state),{customHeaderCount:o,monthDate:s,changeMonth:a.changeMonth,changeYear:a.changeYear,decreaseMonth:a.decreaseMonth,increaseMonth:a.increaseMonth,decreaseYear:a.decreaseYear,increaseYear:a.increaseYear,prevMonthButtonDisabled:i,nextMonthButtonDisabled:l,prevYearButtonDisabled:c,nextYearButtonDisabled:d})),u&&r.createElement("div",{className:"react-datepicker__day-names"},a.header(s)))},a.renderYearHeader=function(e){var n=e.monthDate,s=a.props,o=s.showYearPicker,i=s.yearItemNumber,l=Zs(n,void 0===i?t.defaultProps.yearItemNumber:i),c=l.startPeriod,d=l.endPeriod;return r.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},o?"".concat(c," - ").concat(d):Mn(n))},a.renderHeader=function(e){var t=e.monthDate,n=e.i,r={monthDate:t,i:void 0===n?0:n};switch(!0){case void 0!==a.props.renderCustomHeader:return a.renderCustomHeader(r);case a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker:return a.renderYearHeader(r);default:return a.renderDefaultHeader(r)}},a.renderMonths=function(){var e,n;if(!a.props.showTimeSelectOnly&&!a.props.showYearPicker){for(var s=[],o=null!==(e=a.props.monthsShown)&&void 0!==e?e:t.defaultProps.monthsShown,i=a.props.showPreviousMonths?o-1:0,l=a.props.showMonthYearPicker||a.props.showQuarterYearPicker?Kn(a.state.date,i):Yn(a.state.date,i),c=null!==(n=a.props.monthSelectedIn)&&void 0!==n?n:i,d=0;d<o;++d){var u=d-c+i,p=a.props.showMonthYearPicker||a.props.showQuarterYearPicker?Kn(l,u):Un(l,u),m="month-".concat(d),h=d<o-1,f=d>0;s.push(r.createElement("div",{key:m,ref:function(e){a.monthContainer=null!==e&&void 0!==e?e:void 0},className:"react-datepicker__month-container"},a.renderHeader({monthDate:p,i:d}),r.createElement(fo,es({},t.defaultProps,a.props,{containerRef:a.containerRef,ariaLabelPrefix:a.props.monthAriaLabelPrefix,day:p,onDayClick:a.handleDayClick,handleOnKeyDown:a.props.handleOnDayKeyDown,handleOnMonthKeyDown:a.props.handleOnKeyDown,onDayMouseEnter:a.handleDayMouseEnter,onMouseLeave:a.handleMonthMouseLeave,orderInDisplay:d,selectingDate:a.state.selectingDate,monthShowsDuplicateDaysEnd:h,monthShowsDuplicateDaysStart:f}))))}return s}},a.renderYears=function(){if(!a.props.showTimeSelectOnly)return a.props.showYearPicker?r.createElement("div",{className:"react-datepicker__year--container"},a.renderHeader({monthDate:a.state.date}),r.createElement(So,es({},t.defaultProps,a.props,{selectingDate:a.state.selectingDate,date:a.state.date,onDayClick:a.handleDayClick,clearSelectingDate:a.clearSelectingDate,onYearMouseEnter:a.handleYearMouseEnter,onYearMouseLeave:a.handleYearMouseLeave}))):void 0},a.renderTimeSection=function(){if(a.props.showTimeSelect&&(a.state.monthContainer||a.props.showTimeSelectOnly))return r.createElement(wo,es({},t.defaultProps,a.props,{onChange:a.props.onTimeChange,format:a.props.timeFormat,intervals:a.props.timeIntervals,monthRef:a.state.monthContainer}))},a.renderInputTimeSection=function(){var e=a.props.selected?new Date(a.props.selected):void 0,n=e&&ls(e)&&Boolean(a.props.selected)?"".concat(Xs(e.getHours()),":").concat(Xs(e.getMinutes())):"";if(a.props.showTimeInput)return r.createElement(so,es({},t.defaultProps,a.props,{date:e,timeString:n,onChange:a.props.onTimeChange}))},a.renderAriaLiveRegion=function(){var e,n,s=Zs(a.state.date,null!==(e=a.props.yearItemNumber)&&void 0!==e?e:t.defaultProps.yearItemNumber),o=s.startPeriod,i=s.endPeriod;return n=a.props.showYearPicker?"".concat(o," - ").concat(i):a.props.showMonthYearPicker||a.props.showQuarterYearPicker?Mn(a.state.date):"".concat(Es(Rn(a.state.date),a.props.locale)," ").concat(Mn(a.state.date)),r.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},a.state.isRenderAriaLiveMessage&&n)},a.renderChildren=function(){if(a.props.children)return r.createElement("div",{className:"react-datepicker__children-container"},a.props.children)},a.containerRef=(0,r.createRef)(),a.state={date:a.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},a}return Za(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:12}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var e=this;this.props.showTimeSelect&&(this.assignMonthContainer=void e.setState({monthContainer:e.monthContainer}))},t.prototype.componentDidUpdate=function(e){var t=this;if(!this.props.preSelection||Ns(this.props.preSelection,e.preSelection)&&this.props.monthSelectedIn===e.monthSelectedIn)this.props.openToDate&&!Ns(this.props.openToDate,e.openToDate)&&this.setState({date:this.props.openToDate});else{var n=!ws(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return n&&t.handleCustomMonthChange(t.state.date)})}},t.prototype.render=function(){var e=this.props.container||rs;return r.createElement(as,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},r.createElement("div",{style:{display:"contents"},ref:this.containerRef},r.createElement(e,{className:J("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t}(r.Component),Eo=function(e){var t=e.icon,n=e.className,a=void 0===n?"":n,s=e.onClick,o="react-datepicker__calendar-icon";if("string"===typeof t)return r.createElement("i",{className:"".concat(o," ").concat(t," ").concat(a),"aria-hidden":"true",onClick:s});if(r.isValidElement(t)){var i=t;return r.cloneElement(i,{className:"".concat(i.props.className||""," ").concat(o," ").concat(a),onClick:function(e){"function"===typeof i.props.onClick&&i.props.onClick(e),"function"===typeof s&&s(e)}})}return r.createElement("svg",{className:"".concat(o," ").concat(a),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},r.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},Io=function(e){function t(t){var n=e.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return Za(t,e),t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return Rr.createPortal(this.props.children,this.el)},t}(r.Component),Po=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&-1!==e.tabIndex},Ao=function(e){function t(t){var n=e.call(this,t)||this;return n.getTabChildren=function(){var e;return Array.prototype.slice.call(null===(e=n.tabLoopRef.current)||void 0===e?void 0:e.querySelectorAll("[tabindex], a, button, input, select, textarea"),1,-1).filter(Po)},n.handleFocusStart=function(){var e=n.getTabChildren();e&&e.length>1&&e[e.length-1].focus()},n.handleFocusEnd=function(){var e=n.getTabChildren();e&&e.length>1&&e[0].focus()},n.tabLoopRef=(0,r.createRef)(),n}return Za(t,e),t.prototype.render=function(){var e;return(null!==(e=this.props.enableTabLoop)&&void 0!==e?e:t.defaultProps.enableTabLoop)?r.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},r.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,r.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(r.Component);var Oo,To=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Za(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this.props,n=e.className,a=e.wrapperClassName,s=e.hidePopper,o=void 0===s?t.defaultProps.hidePopper:s,i=e.popperComponent,l=e.targetComponent,c=e.enableTabLoop,d=e.popperOnKeyDown,u=e.portalId,p=e.portalHost,m=e.popperProps,h=e.showArrow,f=void 0;if(!o){var g=J("react-datepicker-popper",n);f=r.createElement(Ao,{enableTabLoop:c},r.createElement("div",{ref:m.refs.setFloating,style:m.floatingStyles,className:g,"data-placement":m.placement,onKeyDown:d},i,h&&r.createElement(Wa,{ref:m.arrowRef,context:m.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(f=(0,r.createElement)(this.props.popperContainer,{},f)),u&&!o&&(f=r.createElement(Io,{portalId:u,portalHost:p},f));var v=J("react-datepicker-wrapper",a);return r.createElement(r.Fragment,null,r.createElement("div",{ref:m.refs.setReference,className:v},l),f)},t}(r.Component),_o=(Oo=To,function(e){var t,n,a,s="boolean"!==typeof e.hidePopper||e.hidePopper,i=(0,r.useRef)(null),l=$a(es({open:!s,whileElementsMounted:ba,placement:e.popperPlacement,middleware:ts([(n={padding:15},(0,o.A)((0,o.A)({},wa(n)),{},{options:[n,a]})),Ia(10),Pa({element:i})],null!==(t=e.popperModifiers)&&void 0!==t?t:[],!0)},e.popperProps)),c=es(es({},e),{hidePopper:s,popperProps:es(es({},l),{arrowRef:i})});return r.createElement(Oo,es({},c))}),Mo="react-datepicker-ignore-onclickoutside";var Ro="Date input not valid.",Lo=function(e){function t(n){var a=e.call(this,n)||this;return a.calendar=null,a.input=null,a.getPreSelection=function(){return a.props.openToDate?a.props.openToDate:a.props.selectsEnd&&a.props.startDate?a.props.startDate:a.props.selectsStart&&a.props.endDate?a.props.endDate:os()},a.modifyHolidays=function(){var e;return null===(e=a.props.holidays)||void 0===e?void 0:e.reduce(function(e,t){var n=new Date(t.date);return ls(n)?ts(ts([],e,!0),[es(es({},t),{date:n})],!1):e},[])},a.calcInitialState=function(){var e,t=a.getPreSelection(),n=Qs(a.props),r=Ks(a.props),s=n&&qt(t,ps(n))?n:r&&rr(t,ys(r))?r:t;return{open:a.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:null!==(e=a.props.selectsRange?a.props.startDate:a.props.selected)&&void 0!==e?e:s,highlightDates:Js(a.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},a.resetHiddenStatus=function(){a.setState(es(es({},a.state),{wasHidden:!1}))},a.setHiddenStatus=function(){a.setState(es(es({},a.state),{wasHidden:!0}))},a.setHiddenStateOnVisibilityHidden=function(){"hidden"===document.visibilityState&&a.setHiddenStatus()},a.clearPreventFocusTimeout=function(){a.preventFocusTimeout&&clearTimeout(a.preventFocusTimeout)},a.setFocus=function(){var e,t;null===(t=null===(e=a.input)||void 0===e?void 0:e.focus)||void 0===t||t.call(e,{preventScroll:!0})},a.setBlur=function(){var e,t;null===(t=null===(e=a.input)||void 0===e?void 0:e.blur)||void 0===t||t.call(e),a.cancelFocusInput()},a.deferBlur=function(){requestAnimationFrame(function(){a.setBlur()})},a.setOpen=function(e,t){void 0===t&&(t=!1),a.setState({open:e,preSelection:e&&a.state.open?a.state.preSelection:a.calcInitialState().preSelection,lastPreSelectChange:Bo},function(){e||a.setState(function(e){return{focused:!!t&&e.focused}},function(){!t&&a.deferBlur(),a.setState({inputValue:null})})})},a.inputOk=function(){return Wt(a.state.preSelection)},a.isCalendarOpen=function(){return void 0===a.props.open?a.state.open&&!a.props.disabled&&!a.props.readOnly:a.props.open},a.handleFocus=function(e){var t,n,r=a.state.wasHidden,s=!r||a.state.open;r&&a.resetHiddenStatus(),a.state.preventFocus||(null===(n=(t=a.props).onFocus)||void 0===n||n.call(t,e),!s||a.props.preventOpenOnFocus||a.props.readOnly||a.setOpen(!0)),a.setState({focused:!0})},a.sendFocusBackToInput=function(){a.preventFocusTimeout&&a.clearPreventFocusTimeout(),a.setState({preventFocus:!0},function(){a.preventFocusTimeout=setTimeout(function(){a.setFocus(),a.setState({preventFocus:!1})})})},a.cancelFocusInput=function(){clearTimeout(a.inputFocusTimeout),a.inputFocusTimeout=void 0},a.deferFocusInput=function(){a.cancelFocusInput(),a.inputFocusTimeout=setTimeout(function(){return a.setFocus()},1)},a.handleDropdownFocus=function(){a.cancelFocusInput()},a.handleBlur=function(e){var t,n;(!a.state.open||a.props.withPortal||a.props.showTimeInput)&&(null===(n=(t=a.props).onBlur)||void 0===n||n.call(t,e)),a.state.open&&!1===a.props.open&&a.setOpen(!1),a.setState({focused:!1})},a.handleCalendarClickOutside=function(e){var t,n;a.props.inline||a.setOpen(!1),null===(n=(t=a.props).onClickOutside)||void 0===n||n.call(t,e),a.props.withPortal&&e.preventDefault()},a.handleChange=function(){for(var e,n,r,s,o,i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];var c=i[0];if(!a.props.onChangeRaw||(a.props.onChangeRaw.apply(a,i),c&&"function"===typeof c.isDefaultPrevented&&!c.isDefaultPrevented())){a.setState({inputValue:(null===c||void 0===c?void 0:c.target)instanceof HTMLInputElement?c.target.value:null,lastPreSelectChange:Fo});var d=a.props,u=d.selectsRange,p=d.startDate,m=d.endDate,h=null!==(e=a.props.dateFormat)&&void 0!==e?e:t.defaultProps.dateFormat,f=null!==(n=a.props.strictParsing)&&void 0!==n?n:t.defaultProps.strictParsing,g=(null===c||void 0===c?void 0:c.target)instanceof HTMLInputElement?c.target.value:"";if(u){var v=g.split(h.includes("-")?" - ":"-",2).map(function(e){return e.trim()}),y=v[0],b=v[1],x=is(null!==y&&void 0!==y?y:"",h,a.props.locale,f),w=is(null!==b&&void 0!==b?b:"",h,a.props.locale,f),S=(null===p||void 0===p?void 0:p.getTime())!==(null===x||void 0===x?void 0:x.getTime()),N=(null===m||void 0===m?void 0:m.getTime())!==(null===w||void 0===w?void 0:w.getTime());if(!S&&!N)return;if(x&&Ps(x,a.props))return;if(w&&Ps(w,a.props))return;null===(s=(r=a.props).onChange)||void 0===s||s.call(r,[x,w],c)}else{var j=is(g,h,a.props.locale,f,null!==(o=a.props.selected)&&void 0!==o?o:void 0);!j&&g||a.setSelected(j,c,!0)}}},a.handleSelect=function(e,t,n){if(!a.props.readOnly)if(a.props.shouldCloseOnSelect&&!a.props.showTimeSelect&&a.sendFocusBackToInput(),a.props.onChangeRaw&&a.props.onChangeRaw(t),a.setSelected(e,t,!1,n),a.props.showDateSelect&&a.setState({isRenderAriaLiveMessage:!0}),!a.props.shouldCloseOnSelect||a.props.showTimeSelect)a.setPreSelection(e);else if(!a.props.inline){a.props.selectsRange||a.setOpen(!1);var r=a.props,s=r.startDate,o=r.endDate;!s||o||!a.props.swapRange&&no(e,s)||a.setOpen(!1)}},a.setSelected=function(e,t,n,r){var s,o,i=e;if(a.props.showYearPicker){if(null!==i&&Ls(Mn(i),a.props))return}else if(a.props.showMonthYearPicker){if(null!==i&&Os(i,a.props))return}else if(null!==i&&Ps(i,a.props))return;var l=a.props,c=l.onChange,d=l.selectsRange,u=l.startDate,p=l.endDate,m=l.selectsMultiple,h=l.selectedDates,f=l.minTime,g=l.swapRange;if(!js(a.props.selected,i)||a.props.allowSameDay||d||m)if(null!==i&&(!a.props.selected||n&&(a.props.showTimeSelect||a.props.showTimeSelectOnly||a.props.showTimeInput)||(i=us(i,{hour:Bn(a.props.selected),minute:Hn(a.props.selected),second:zn(a.props.selected)})),n||!a.props.showTimeSelect&&!a.props.showTimeSelectOnly||f&&(i=us(i,{hour:f.getHours(),minute:f.getMinutes(),second:f.getSeconds()})),a.props.inline||a.setState({preSelection:i}),a.props.focusSelectedMonth||a.setState({monthSelectedIn:r})),d){var v=u&&!p,y=u&&p;!u&&!p?null===c||void 0===c||c([i,null],t):v&&(null===i?null===c||void 0===c||c([null,null],t):no(i,u)?g?null===c||void 0===c||c([i,u],t):null===c||void 0===c||c([i,null],t):null===c||void 0===c||c([u,i],t)),y&&(null===c||void 0===c||c([i,null],t))}else if(m){if(null!==i)if(null===h||void 0===h?void 0:h.length)if(h.some(function(e){return Ns(e,i)})){var b=h.filter(function(e){return!Ns(e,i)});null===c||void 0===c||c(b,t)}else null===c||void 0===c||c(ts(ts([],h,!0),[i],!1),t);else null===c||void 0===c||c([i],t)}else null===c||void 0===c||c(i,t);n||(null===(o=(s=a.props).onSelect)||void 0===o||o.call(s,i,t),a.setState({inputValue:null}))},a.setPreSelection=function(e){if(!a.props.readOnly){var t=Wt(a.props.minDate),n=Wt(a.props.maxDate),r=!0;if(e){var s=ps(e);if(t&&n)r=ks(e,a.props.minDate,a.props.maxDate);else if(t){var o=ps(a.props.minDate);r=rr(e,o)||js(s,o)}else if(n){var i=ys(a.props.maxDate);r=qt(e,i)||js(s,i)}}r&&a.setState({preSelection:e})}},a.toggleCalendar=function(){a.setOpen(!a.state.open)},a.handleTimeChange=function(e){var t,n;if(!a.props.selectsRange&&!a.props.selectsMultiple){var r=a.props.selected?a.props.selected:a.getPreSelection(),s=a.props.selected?e:us(r,{hour:Bn(e),minute:Hn(e)});a.setState({preSelection:s}),null===(n=(t=a.props).onChange)||void 0===n||n.call(t,s),a.props.shouldCloseOnSelect&&!a.props.showTimeInput&&(a.sendFocusBackToInput(),a.setOpen(!1)),a.props.showTimeInput&&a.setOpen(!0),(a.props.showTimeSelectOnly||a.props.showTimeSelect)&&a.setState({isRenderAriaLiveMessage:!0}),a.setState({inputValue:null})}},a.onInputClick=function(){var e,t;a.props.disabled||a.props.readOnly||a.setOpen(!0),null===(t=(e=a.props).onInputClick)||void 0===t||t.call(e)},a.onInputKeyDown=function(e){var t,n,r,s,o,i;null===(n=(t=a.props).onKeyDown)||void 0===n||n.call(t,e);var l=e.key;if(a.state.open||a.props.inline||a.props.preventOpenOnFocus){if(a.state.open){if(l===ns.ArrowDown||l===ns.ArrowUp){e.preventDefault();var c=a.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":a.props.showWeekPicker&&a.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':a.props.showFullMonthYearPicker||a.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',d=(null===(s=a.calendar)||void 0===s?void 0:s.containerRef.current)instanceof Element&&a.calendar.containerRef.current.querySelector(c);return void(d instanceof HTMLElement&&d.focus({preventScroll:!0}))}var u=os(a.state.preSelection);l===ns.Enter?(e.preventDefault(),e.target.blur(),a.inputOk()&&a.state.lastPreSelectChange===Bo?(a.handleSelect(u,e),!a.props.shouldCloseOnSelect&&a.setPreSelection(u)):a.setOpen(!1)):l===ns.Escape?(e.preventDefault(),e.target.blur(),a.sendFocusBackToInput(),a.setOpen(!1)):l===ns.Tab&&a.setOpen(!1),a.inputOk()||null===(i=(o=a.props).onInputError)||void 0===i||i.call(o,{code:1,msg:Ro})}}else l!==ns.ArrowDown&&l!==ns.ArrowUp&&l!==ns.Enter||null===(r=a.onInputClick)||void 0===r||r.call(a)},a.onPortalKeyDown=function(e){e.key===ns.Escape&&(e.preventDefault(),a.setState({preventFocus:!0},function(){a.setOpen(!1),setTimeout(function(){a.setFocus(),a.setState({preventFocus:!1})})}))},a.onDayKeyDown=function(e){var t,n,r,s,o,i,l=a.props,c=l.minDate,d=l.maxDate,u=l.disabledKeyboardNavigation,p=l.showWeekPicker,m=l.shouldCloseOnSelect,h=l.locale,f=l.calendarStartDay,g=l.adjustDateOnChange,v=l.inline;if(null===(n=(t=a.props).onKeyDown)||void 0===n||n.call(t,e),!u){var y=e.key,b=e.shiftKey,x=os(a.state.preSelection),w=function(e,t){var n=t;switch(e){case ns.ArrowRight:n=p?or(t,1):Pt(t,1);break;case ns.ArrowLeft:n=p?ur(t,1):pr(t,1);break;case ns.ArrowUp:n=ur(t,1);break;case ns.ArrowDown:n=or(t,1);break;case ns.PageUp:n=b?Jn(t,1):Yn(t,1);break;case ns.PageDown:n=b?Kn(t,1):Un(t,1);break;case ns.Home:n=ms(t,h,f);break;case ns.End:n=function(e){return jn(e)}(t)}return n};if(y===ns.Enter)return e.preventDefault(),a.handleSelect(x,e),void(!m&&a.setPreSelection(x));if(y===ns.Escape)return e.preventDefault(),a.setOpen(!1),void(a.inputOk()||null===(s=(r=a.props).onInputError)||void 0===s||s.call(r,{code:1,msg:Ro}));var S=null;switch(y){case ns.ArrowLeft:case ns.ArrowRight:case ns.ArrowUp:case ns.ArrowDown:case ns.PageUp:case ns.PageDown:case ns.Home:case ns.End:S=function(e,t){for(var n=e,r=!1,s=0,o=w(e,t);!r;){if(s>=40){o=t;break}c&&o<c&&(n=ns.ArrowRight,o=Ps(c,a.props)?w(n,o):c),d&&o>d&&(n=ns.ArrowLeft,o=Ps(d,a.props)?w(n,o):d),Ps(o,a.props)?(n!==ns.PageUp&&n!==ns.Home||(n=ns.ArrowRight),n!==ns.PageDown&&n!==ns.End||(n=ns.ArrowLeft),o=w(n,o)):r=!0,s++}return o}(y,x)}if(S){if(e.preventDefault(),a.setState({lastPreSelectChange:Bo}),g&&a.setSelected(S),a.setPreSelection(S),v){var N=Rn(x),j=Rn(S),k=Mn(x),C=Mn(S);N!==j||k!==C?a.setState({shouldFocusDayInline:!0}):a.setState({shouldFocusDayInline:!1})}}else null===(i=(o=a.props).onInputError)||void 0===i||i.call(o,{code:1,msg:Ro})}},a.onPopperKeyDown=function(e){e.key===ns.Escape&&(e.preventDefault(),a.sendFocusBackToInput(),a.setOpen(!1))},a.onClearClick=function(e){e&&e.preventDefault&&e.preventDefault(),a.sendFocusBackToInput();var t=a.props,n=t.selectsRange,r=t.onChange;n?null===r||void 0===r||r([null,null],e):null===r||void 0===r||r(null,e),a.setState({inputValue:null})},a.clear=function(){a.onClearClick()},a.onScroll=function(e){"boolean"===typeof a.props.closeOnScroll&&a.props.closeOnScroll?e.target!==document&&e.target!==document.documentElement&&e.target!==document.body||a.setOpen(!1):"function"===typeof a.props.closeOnScroll&&a.props.closeOnScroll(e)&&a.setOpen(!1)},a.renderCalendar=function(){var e,n;return a.props.inline||a.isCalendarOpen()?r.createElement(Do,es({showMonthYearDropdown:void 0,ref:function(e){a.calendar=e}},a.props,a.state,{setOpen:a.setOpen,dateFormat:null!==(e=a.props.dateFormatCalendar)&&void 0!==e?e:t.defaultProps.dateFormatCalendar,onSelect:a.handleSelect,onClickOutside:a.handleCalendarClickOutside,holidays:Gs(a.modifyHolidays()),outsideClickIgnoreClass:Mo,onDropdownFocus:a.handleDropdownFocus,onTimeChange:a.handleTimeChange,className:a.props.calendarClassName,container:a.props.calendarContainer,handleOnKeyDown:a.props.onKeyDown,handleOnDayKeyDown:a.onDayKeyDown,setPreSelection:a.setPreSelection,dropdownMode:null!==(n=a.props.dropdownMode)&&void 0!==n?n:t.defaultProps.dropdownMode}),a.props.children):null},a.renderAriaLiveRegion=function(){var e,n=a.props,s=n.dateFormat,o=void 0===s?t.defaultProps.dateFormat:s,i=n.locale,l=a.props.showTimeInput||a.props.showTimeSelect?"PPPPp":"PPPP";return e=a.props.selectsRange?"Selected start date: ".concat(ds(a.props.startDate,{dateFormat:l,locale:i}),". ").concat(a.props.endDate?"End date: "+ds(a.props.endDate,{dateFormat:l,locale:i}):""):a.props.showTimeSelectOnly?"Selected time: ".concat(ds(a.props.selected,{dateFormat:o,locale:i})):a.props.showYearPicker?"Selected year: ".concat(ds(a.props.selected,{dateFormat:"yyyy",locale:i})):a.props.showMonthYearPicker?"Selected month: ".concat(ds(a.props.selected,{dateFormat:"MMMM yyyy",locale:i})):a.props.showQuarterYearPicker?"Selected quarter: ".concat(ds(a.props.selected,{dateFormat:"yyyy, QQQ",locale:i})):"Selected date: ".concat(ds(a.props.selected,{dateFormat:l,locale:i})),r.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},e)},a.renderDateInput=function(){var e,n,s,o=J(a.props.className,((e={})[Mo]=a.state.open,e)),i=a.props.customInput||r.createElement("input",{type:"text"}),l=a.props.customInputRef||"ref",c=a.props,d=c.dateFormat,u=void 0===d?t.defaultProps.dateFormat:d,p=c.locale,m="string"===typeof a.props.value?a.props.value:"string"===typeof a.state.inputValue?a.state.inputValue:a.props.selectsRange?function(e,t,n){if(!e)return"";var r=ds(e,n),a=t?ds(t,n):"";return"".concat(r).concat(" - ").concat(a)}(a.props.startDate,a.props.endDate,{dateFormat:u,locale:p}):a.props.selectsMultiple?function(e,t){if(!(null===e||void 0===e?void 0:e.length))return"";var n=e[0]?ds(e[0],t):"";if(1===e.length)return n;if(2===e.length&&e[1]){var r=ds(e[1],t);return"".concat(n,", ").concat(r)}var a=e.length-1;return"".concat(n," (+").concat(a,")")}(null!==(s=a.props.selectedDates)&&void 0!==s?s:[],{dateFormat:u,locale:p}):ds(a.props.selected,{dateFormat:u,locale:p});return(0,r.cloneElement)(i,((n={})[l]=function(e){a.input=e},n.value=m,n.onBlur=a.handleBlur,n.onChange=a.handleChange,n.onClick=a.onInputClick,n.onFocus=a.handleFocus,n.onKeyDown=a.onInputKeyDown,n.id=a.props.id,n.name=a.props.name,n.form=a.props.form,n.autoFocus=a.props.autoFocus,n.placeholder=a.props.placeholderText,n.disabled=a.props.disabled,n.autoComplete=a.props.autoComplete,n.className=J(i.props.className,o),n.title=a.props.title,n.readOnly=a.props.readOnly,n.required=a.props.required,n.tabIndex=a.props.tabIndex,n["aria-describedby"]=a.props.ariaDescribedBy,n["aria-invalid"]=a.props.ariaInvalid,n["aria-labelledby"]=a.props.ariaLabelledBy,n["aria-required"]=a.props.ariaRequired,n))},a.renderClearButton=function(){var e=a.props,t=e.isClearable,n=e.disabled,s=e.selected,o=e.startDate,i=e.endDate,l=e.clearButtonTitle,c=e.clearButtonClassName,d=void 0===c?"":c,u=e.ariaLabelClose,p=void 0===u?"Close":u,m=e.selectedDates,h=e.readOnly;return!t||h||null==s&&null==o&&null==i&&!(null===m||void 0===m?void 0:m.length)?null:r.createElement("button",{type:"button",className:J("react-datepicker__close-icon",d,{"react-datepicker__close-icon--disabled":n}),disabled:n,"aria-label":p,onClick:a.onClearClick,title:l,tabIndex:-1})},a.state=a.calcInitialState(),a.preventFocusTimeout=void 0,a}return Za(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:12,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(e,t){var n,r,a,s,o,i;e.inline&&(o=e.selected,i=this.props.selected,o&&i?Rn(o)!==Rn(i)||Mn(o)!==Mn(i):o!==i)&&this.setPreSelection(this.props.selected),void 0!==this.state.monthSelectedIn&&e.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),e.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Js(this.props.highlightDates)}),t.focused||js(e.selected,this.props.selected)||this.setState({inputValue:null}),t.open!==this.state.open&&(!1===t.open&&!0===this.state.open&&(null===(r=(n=this.props).onCalendarOpen)||void 0===r||r.call(n)),!0===t.open&&!1===this.state.open&&(null===(s=(a=this.props).onCalendarClose)||void 0===s||s.call(a)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var e=this.props,t=e.showIcon,n=e.icon,a=e.calendarIconClassname,s=e.calendarIconClassName,o=e.toggleCalendarOnIconClick,i=this.state.open;return a&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),r.createElement("div",{className:"react-datepicker__input-container".concat(t?" react-datepicker__view-calendar-icon":"")},t&&r.createElement(Eo,es({icon:n,className:J(s,!s&&a,i&&"react-datepicker-ignore-onclickoutside")},o?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var e=this.renderCalendar();if(this.props.inline)return e;if(this.props.withPortal){var t=this.state.open?r.createElement(Ao,{enableTabLoop:this.props.enableTabLoop},r.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},e)):null;return this.state.open&&this.props.portalId&&(t=r.createElement(Io,es({portalId:this.props.portalId},this.props),t)),r.createElement("div",null,this.renderInputContainer(),t)}return r.createElement(_o,es({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:e,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(r.Component),Fo="input",Bo="navigate";const Ho=(0,r.forwardRef)((e,t)=>{let{value:n,onClick:r,placeholder:a,disabled:s}=e;return(0,C.jsx)("input",{ref:t,value:n,onClick:r,placeholder:a,readOnly:!0,disabled:s,className:"filter-datepicker-input"})});Ho.displayName="FilterInput";const zo=e=>{let{value:t,onChange:n,placeholder:r="Select date",min:a,max:s,disabled:o=!1,className:i=""}=e;const l=t?new Date(t):null,c=a?new Date(a):void 0,d=s?new Date(s):void 0;return(0,C.jsx)(Lo,{selected:l,onChange:e=>{if(e){const t=e.toISOString().split("T")[0];n(t)}else n("")},customInput:(0,C.jsx)(Ho,{disabled:o}),dateFormat:"eee, dd/MM/yyyy",minDate:c,maxDate:d,disabled:o,placeholderText:r,className:"filter-datepicker ".concat(i),calendarClassName:"filter-calendar",popperClassName:"filter-popper",showPopperArrow:!1,fixedHeight:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",isClearable:!0,todayButton:"Today",withPortal:window.innerWidth<=768,enableTabLoop:!1})},Uo=e=>{const t=new Date(e);if(isNaN(t.getTime()))return"Invalid Date";const n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][t.getDay()],r=t.getDate().toString().padStart(2,"0"),a=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getFullYear();return"".concat(n,", ").concat(r,"/").concat(a,"/").concat(s)},Yo=e=>{const t=new Date(e);if(isNaN(t.getTime()))return"Invalid Date";const n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][t.getDay()],r=t.getDate().toString().padStart(2,"0"),a=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getFullYear(),o=t.getHours().toString().padStart(2,"0"),i=t.getMinutes().toString().padStart(2,"0");return"".concat(n,", ").concat(r,"/").concat(a,"/").concat(s," ").concat(o,":").concat(i)},Wo=e=>{const t=new Date(e);return isNaN(t.getTime())?"":t.toISOString().split("T")[0]},Vo=()=>Wo(new Date),qo=e=>{let{onCaseSubmitted:t}=e;const{modal:n,closeModal:a,showConfirm:s,showSuccess:i,showError:l}=Q(),c=()=>((e,t)=>{const n=t||new Date,r=new Date(n);return r.setDate(n.getDate()+e),Wo(r)})(3),[m,h]=(0,r.useState)({hospital:"",department:"",dateOfSurgery:c(),procedureType:"",procedureName:"",doctorName:"",timeOfProcedure:"",surgerySetSelection:[],implantBox:[],specialInstruction:""}),[f,v]=(0,r.useState)({}),[y,w]=(0,r.useState)([]),[S,j]=(0,r.useState)([]);(0,r.useEffect)(()=>{var e;N();const t=g(),n=(null===t||void 0===t?void 0:t.selectedCountry)||(null===t||void 0===t||null===(e=t.countries)||void 0===e?void 0:e[0]),r=z(n);w(r.sort());const a=b("hospitals");j(a.sort())},[]);const k=(0,r.useMemo)(()=>{var e,t,n;if(!m.procedureType)return[...d].sort();const r=g(),a=(null===r||void 0===r?void 0:r.selectedCountry)||(null===r||void 0===r||null===(e=r.countries)||void 0===e?void 0:e[0]),s=_(a);if((null===(t=s[m.procedureType])||void 0===t||null===(n=t.surgerySets)||void 0===n?void 0:n.length)>0)return s[m.procedureType].surgerySets.sort();const o=p[m.procedureType];return o?[...o.surgerySets].sort():[...d].sort()},[m.procedureType]),E=(0,r.useMemo)(()=>{var e,t,n;if(!m.procedureType)return[...u].sort();const r=g(),a=(null===r||void 0===r?void 0:r.selectedCountry)||(null===r||void 0===r||null===(e=r.countries)||void 0===e?void 0:e[0]),s=_(a);if((null===(t=s[m.procedureType])||void 0===t||null===(n=t.implantBoxes)||void 0===n?void 0:n.length)>0)return s[m.procedureType].implantBoxes.sort();const o=p[m.procedureType];return o?[...o.implantBoxes].sort():[...u].sort()},[m.procedureType]),O=(0,r.useMemo)(()=>{const e=g();return e?"admin"===e.role||"it"===e.role?x().sort():x(e.departments).sort():x().sort()},[]);return(0,C.jsxs)("div",{className:"case-booking-form",children:[(0,C.jsxs)("div",{className:"card-header",children:[(0,C.jsx)("h2",{className:"card-title",children:"New Case Booking"}),(0,C.jsx)("p",{className:"card-subtitle",children:"Fill out the details for your medical case booking"})]}),(0,C.jsx)("div",{className:"card-content",children:(0,C.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!(()=>{const e={};return m.hospital.trim()||(e.hospital="Hospital is required"),m.department.trim()||(e.department="Department is required"),m.dateOfSurgery||(e.dateOfSurgery="Date of Surgery is required"),m.procedureType.trim()||(e.procedureType="Procedure Type is required"),m.procedureName.trim()||(e.procedureName="Procedure Name is required"),0===m.surgerySetSelection.length&&(e.surgerySetSelection="Surgery Set Selection is required"),0===m.implantBox.length&&(e.implantBox="Implant Box selection is required"),v(e),0===Object.keys(e).length})())return;const n=g();if(!n)return void l("You must be logged in to submit a case");const r=(()=>{const e=localStorage.getItem(P),t=e?parseInt(e)+1:1,n=t.toString().padStart(6,"0"),r="TMC".concat(n);return localStorage.setItem(P,t.toString()),r})();(e=>{const t=A(),n=t.findIndex(t=>t.id===e.id);n>=0?(t.splice(n,1),t.unshift(e)):t.unshift(e),localStorage.setItem(I,JSON.stringify(t))})((0,o.A)((0,o.A)({id:Date.now().toString(),caseReferenceNumber:r},m),{},{status:"Case Booked",submittedBy:n.name,submittedAt:(new Date).toISOString(),country:n.selectedCountry||"Singapore"})),h({hospital:"",department:"",dateOfSurgery:c(),procedureType:"",procedureName:"",doctorName:"",timeOfProcedure:"",surgerySetSelection:[],implantBox:[],specialInstruction:""}),t()},children:[(0,C.jsxs)("div",{className:"form-row",children:[(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{htmlFor:"hospital",className:"required",children:"Hospital"}),(0,C.jsx)(D,{id:"hospital",value:m.hospital,onChange:e=>h(t=>(0,o.A)((0,o.A)({},t),{},{hospital:e})),options:S,placeholder:"Search and select hospital",className:f.hospital?"error":"",required:!0}),f.hospital&&(0,C.jsx)("span",{className:"error-text",children:f.hospital})]}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{htmlFor:"department",className:"required",children:"Department"}),(0,C.jsx)(D,{id:"department",value:m.department,onChange:e=>h(t=>(0,o.A)((0,o.A)({},t),{},{department:e})),options:O,placeholder:"Search and select department",className:f.department?"error":"",required:!0}),f.department&&(0,C.jsx)("span",{className:"error-text",children:f.department})]})]}),(0,C.jsxs)("div",{className:"form-row",children:[(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{htmlFor:"dateOfSurgery",className:"required",children:"Date of Surgery"}),(0,C.jsx)(zo,{value:m.dateOfSurgery,onChange:e=>h(t=>(0,o.A)((0,o.A)({},t),{},{dateOfSurgery:e})),placeholder:"Select surgery date",min:Vo(),className:f.dateOfSurgery?"error":""}),f.dateOfSurgery&&(0,C.jsx)("span",{className:"error-text",children:f.dateOfSurgery})]}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{htmlFor:"timeOfProcedure",children:"Time of Procedure"}),(0,C.jsx)(W,{id:"timeOfProcedure",value:m.timeOfProcedure,onChange:e=>h(t=>(0,o.A)((0,o.A)({},t),{},{timeOfProcedure:e})),placeholder:"Select procedure time",step:15})]})]}),(0,C.jsx)("div",{className:"form-row",children:(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{htmlFor:"procedureType",className:"required",children:"Procedure Type"}),(0,C.jsx)(D,{id:"procedureType",value:m.procedureType,onChange:e=>h(t=>(0,o.A)((0,o.A)({},t),{},{procedureType:e,surgerySetSelection:[],implantBox:[]})),options:y,placeholder:"Search and select procedure type",className:f.procedureType?"error":"",required:!0}),f.procedureType&&(0,C.jsx)("span",{className:"error-text",children:f.procedureType})]})}),(0,C.jsxs)("div",{className:"form-row",children:[(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{htmlFor:"procedureName",className:"required",children:"Procedure Name"}),(0,C.jsx)("input",{type:"text",id:"procedureName",value:m.procedureName,onChange:e=>h(t=>(0,o.A)((0,o.A)({},t),{},{procedureName:e.target.value})),className:f.procedureName?"error":""}),f.procedureName&&(0,C.jsx)("span",{className:"error-text",children:f.procedureName})]}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{htmlFor:"doctorName",children:"Doctor Name"}),(0,C.jsx)("input",{type:"text",id:"doctorName",value:m.doctorName,onChange:e=>h(t=>(0,o.A)((0,o.A)({},t),{},{doctorName:e.target.value}))})]})]}),(0,C.jsxs)("div",{className:"form-section-surgery-sets",children:[(0,C.jsx)(Y,{id:"surgerySetSelection",label:"Surgery Set",options:k,value:m.surgerySetSelection,onChange:e=>h(t=>(0,o.A)((0,o.A)({},t),{},{surgerySetSelection:e})),placeholder:"Select surgery sets...",required:!0}),m.surgerySetSelection.length>0&&(0,C.jsxs)("div",{className:"selection-indicator",children:[(0,C.jsxs)("span",{className:"indicator-label",children:["Selected (",m.surgerySetSelection.length,"): "]}),(0,C.jsx)("div",{className:"selected-items-container",children:m.surgerySetSelection.map((e,t)=>(0,C.jsx)("span",{className:"selected-item-badge",children:e},e))})]}),f.surgerySetSelection&&(0,C.jsx)("span",{className:"error-text",children:f.surgerySetSelection})]}),(0,C.jsxs)("div",{className:"form-section-implant-boxes",children:[(0,C.jsx)(Y,{id:"implantBox",label:"Implant Box",options:E,value:m.implantBox,onChange:e=>h(t=>(0,o.A)((0,o.A)({},t),{},{implantBox:e})),placeholder:"Select implant boxes...",required:!0}),m.implantBox.length>0&&(0,C.jsxs)("div",{className:"selection-indicator",children:[(0,C.jsxs)("span",{className:"indicator-label",children:["Selected (",m.implantBox.length,"): "]}),(0,C.jsx)("div",{className:"selected-items-container",children:m.implantBox.map((e,t)=>(0,C.jsx)("span",{className:"selected-item-badge",children:e},e))})]}),f.implantBox&&(0,C.jsx)("span",{className:"error-text",children:f.implantBox})]}),(0,C.jsxs)("div",{className:"form-group form-section-special-instructions",children:[(0,C.jsx)("label",{htmlFor:"specialInstruction",children:"Special Instructions"}),(0,C.jsx)("textarea",{id:"specialInstruction",value:m.specialInstruction,onChange:e=>h(t=>(0,o.A)((0,o.A)({},t),{},{specialInstruction:e.target.value})),rows:4,placeholder:"Enter any additional notes or special instructions..."})]}),(0,C.jsxs)("div",{className:"form-actions",children:[(0,C.jsx)("button",{type:"button",onClick:()=>{s("Clear Form","Are you sure you want to clear all inputs? This action cannot be undone.",()=>{h({hospital:"",department:"",dateOfSurgery:c(),procedureType:"",procedureName:"",doctorName:"",timeOfProcedure:"",surgerySetSelection:[],implantBox:[],specialInstruction:""}),v({}),i("All inputs have been successfully cleared!")})},className:"btn btn-outline-secondary btn-lg clear-button",children:"\ud83d\uddd1\ufe0f Clear Inputs"}),(0,C.jsx)("button",{type:"submit",className:"btn btn-primary btn-lg submit-button",children:"Submit Case Booking"})]})]})}),(0,C.jsx)(V,{isOpen:n.isOpen,onClose:a,title:n.title,message:n.message,type:n.type,actions:"confirm"===n.type?[{label:"Cancel",onClick:a,style:"secondary"},{label:"Confirm",onClick:n.onConfirm||a,style:"danger"}]:void 0,autoClose:n.autoClose,autoCloseDelay:n.autoCloseDelay})]})};var Qo=n(481),Ko=n(884);const Jo=(0,r.createContext)(void 0),Go=e=>{let{children:t}=e;const[n,a]=(0,r.useState)([]),[s,i]=(0,r.useState)([]);(0,r.useEffect)(()=>{const e=localStorage.getItem("case-booking-notifications");if(e)try{const t=JSON.parse(e),n=g(),r=t.map(e=>!e.userId&&n?(0,o.A)((0,o.A)({},e),{},{userId:n.id}):e).filter(e=>e.userId);a(r)}catch(t){console.error("Failed to load notifications:",t)}},[]),(0,r.useEffect)(()=>{const e=g();if(e){const t=n.filter(t=>t.userId===e.id).slice(0,10);i(t)}else i([])},[n]),(0,r.useEffect)(()=>{localStorage.setItem("case-booking-notifications",JSON.stringify(n))},[n]);const l=s.filter(e=>!e.read).length,c={notifications:s,unreadCount:l,addNotification:(e,t)=>{const n=g();if(!n)return;if(!(0,Ko._m)(n.role,"view-notification-settings"))return;const r=(e=>{const t=localStorage.getItem("notificationPreferences_".concat(e));if(t)try{return JSON.parse(t)}catch(n){console.error("Error parsing notification preferences:",n)}return{statusUpdates:!0,caseCreated:!0,caseAmended:!0,orderProcessed:!0,orderDelivered:!0,orderReceived:!0,caseCompleted:!0,toBeBilled:!0,systemAlerts:!0,reminderNotifications:!0,sound:!0,desktop:!1}})(n.id);if(t&&!((e,t)=>{const n={"status-update":"statusUpdates","case-created":"caseCreated","case-amended":"caseAmended","order-processed":"orderProcessed","order-delivered":"orderDelivered","order-received":"orderReceived","case-completed":"caseCompleted","to-be-billed":"toBeBilled","system-alert":"systemAlerts",reminder:"reminderNotifications"}[e];return!n||t[n]})(t,r))return;const s=(0,o.A)((0,o.A)({},e),{},{id:Date.now().toString()+Math.random().toString(36).substr(2,9),timestamp:(new Date).toISOString(),read:!1,userId:n.id});a(e=>{const t=[s,...e],r=t.filter(e=>e.userId===n.id),a=t.filter(e=>e.userId!==n.id);return[...r.slice(0,10),...a]})},markAsRead:e=>{a(t=>t.map(t=>t.id===e?(0,o.A)((0,o.A)({},t),{},{read:!0}):t))},markAllAsRead:()=>{const e=g();e&&a(t=>t.map(t=>t.userId===e.id?(0,o.A)((0,o.A)({},t),{},{read:!0}):t))},clearNotification:e=>{a(t=>t.filter(t=>t.id!==e))},clearAllNotifications:()=>{const e=g();e&&a(t=>t.filter(t=>t.userId!==e.id))}};return(0,C.jsx)(Jo.Provider,{value:c,children:t})},$o=()=>{const e=(0,r.useContext)(Jo);if(void 0===e)throw new Error("useNotifications must be used within a NotificationProvider");return e},Xo=(e,t,n)=>{if(!t)return void console.warn("Cannot create Outlook invite: Submitter email not available");const r=((e,t,n)=>{const r=new Date(e.dateOfSurgery);let a=new Date(r);if(e.timeOfProcedure){const[t,n]=e.timeOfProcedure.split(":").map(Number);a.setHours(t,n,0,0)}else a.setHours(9,0,0,0);const s=new Date(a);s.setHours(s.getHours()+1);const o=a.toISOString().replace(/[-:]/g,"").replace(/\.\d{3}/,""),i=s.toISOString().replace(/[-:]/g,"").replace(/\.\d{3}/,""),l="Medical Case Procedure - ".concat(e.procedureType," (").concat(e.caseReferenceNumber,")"),c="\nCase Details:\n- Reference Number: ".concat(e.caseReferenceNumber,"\n- Hospital: ").concat(e.hospital,"\n- Department: ").concat(e.department,"\n- Procedure Type: ").concat(e.procedureType,"\n- Procedure Name: ").concat(e.procedureName,"\n").concat(e.doctorName?"- Doctor: ".concat(e.doctorName):"","\n").concat(e.specialInstruction?"- Special Instructions: ".concat(e.specialInstruction):"","\n\nOrder Status: Case Prepared\nPrepared by: ").concat(n.name,"\nPrepared at: ").concat(Yo(new Date),"\n\nSurgery Set Selection:\n").concat(e.surgerySetSelection.map(e=>"\u2022 ".concat(e)).join("\n"),"\n\nImplant Box:\n").concat(e.implantBox.map(e=>"\u2022 ".concat(e)).join("\n"),"\n  ").trim(),d="".concat(e.hospital," - ").concat(e.department),u=new URL("https://outlook.live.com/calendar/0/deeplink/compose");return u.searchParams.set("subject",l),u.searchParams.set("body",c),u.searchParams.set("location",d),u.searchParams.set("startdt",o),u.searchParams.set("enddt",i),u.searchParams.set("to",t),u.toString()})(e,t,n);window.open(r,"_blank","noopener,noreferrer")},Zo=["Case Booked","Order Preparation","Order Prepared","Pending Delivery (Hospital)","Delivered (Hospital)","Case Completed","Pending Delivery (Office)","Delivered (Office)","To be billed","Case Closed","Case Cancelled"],ei=e=>{switch(e){case"Case Booked":return"Operations / Operations Manager";case"Order Preparation":return"Operations Team";case"Order Prepared":case"Pending Delivery (Hospital)":return"Driver";case"Delivered (Hospital)":return"Sales Team";case"Case Completed":return"Sales / Driver";case"Pending Delivery (Office)":return"Driver / Sales";case"Delivered (Office)":case"To be billed":return"Admin / System";default:return null}},ti=e=>Yo(e),ni=e=>{switch(e){case"Case Booked":return"#ff9800";case"Order Preparation":return"#e91e63";case"Order Prepared":return"#9c27b0";case"Pending Delivery (Hospital)":case"Case Closed":return"#4caf50";case"Delivered (Hospital)":return"#00bcd4";case"Case Completed":return"#8bc34a";case"Pending Delivery (Office)":return"#03a9f4";case"Delivered (Office)":return"#607d8b";case"To be billed":return"#795548";case"Case Cancelled":return"#f44336";default:return"#757575"}},ri=e=>{let{filters:t,tempFilters:n,showFilters:r,availableSubmitters:a,availableHospitals:s,filteredCasesCount:o,totalCasesCount:l,onFilterChange:c,onApplyFilters:d,onClearFilters:u,onToggleFilters:p,onQuickFilter:m}=e;const h=g();return(0,C.jsxs)("div",{className:"modern-filters-section",children:[(0,C.jsxs)("div",{className:"filters-header",onClick:p,children:[(0,C.jsxs)("div",{className:"filters-title",children:[(0,C.jsx)("h3",{children:"\ud83d\udd0d Advanced Filters"}),(0,C.jsx)("span",{className:"active-filters-count",children:Object.keys(t).length>0&&"(".concat(Object.keys(t).length," active)")})]}),(0,C.jsx)("button",{className:"btn btn-outline-secondary btn-sm filters-toggle ".concat(r?"expanded":""),children:r?"\u25b2":"\u25bc"})]}),r&&(0,C.jsxs)("div",{className:"filters-content",children:[(0,C.jsxs)("div",{className:"filters-grid",children:[(0,C.jsxs)("div",{className:"filter-category",children:[(0,C.jsx)("h4",{children:"\ud83d\udd0e Search"}),(0,C.jsxs)("div",{className:"filter-row",children:[(0,C.jsxs)("div",{className:"modern-filter-group",children:[(0,C.jsx)("label",{children:"Submitter"}),(0,C.jsxs)("div",{className:"filter-input-wrapper",children:[(0,C.jsx)(D,{options:[{value:"",label:"All Submitters"},...a.map(e=>({value:e,label:e}))],value:n.submitter||"",onChange:e=>c("submitter",e),placeholder:"All Submitters"}),(0,C.jsx)("span",{className:"filter-icon",children:"\ud83d\udc64  "})]})]}),(0,C.jsxs)("div",{className:"modern-filter-group",children:[(0,C.jsx)("label",{children:"Hospital"}),(0,C.jsxs)("div",{className:"filter-input-wrapper",children:[(0,C.jsx)(D,{options:[{value:"",label:"All Hospitals"},...s.map(e=>({value:e,label:e}))],value:n.hospital||"",onChange:e=>c("hospital",e),placeholder:"All Hospitals"}),(0,C.jsx)("span",{className:"filter-icon",children:"\ud83c\udfe5"})]})]}),"admin"===(null===h||void 0===h?void 0:h.role)&&(0,C.jsxs)("div",{className:"modern-filter-group",children:[(0,C.jsx)("label",{children:"Country"}),(0,C.jsxs)("div",{className:"filter-input-wrapper",children:[(0,C.jsx)(D,{options:[{value:"",label:"All Countries"},...i.map(e=>({value:e,label:e}))],value:n.country||"",onChange:e=>c("country",e),placeholder:"All Countries"}),(0,C.jsx)("span",{className:"filter-icon",children:"\ud83c\udf0d"})]})]})]})]}),(0,C.jsxs)("div",{className:"filter-category",children:[(0,C.jsx)("h4",{children:"\ud83d\udcca Status"}),(0,C.jsx)("div",{className:"filter-row",children:(0,C.jsxs)("div",{className:"modern-filter-group full-width",children:[(0,C.jsx)("label",{children:"Case Status"}),(0,C.jsx)("div",{className:"status-filter-wrapper",children:(0,C.jsx)(D,{options:[{value:"",label:"All Statuses"},...Zo.map(e=>({value:e,label:e}))],value:n.status||"",onChange:e=>c("status",e),placeholder:"All Statuses"})})]})})]}),(0,C.jsxs)("div",{className:"filter-category",children:[(0,C.jsx)("h4",{children:"\ud83d\udcc5 Date Range"}),(0,C.jsxs)("div",{className:"filter-row",children:[(0,C.jsxs)("div",{className:"modern-filter-group",children:[(0,C.jsx)("label",{children:"Start Date"}),(0,C.jsxs)("div",{className:"filter-input-wrapper",children:[(0,C.jsx)(zo,{value:n.dateFrom||"",onChange:e=>c("dateFrom",e),placeholder:"Select start date"}),(0,C.jsx)("span",{className:"filter-icon",children:"\ud83d\udcc5"})]})]}),(0,C.jsxs)("div",{className:"modern-filter-group",children:[(0,C.jsx)("label",{children:"End Date"}),(0,C.jsxs)("div",{className:"filter-input-wrapper",children:[(0,C.jsx)(zo,{value:n.dateTo||"",onChange:e=>c("dateTo",e),placeholder:"Select end date",min:n.dateFrom||void 0}),(0,C.jsx)("span",{className:"filter-icon",children:"\ud83d\udcc5"})]})]})]})]})]}),(0,C.jsxs)("div",{className:"modern-filter-actions",children:[(0,C.jsxs)("div",{className:"filter-stats",children:["Showing ",o," of ",l," cases"]}),(0,C.jsxs)("div",{className:"filter-buttons",children:[(0,C.jsx)("button",{onClick:u,className:"btn btn-outline-secondary btn-md modern-clear-button",disabled:0===Object.keys(n).length,children:"\ud83d\uddd1\ufe0f Clear All"}),(0,C.jsx)("button",{onClick:d,className:"btn btn-primary btn-md modern-apply-button",children:"\u2728 Apply Filters"})]})]}),(0,C.jsxs)("div",{className:"quick-filters",children:[(0,C.jsx)("span",{className:"quick-filters-label",children:"Quick Filters:"}),(0,C.jsx)("button",{onClick:()=>m("status","Case Booked"),className:"btn btn-outline-secondary btn-sm quick-filter-button",children:"\ud83d\udccb New Cases"}),(0,C.jsx)("button",{onClick:()=>m("status","Order Preparation"),className:"btn btn-outline-secondary btn-sm quick-filter-button",children:"\u23f3 Pending"}),(0,C.jsx)("button",{onClick:()=>m("status","Case Completed"),className:"btn btn-outline-secondary btn-sm quick-filter-button",children:"\u2705 Completed"}),(0,C.jsx)("button",{onClick:()=>{const e=(new Date).toISOString().split("T")[0];m("dateFrom",e),m("dateTo",e)},className:"btn btn-outline-secondary btn-sm quick-filter-button",children:"\ud83d\udcc5 Today"})]})]})]})},ai=e=>{let{content:t,children:n,disabled:a=!1}=e;const[s,o]=(0,r.useState)(!1);return a?(0,C.jsxs)("div",{className:"tooltip-wrapper",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),style:{position:"relative",display:"inline-block"},children:[n,s&&(0,C.jsx)("div",{className:"tooltip-content",children:t})]}):(0,C.jsx)(C.Fragment,{children:n})},si=e=>{let{caseItem:t,currentUser:n,onStatusChange:r,onAmendCase:a,onDeleteCase:s,onOrderProcessed:o,onOrderDelivered:i,onOrderReceived:l,onCaseCompleted:c,onPendingDeliveryOffice:d,onOfficeDelivery:u,onOrderDeliveredOffice:p,onToBeBilled:m,onCancelCase:h,canAmendCase:f}=e;return(0,C.jsxs)("div",{className:"case-actions",children:["Case Cancelled"!==t.status&&(0,C.jsxs)("div",{className:"case-buttons",children:["Case Booked"===t.status&&(0,C.jsx)(ai,{content:(0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.PROCESS_ORDER)?"Process Order":"You do not have permission to process orders",disabled:(0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.PROCESS_ORDER),children:(0,C.jsx)("button",{onClick:()=>r(t.id,"Order Preparation"),className:"case-action-button process-order-button ".concat((0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.PROCESS_ORDER)?"":"disabled"),disabled:!(0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.PROCESS_ORDER),children:"Process Order"})}),"Order Preparation"===t.status&&(0,C.jsx)(ai,{content:(0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.ORDER_PROCESSED)?"Mark as Order Processed":"You do not have permission to mark orders as processed",disabled:(0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.ORDER_PROCESSED),children:(0,C.jsx)("button",{onClick:()=>o(t.id),className:"case-action-button process-button ".concat((0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.ORDER_PROCESSED)?"":"disabled"),disabled:!(0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.ORDER_PROCESSED),children:"Order Processed"})}),"Order Prepared"===t.status&&(0,C.jsx)(ai,{content:(0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.PENDING_DELIVERY_HOSPITAL)?"Mark as Pending Delivery to Hospital":"You do not have permission to mark pending delivery to hospital",disabled:(0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.PENDING_DELIVERY_HOSPITAL),children:(0,C.jsx)("button",{onClick:()=>i(t.id),className:"case-action-button deliver-button ".concat((0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.PENDING_DELIVERY_HOSPITAL)?"":"disabled"),disabled:!(0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.PENDING_DELIVERY_HOSPITAL),children:"Pending Delivery (Hospital)"})}),"Pending Delivery (Hospital)"===t.status&&(0,C.jsx)(ai,{content:(0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.DELIVERED_HOSPITAL)?"Mark as Delivered to Hospital":"You do not have permission to mark as delivered to hospital",disabled:(0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.DELIVERED_HOSPITAL),children:(0,C.jsx)("button",{onClick:()=>l(t.id),className:"case-action-button received-button ".concat((0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.DELIVERED_HOSPITAL)?"":"disabled"),disabled:!(0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.DELIVERED_HOSPITAL),children:"Delivered (Hospital)"})}),"Delivered (Hospital)"===t.status&&(0,C.jsx)(ai,{content:(0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.CASE_COMPLETED)?"Mark as Case Completed":"You do not have permission to mark cases as completed",disabled:(0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.CASE_COMPLETED),children:(0,C.jsx)("button",{onClick:()=>c(t.id),className:"case-action-button complete-button ".concat((0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.CASE_COMPLETED)?"":"disabled"),disabled:!(0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.CASE_COMPLETED),children:"Mark as Case Completed"})}),"Case Completed"===t.status&&(0,C.jsx)(ai,{content:(0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.PENDING_DELIVERY_OFFICE)?"Mark as Pending Delivery to Office":"You do not have permission to mark as pending delivery to office",disabled:(0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.PENDING_DELIVERY_OFFICE),children:(0,C.jsx)("button",{onClick:()=>d(t.id),className:"case-action-button pending-office-button ".concat((0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.PENDING_DELIVERY_OFFICE)?"":"disabled"),disabled:!(0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.PENDING_DELIVERY_OFFICE),children:"Pending Delivery (Office)"})}),"Pending Delivery (Office)"===t.status&&(0,C.jsx)(ai,{content:(0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.DELIVERED_OFFICE)?"Mark as Delivered to Office":"You do not have permission to mark as delivered to office",disabled:(0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.DELIVERED_OFFICE),children:(0,C.jsx)("button",{onClick:()=>u(t.id),className:"case-action-button office-deliver-button ".concat((0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.DELIVERED_OFFICE)?"":"disabled"),disabled:!(0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.DELIVERED_OFFICE),children:"Delivered (Office)"})}),"Delivered (Office)"===t.status&&(0,C.jsx)(ai,{content:(0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.TO_BE_BILLED)?"Mark as To be Billed":"You do not have permission to mark as to be billed",disabled:(0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.TO_BE_BILLED),children:(0,C.jsx)("button",{onClick:()=>m(t.id),className:"case-action-button billing-button ".concat((0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.TO_BE_BILLED)?"":"disabled"),disabled:!(0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.TO_BE_BILLED),children:"Mark as To be Billed"})}),"To be billed"===t.status&&(0,C.jsx)(ai,{content:(0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.CASE_CLOSED)?"Mark as Case Closed":"You do not have permission to mark as case closed",disabled:(0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.CASE_CLOSED),children:(0,C.jsx)("button",{onClick:()=>r(t.id,"Case Closed"),className:"case-action-button case-closed-button ".concat((0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.CASE_CLOSED)?"":"disabled"),disabled:!(0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.CASE_CLOSED),children:"Mark as Case Closed"})})]}),f(t)&&(0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.AMEND_CASE)&&"Case Cancelled"!==t.status&&(0,C.jsx)(ai,{content:(0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.AMEND_CASE)?"Amend Case":"You do not have permission to amend cases",disabled:(0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.AMEND_CASE),children:(0,C.jsx)("button",{onClick:()=>a(t),className:"case-action-button amend-button",children:"Amend Case"})}),(0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.DELETE_CASE)&&"Case Cancelled"!==t.status&&(0,C.jsx)(ai,{content:(0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.DELETE_CASE)?"Delete Case":"You do not have permission to delete cases",disabled:(0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.DELETE_CASE),children:(0,C.jsx)("button",{onClick:()=>s(t.id,t),className:"case-action-button delete-button",children:"\ud83d\uddd1\ufe0f Delete Case"})}),["Order Preparation","Order Prepared","Pending Delivery (Hospital)","Delivered (Hospital)","Pending Delivery (Office)"].includes(t.status)&&(0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.CANCEL_CASE)&&(0,C.jsx)(ai,{content:(0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.CANCEL_CASE)?"Cancel this case - will mark as cancelled":"You do not have permission to cancel cases",disabled:(0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.CANCEL_CASE),children:(0,C.jsx)("button",{onClick:()=>h(t.id),className:"case-action-button cancel-button ".concat((0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.CANCEL_CASE)?"":"disabled"),disabled:!(0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.CANCEL_CASE),children:"\u274c Cancel Case"})}),"Case Cancelled"===t.status&&(0,C.jsx)(ai,{content:(0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.DELETE_CASE)?"Permanently delete this cancelled case - this action cannot be undone":"Only Admin and IT users can delete cancelled cases",disabled:(0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.DELETE_CASE),children:(0,C.jsx)("button",{onClick:()=>s(t.id,t),className:"case-action-button delete-button ".concat((0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.DELETE_CASE)?"":"disabled"),disabled:!(0,Qo.hasPermission)((null===n||void 0===n?void 0:n.role)||"",Qo.PERMISSION_ACTIONS.DELETE_CASE),children:"\ud83d\uddd1\ufe0f Delete Case"})})]})},oi=e=>{var t,n,a,s,i,l,c;let{caseItem:d,currentUser:u,expandedCases:p,expandedStatusHistory:m,expandedAmendmentHistory:h,amendingCase:f,amendmentData:v,processingCase:y,processDetails:b,processAttachments:w,processComments:S,hospitalDeliveryCase:j,hospitalDeliveryAttachments:k,hospitalDeliveryComments:D,receivedCase:E,receivedDetails:I,receivedImage:P,completedCase:A,attachments:O,orderSummary:T,doNumber:_,pendingOfficeCase:M,pendingOfficeAttachments:R,pendingOfficeComments:L,officeDeliveryCase:F,officeDeliveryAttachments:B,officeDeliveryComments:H,onToggleExpansion:U,onToggleStatusHistory:Y,onToggleAmendmentHistory:V,onStatusChange:q,onAmendCase:Q,onSaveAmendment:K,onCancelAmendment:J,onOrderProcessed:G,onSaveProcessDetails:$,onCancelProcessing:X,onOrderDelivered:Z,onOrderReceived:ee,onSaveOrderReceived:te,onCancelReceived:ne,onCaseCompleted:re,onSaveCaseCompleted:ae,onCancelCompleted:se,onPendingDeliveryOffice:oe,onSavePendingOffice:ie,onCancelPendingOffice:le,onOfficeDelivery:ce,onSaveOfficeDelivery:de,onCancelOfficeDelivery:ue,onOrderDeliveredOffice:pe,onToBeBilled:me,onDeleteCase:he,onCancelCase:fe,onAttachmentUpload:ge,onRemoveAttachment:ve,onAmendmentDataChange:ye,onProcessDetailsChange:be,onProcessAttachmentsChange:xe,onProcessCommentsChange:we,onSaveHospitalDelivery:Se,onCancelHospitalDelivery:Ne,onHospitalDeliveryAttachmentsChange:je,onHospitalDeliveryCommentsChange:ke,onReceivedDetailsChange:Ce,onReceivedImageChange:De,onOrderSummaryChange:Ee,onDoNumberChange:Ie,onPendingOfficeAttachmentsChange:Pe,onPendingOfficeCommentsChange:Ae,onOfficeDeliveryAttachmentsChange:Oe,onOfficeDeliveryCommentsChange:Te,onNavigateToPermissions:_e}=e;const[Me,Re]=(0,r.useState)([]),[Le,Fe]=(0,r.useState)([]);(0,r.useEffect)(()=>{var e;N();const t=g(),n=(null===t||void 0===t?void 0:t.selectedCountry)||(null===t||void 0===t||null===(e=t.countries)||void 0===e?void 0:e[0]),r=z(n);Re(r);const a=x();Fe(a)},[]);const Be=(e,t,n)=>d.originalValues&&n&&t&&t.trim()!==n.trim()?(0,C.jsxs)("div",{className:"detail-item",children:[(0,C.jsx)("span",{className:"detail-label",children:"Original Value: "}),(0,C.jsx)("span",{className:"detail-value",children:n})]}):null;return(0,C.jsxs)("div",{id:"case-".concat(d.id),className:"case-card",style:{"--status-color":ni(d.status)},children:[(0,C.jsxs)("div",{className:"case-summary",onClick:()=>U(d.id),children:[(0,C.jsxs)("div",{className:"case-main-info",children:[(0,C.jsxs)("div",{className:"case-title",children:[(0,C.jsx)("span",{className:"case-title-label",children:"Submitted by:"}),(0,C.jsx)("strong",{children:d.submittedBy}),(0,C.jsxs)("span",{className:"case-reference",children:["#",d.caseReferenceNumber]})]}),(0,C.jsxs)("div",{className:"case-meta",children:[(0,C.jsxs)("span",{children:["Case Title: ",d.procedureType]}),(0,C.jsxs)("span",{children:["Surgery Date: ",Uo(d.dateOfSurgery)]}),(0,C.jsxs)("span",{children:["Hospital: ",d.hospital]}),(0,C.jsxs)("span",{children:["Department: ",d.department]}),"admin"===(null===u||void 0===u?void 0:u.role)&&(0,C.jsxs)("span",{children:["Country: ",d.country]})]})]}),(0,C.jsxs)("div",{className:"case-status",children:[(0,C.jsx)("div",{className:"status-text",children:d.status}),ei(d.status)&&(0,C.jsxs)("div",{className:"pending-indicator",children:[(0,C.jsx)("span",{className:"pending-icon",children:"\u23f3"}),(0,C.jsxs)("span",{className:"pending-text",title:"Click to view Role-Based Permission Matrix",children:["Awaiting: ",ei(d.status)]})]})]}),(0,C.jsx)("div",{className:"expand-icon",children:p.has(d.id)?"\u25bc":"\u25b6"})]}),p.has(d.id)&&(0,C.jsxs)("div",{className:"case-details",children:[(0,C.jsxs)("div",{className:"details-grid",children:[(0,C.jsxs)("div",{className:"detail-item",children:[(0,C.jsx)("span",{className:"detail-label",children:"Submission Date: "}),(0,C.jsx)("span",{className:"detail-value",children:Uo(d.submittedAt)})]}),(0,C.jsxs)("div",{className:"detail-item",children:[(0,C.jsx)("span",{className:"detail-label",children:"Surgery Date: "}),(0,C.jsx)("span",{className:"detail-value",children:Uo(d.dateOfSurgery)})]}),(0,C.jsxs)("div",{className:"detail-item",children:[(0,C.jsx)("span",{className:"detail-label",children:"Time of Procedure: "}),(0,C.jsx)("span",{className:"detail-value",children:d.timeOfProcedure||"Not specified"})]}),d.doctorName&&(0,C.jsxs)("div",{className:"detail-item",children:[(0,C.jsx)("span",{className:"detail-label",children:"Doctor Name: "}),(0,C.jsx)("span",{className:"detail-value",children:d.doctorName})]}),(0,C.jsxs)("div",{className:"detail-item",children:[(0,C.jsx)("span",{className:"detail-label",children:"Surgery Set Selection: "}),(0,C.jsx)("ul",{className:"detail-value",children:d.surgerySetSelection.map(e=>(0,C.jsx)("li",{children:e},e))})]}),(0,C.jsxs)("div",{className:"detail-item",children:[(0,C.jsx)("span",{className:"detail-label",children:"Implant Box: "}),(0,C.jsx)("ul",{className:"detail-value",children:d.implantBox.map(e=>(0,C.jsx)("li",{children:e},e))})]}),d.specialInstruction&&(0,C.jsxs)("div",{className:"detail-item full-width",children:[(0,C.jsx)("span",{className:"detail-label",children:"Special Instructions: "}),(0,C.jsx)("p",{className:"detail-value",children:d.specialInstruction})]}),d.isAmended&&d.originalValues&&(0,C.jsxs)("div",{className:"detail-item full-width amendment-history",children:[(0,C.jsxs)("div",{className:"amendment-header-container",children:[(0,C.jsx)("span",{className:"amendment-badge",children:"AMENDED"}),(0,C.jsx)("button",{onClick:()=>V(d.id),className:"btn btn-outline-secondary btn-sm expand-amendment-button",children:h.has(d.id)?"Hide Amendment History":"View Amendment History"})]}),h.has(d.id)&&(0,C.jsxs)("div",{className:"amendment-content",children:[(0,C.jsx)("div",{style:{marginBottom:"12px"},children:(0,C.jsx)("strong",{children:"Original Values (Before Amendment):"})}),(0,C.jsxs)("div",{className:"original-values-grid",children:[d.originalValues.hospital&&(0,C.jsxs)("div",{className:"original-value-item",children:[(0,C.jsx)("span",{className:"original-label",children:"Hospital:"})," ",d.originalValues.hospital]}),d.originalValues.department&&(0,C.jsxs)("div",{className:"original-value-item",children:[(0,C.jsx)("span",{className:"original-label",children:"Department:"})," ",d.originalValues.department]}),d.originalValues.dateOfSurgery&&(0,C.jsxs)("div",{className:"original-value-item",children:[(0,C.jsx)("span",{className:"original-label",children:"Surgery Date:"})," ",Uo(d.originalValues.dateOfSurgery)]}),d.originalValues.procedureType&&(0,C.jsxs)("div",{className:"original-value-item",children:[(0,C.jsx)("span",{className:"original-label",children:"Procedure Type:"})," ",d.originalValues.procedureType]}),d.originalValues.doctorName&&(0,C.jsxs)("div",{className:"original-value-item",children:[(0,C.jsx)("span",{className:"original-label",children:"Doctor Name:"})," ",d.originalValues.doctorName]}),d.originalValues.timeOfProcedure&&(0,C.jsxs)("div",{className:"original-value-item",children:[(0,C.jsx)("span",{className:"original-label",children:"Time of Procedure:"})," ",d.originalValues.timeOfProcedure]}),d.originalValues.specialInstruction&&(0,C.jsxs)("div",{className:"original-value-item",children:[(0,C.jsx)("span",{className:"original-label",children:"Special Instructions:"})," ",d.originalValues.specialInstruction]})]}),(0,C.jsxs)("div",{style:{fontSize:"12px",color:"#666",textAlign:"right",marginTop:"15px",border:"none",background:"none"},children:[(0,C.jsxs)("div",{children:["Amended by: ",d.amendedBy||"Unknown"]}),(0,C.jsxs)("div",{children:["Amended at: ",d.amendedAt?ti(d.amendedAt):"N/A"]})]})]})]}),d.processedBy&&(0,C.jsxs)("div",{className:"detail-item prepared-by",children:[(0,C.jsx)("strong",{children:"Prepared by:"})," ",d.processedBy]}),d.processedAt&&(0,C.jsxs)("div",{className:"detail-item prepared-at",children:[(0,C.jsx)("strong",{children:"Prepared at:"})," ",ti(d.processedAt)]}),d.statusHistory&&d.statusHistory.length>0&&(0,C.jsxs)("div",{className:"detail-item full-width",children:[(0,C.jsxs)("div",{className:"status-history-header-container",children:[(0,C.jsx)("strong",{children:"Status Updates:"}),d.statusHistory.length>1&&(0,C.jsx)("button",{onClick:()=>Y(d.id),className:"btn btn-outline-secondary btn-sm expand-history-button",children:m.has(d.id)?"Hide History (".concat(d.statusHistory.length-1," previous)"):"View History (".concat(d.statusHistory.length-1," previous)")})]}),(0,C.jsx)("div",{className:"status-history",children:m.has(d.id)?d.statusHistory.map((e,t)=>(0,C.jsxs)("div",{className:"status-history-item",style:{borderLeftColor:ni(e.status)},children:[(0,C.jsxs)("div",{className:"status-history-header",children:[(0,C.jsx)("span",{className:"history-status",style:{backgroundColor:ni(e.status)},children:e.status}),(0,C.jsx)("span",{className:"history-timestamp",children:ti(e.timestamp)})]}),(0,C.jsxs)("div",{className:"history-details",children:[(0,C.jsxs)("span",{className:"history-processor",children:["By: ",e.processedBy]}),e.details&&(0,C.jsx)("div",{className:"history-notes",children:(()=>{try{const t=JSON.parse(e.details);if(t.deliveryDetails||t.comments&&!t.orderSummary&&!t.processDetails){const e=t.deliveryDetails,n=e?t.deliveryDetails:t.comments,r=e?t.deliveryImage?[JSON.stringify({name:"delivery-image.png",type:"image/png",data:t.deliveryImage})]:[]:t.attachments||[];return(0,C.jsxs)("div",{children:[(0,C.jsx)("strong",{children:"Delivery Details:"})," ",n,r&&r.length>0&&(0,C.jsxs)("div",{children:[(0,C.jsxs)("strong",{children:["Attachments (",r.length,"):"]}),(0,C.jsx)("div",{className:"attachment-preview-grid",children:r.map((e,t)=>{try{const n=JSON.parse(e),r=n.type.startsWith("image/");return(0,C.jsx)("div",{className:"attachment-preview-item",children:r?(0,C.jsxs)("div",{className:"image-attachment",children:[(0,C.jsx)("img",{src:n.data,alt:n.name,className:"attachment-thumbnail clickable-image",style:{maxWidth:"100px",maxHeight:"75px",borderRadius:"4px",border:"1px solid #ddd",cursor:"pointer"},onClick:()=>{const e=document.createElement("div");e.className="image-modal",e.innerHTML='\n                                                                  <div class="image-modal-backdrop" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 10000; display: flex; align-items: center; justify-content: center; cursor: pointer;">\n                                                                    <div style="position: relative; max-width: 90%; max-height: 90%;">\n                                                                      <img src="'.concat(n.data,'" alt="').concat(n.name,'" style="max-width: 100%; max-height: 100%; border-radius: 8px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);" />\n                                                                      <div style="position: absolute; top: 10px; right: 10px; display: flex; gap: 10px;">\n                                                                        <button onclick="event.stopPropagation(); const link = document.createElement(\'a\'); link.href = \'').concat(n.data,"'; link.download = '").concat(n.name,'\'; link.click();" style="background: rgba(255,255,255,0.9); border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; font-size: 12px;">\ud83d\udce5 Download</button>\n                                                                        <button onclick="document.body.removeChild(this.closest(\'.image-modal\'));" style="background: rgba(255,255,255,0.9); border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; font-size: 12px;">\u2715 Close</button>\n                                                                      </div>\n                                                                    </div>\n                                                                  </div>\n                                                                '),document.body.appendChild(e),e.addEventListener("click",t=>{t.target===e.querySelector(".image-modal-backdrop")&&document.body.removeChild(e)})}}),(0,C.jsxs)("div",{className:"attachment-info",children:[(0,C.jsx)("div",{className:"file-name",title:n.name,children:n.name.length>15?n.name.substring(0,15)+"...":n.name}),(0,C.jsxs)("div",{className:"file-size",children:["(",(n.size/1024).toFixed(1)," KB)"]})]})]}):(0,C.jsxs)("div",{className:"file-attachment",children:[(0,C.jsx)("div",{className:"file-icon",children:"\ud83d\udcc4"}),(0,C.jsxs)("div",{className:"attachment-info",children:[(0,C.jsx)("div",{className:"file-name",title:n.name,children:n.name.length>15?n.name.substring(0,15)+"...":n.name}),(0,C.jsxs)("div",{className:"file-size",children:["(",(n.size/1024).toFixed(1)," KB)"]})]}),(0,C.jsx)("button",{onClick:()=>{const e=document.createElement("a");e.href=n.data,e.download=n.name,e.click()},className:"download-button",title:"Download file",children:"\ud83d\udce5"})]})},t)}catch(n){return(0,C.jsx)("div",{className:"attachment-preview-item",children:(0,C.jsxs)("div",{className:"file-attachment error",children:[(0,C.jsx)("div",{className:"file-icon",children:"\u274c"}),(0,C.jsx)("div",{className:"attachment-info",children:(0,C.jsx)("div",{className:"file-name",children:"Invalid file data"})})]})},t)}})})]})]})}return t.orderSummary||t.doNumber?(0,C.jsxs)("div",{children:[t.orderSummary&&(0,C.jsxs)("div",{children:[(0,C.jsx)("strong",{children:"Order Summary:"})," ",t.orderSummary]}),t.doNumber&&(0,C.jsxs)("div",{children:[(0,C.jsx)("strong",{children:"DO Number:"})," ",t.doNumber]}),t.attachments&&t.attachments.length>0&&(0,C.jsxs)("div",{children:[(0,C.jsxs)("strong",{children:["Attachments (",t.attachments.length,"):"]}),(0,C.jsx)("div",{className:"attachment-preview-grid",children:t.attachments.map((e,t)=>{try{const n=JSON.parse(e),r=n.type.startsWith("image/");return(0,C.jsx)("div",{className:"attachment-preview-item",children:r?(0,C.jsxs)("div",{className:"image-attachment",children:[(0,C.jsx)("img",{src:n.data,alt:n.name,className:"attachment-thumbnail clickable-image",style:{maxWidth:"100px",maxHeight:"75px",borderRadius:"4px",border:"1px solid #ddd",cursor:"pointer"},onClick:()=>{const e=document.createElement("div");e.className="image-modal",e.innerHTML='\n                                                                  <div class="image-modal-backdrop" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 10000; display: flex; align-items: center; justify-content: center; cursor: pointer;">\n                                                                    <div style="position: relative; max-width: 90%; max-height: 90%;">\n                                                                      <img src="'.concat(n.data,'" alt="').concat(n.name,'" style="max-width: 100%; max-height: 100%; border-radius: 8px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);" />\n                                                                      <div style="position: absolute; top: 10px; right: 10px; display: flex; gap: 10px;">\n                                                                        <button onclick="event.stopPropagation(); const link = document.createElement(\'a\'); link.href = \'').concat(n.data,"'; link.download = '").concat(n.name,'\'; link.click();" style="background: rgba(255,255,255,0.9); border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; font-size: 12px;">\ud83d\udce5 Download</button>\n                                                                        <button onclick="document.body.removeChild(this.closest(\'.image-modal\'));" style="background: rgba(255,255,255,0.9); border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; font-size: 12px;">\u2715 Close</button>\n                                                                      </div>\n                                                                    </div>\n                                                                  </div>\n                                                                '),document.body.appendChild(e),e.addEventListener("click",t=>{t.target===e.querySelector(".image-modal-backdrop")&&document.body.removeChild(e)})}}),(0,C.jsxs)("div",{className:"attachment-info",children:[(0,C.jsx)("div",{className:"file-name",title:n.name,children:n.name.length>15?n.name.substring(0,15)+"...":n.name}),(0,C.jsxs)("div",{className:"file-size",children:["(",(n.size/1024).toFixed(1)," KB)"]})]})]}):(0,C.jsxs)("div",{className:"file-attachment",children:[(0,C.jsx)("div",{className:"file-icon",children:"\ud83d\udcc4"}),(0,C.jsxs)("div",{className:"attachment-info",children:[(0,C.jsx)("div",{className:"file-name",title:n.name,children:n.name.length>15?n.name.substring(0,15)+"...":n.name}),(0,C.jsxs)("div",{className:"file-size",children:["(",(n.size/1024).toFixed(1)," KB)"]})]}),(0,C.jsx)("button",{onClick:()=>{const e=document.createElement("a");e.href=n.data,e.download=n.name,e.click()},className:"download-button",title:"Download file",children:"\ud83d\udce5"})]})},t)}catch(n){return(0,C.jsx)("div",{className:"attachment-preview-item",children:(0,C.jsxs)("div",{className:"file-attachment error",children:[(0,C.jsx)("div",{className:"file-icon",children:"\u274c"}),(0,C.jsx)("div",{className:"attachment-info",children:(0,C.jsx)("div",{className:"file-name",children:"Invalid file data"})})]})},t)}})})]})]}):t.processDetails?(0,C.jsxs)("div",{children:[(0,C.jsx)("strong",{children:"Process Details:"})," ",t.processDetails,t.attachments&&t.attachments.length>0&&(0,C.jsxs)("div",{children:[(0,C.jsxs)("strong",{children:["Attachments (",t.attachments.length,"):"]}),(0,C.jsx)("div",{className:"attachment-preview-grid",children:t.attachments.map((e,t)=>{try{const n=JSON.parse(e),r=n.type.startsWith("image/");return(0,C.jsx)("div",{className:"attachment-preview-item",children:r?(0,C.jsxs)("div",{className:"image-attachment",children:[(0,C.jsx)("img",{src:n.data,alt:n.name,className:"attachment-thumbnail clickable-image",style:{maxWidth:"100px",maxHeight:"75px",borderRadius:"4px",border:"1px solid #ddd",cursor:"pointer"},onClick:()=>{const e=document.createElement("div");e.className="image-modal",e.innerHTML='\n                                                                  <div class="image-modal-backdrop" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 10000; display: flex; align-items: center; justify-content: center; cursor: pointer;">\n                                                                    <div style="position: relative; max-width: 90%; max-height: 90%;">\n                                                                      <img src="'.concat(n.data,'" alt="').concat(n.name,'" style="max-width: 100%; max-height: 100%; border-radius: 8px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);" />\n                                                                      <div style="position: absolute; top: 10px; right: 10px; display: flex; gap: 10px;">\n                                                                        <button onclick="event.stopPropagation(); const link = document.createElement(\'a\'); link.href = \'').concat(n.data,"'; link.download = '").concat(n.name,'\'; link.click();" style="background: rgba(255,255,255,0.9); border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; font-size: 12px;">\ud83d\udce5 Download</button>\n                                                                        <button onclick="document.body.removeChild(this.closest(\'.image-modal\'));" style="background: rgba(255,255,255,0.9); border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; font-size: 12px;">\u2715 Close</button>\n                                                                      </div>\n                                                                    </div>\n                                                                  </div>\n                                                                '),document.body.appendChild(e),e.addEventListener("click",t=>{t.target===e.querySelector(".image-modal-backdrop")&&document.body.removeChild(e)})}}),(0,C.jsxs)("div",{className:"attachment-info",children:[(0,C.jsx)("div",{className:"file-name",title:n.name,children:n.name.length>15?n.name.substring(0,15)+"...":n.name}),(0,C.jsxs)("div",{className:"file-size",children:["(",(n.size/1024).toFixed(1)," KB)"]})]})]}):(0,C.jsxs)("div",{className:"file-attachment",children:[(0,C.jsx)("div",{className:"file-icon",children:"\ud83d\udcc4"}),(0,C.jsxs)("div",{className:"attachment-info",children:[(0,C.jsx)("div",{className:"file-name",title:n.name,children:n.name.length>15?n.name.substring(0,15)+"...":n.name}),(0,C.jsxs)("div",{className:"file-size",children:["(",(n.size/1024).toFixed(1)," KB)"]})]}),(0,C.jsx)("button",{onClick:()=>{const e=document.createElement("a");e.href=n.data,e.download=n.name,e.click()},className:"download-button",title:"Download file",children:"\ud83d\udce5"})]})},t)}catch(n){return(0,C.jsx)("div",{className:"attachment-preview-item",children:(0,C.jsxs)("div",{className:"file-attachment error",children:[(0,C.jsx)("div",{className:"file-icon",children:"\u274c"}),(0,C.jsx)("div",{className:"attachment-info",children:(0,C.jsx)("div",{className:"file-name",children:"Invalid file data"})})]})},t)}})})]}),t.comments&&(0,C.jsxs)("div",{children:[(0,C.jsx)("strong",{children:"Comments:"})," ",t.comments]})]}):t.attachments||t.comments?(0,C.jsxs)("div",{children:[t.comments&&(0,C.jsxs)("div",{children:[(0,C.jsx)("strong",{children:"Comments:"})," ",t.comments]}),t.attachments&&t.attachments.length>0&&(0,C.jsxs)("div",{children:[(0,C.jsxs)("strong",{children:["Attachments (",t.attachments.length,"):"]}),(0,C.jsx)("div",{className:"attachment-preview-grid",children:t.attachments.map((e,t)=>{try{const n=JSON.parse(e),r=n.type.startsWith("image/");return(0,C.jsx)("div",{className:"attachment-preview-item",children:r?(0,C.jsxs)("div",{className:"image-attachment",children:[(0,C.jsx)("img",{src:n.data,alt:n.name,className:"attachment-thumbnail clickable-image",style:{maxWidth:"100px",maxHeight:"75px",borderRadius:"4px",border:"1px solid #ddd",cursor:"pointer"},onClick:()=>{const e=document.createElement("div");e.className="image-modal",e.innerHTML='\n                                                                  <div class="image-modal-backdrop" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 10000; display: flex; align-items: center; justify-content: center; cursor: pointer;">\n                                                                    <div style="position: relative; max-width: 90%; max-height: 90%;">\n                                                                      <img src="'.concat(n.data,'" alt="').concat(n.name,'" style="max-width: 100%; max-height: 100%; border-radius: 8px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);" />\n                                                                      <div style="position: absolute; top: 10px; right: 10px; display: flex; gap: 10px;">\n                                                                        <button onclick="event.stopPropagation(); const link = document.createElement(\'a\'); link.href = \'').concat(n.data,"'; link.download = '").concat(n.name,'\'; link.click();" style="background: rgba(255,255,255,0.9); border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; font-size: 12px;">\ud83d\udce5 Download</button>\n                                                                        <button onclick="document.body.removeChild(this.closest(\'.image-modal\'));" style="background: rgba(255,255,255,0.9); border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; font-size: 12px;">\u2715 Close</button>\n                                                                      </div>\n                                                                    </div>\n                                                                  </div>\n                                                                '),document.body.appendChild(e),e.addEventListener("click",t=>{t.target===e.querySelector(".image-modal-backdrop")&&document.body.removeChild(e)})}}),(0,C.jsxs)("div",{className:"attachment-info",children:[(0,C.jsx)("div",{className:"file-name",title:n.name,children:n.name.length>15?n.name.substring(0,15)+"...":n.name}),(0,C.jsxs)("div",{className:"file-size",children:["(",(n.size/1024).toFixed(1)," KB)"]})]})]}):(0,C.jsxs)("div",{className:"file-attachment",children:[(0,C.jsx)("div",{className:"file-icon",children:"\ud83d\udcc4"}),(0,C.jsxs)("div",{className:"attachment-info",children:[(0,C.jsx)("div",{className:"file-name",title:n.name,children:n.name.length>15?n.name.substring(0,15)+"...":n.name}),(0,C.jsxs)("div",{className:"file-size",children:["(",(n.size/1024).toFixed(1)," KB)"]})]}),(0,C.jsx)("button",{onClick:()=>{const e=document.createElement("a");e.href=n.data,e.download=n.name,e.click()},className:"download-button",title:"Download file",children:"\ud83d\udce5"})]})},t)}catch(n){return(0,C.jsx)("div",{className:"attachment-preview-item",children:(0,C.jsxs)("div",{className:"file-attachment error",children:[(0,C.jsx)("div",{className:"file-icon",children:"\u274c"}),(0,C.jsx)("div",{className:"attachment-info",children:(0,C.jsx)("div",{className:"file-name",children:"Invalid file data"})})]})},t)}})})]})]}):(0,C.jsx)("div",{children:Object.entries(t).map(e=>{let[t,n]=e;return(0,C.jsxs)("div",{children:[(0,C.jsxs)("strong",{children:[t.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase()),":"]}),"attachments"===t&&Array.isArray(n)&&n.length>0?(0,C.jsxs)("div",{children:[(0,C.jsxs)("strong",{children:[" (",n.length,"):"]}),(0,C.jsx)("div",{className:"attachment-preview-grid",children:n.map((e,t)=>{try{const n=JSON.parse(e),r=n.type.startsWith("image/");return(0,C.jsx)("div",{className:"attachment-preview-item",children:r?(0,C.jsxs)("div",{className:"image-attachment",children:[(0,C.jsx)("img",{src:n.data,alt:n.name,className:"attachment-thumbnail clickable-image",style:{maxWidth:"100px",maxHeight:"75px",borderRadius:"4px",border:"1px solid #ddd",cursor:"pointer"},onClick:()=>{const e=document.createElement("div");e.className="image-modal",e.innerHTML='\n                                                                      <div class="image-modal-backdrop" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 10000; display: flex; align-items: center; justify-content: center; cursor: pointer;">\n                                                                        <div style="position: relative; max-width: 90%; max-height: 90%;">\n                                                                          <img src="'.concat(n.data,'" alt="').concat(n.name,'" style="max-width: 100%; max-height: 100%; border-radius: 8px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);" />\n                                                                          <div style="position: absolute; top: 10px; right: 10px; display: flex; gap: 10px;">\n                                                                            <button onclick="event.stopPropagation(); const link = document.createElement(\'a\'); link.href = \'').concat(n.data,"'; link.download = '").concat(n.name,'\'; link.click();" style="background: rgba(255,255,255,0.9); border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; font-size: 12px;">\ud83d\udce5 Download</button>\n                                                                            <button onclick="document.body.removeChild(this.closest(\'.image-modal\'));" style="background: rgba(255,255,255,0.9); border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; font-size: 12px;">\u2715 Close</button>\n                                                                          </div>\n                                                                        </div>\n                                                                      </div>\n                                                                    '),document.body.appendChild(e),e.addEventListener("click",t=>{t.target===e.querySelector(".image-modal-backdrop")&&document.body.removeChild(e)})}}),(0,C.jsxs)("div",{className:"attachment-info",children:[(0,C.jsx)("div",{className:"file-name",title:n.name,children:n.name.length>15?n.name.substring(0,15)+"...":n.name}),(0,C.jsxs)("div",{className:"file-size",children:["(",(n.size/1024).toFixed(1)," KB)"]})]})]}):(0,C.jsxs)("div",{className:"file-attachment",children:[(0,C.jsx)("div",{className:"file-icon",children:"\ud83d\udcc4"}),(0,C.jsxs)("div",{className:"attachment-info",children:[(0,C.jsx)("div",{className:"file-name",title:n.name,children:n.name.length>15?n.name.substring(0,15)+"...":n.name}),(0,C.jsxs)("div",{className:"file-size",children:["(",(n.size/1024).toFixed(1)," KB)"]})]}),(0,C.jsx)("button",{onClick:()=>{const e=document.createElement("a");e.href=n.data,e.download=n.name,e.click()},className:"download-button",title:"Download file",children:"\ud83d\udce5"})]})},t)}catch(n){return(0,C.jsx)("div",{className:"attachment-preview-item",children:(0,C.jsxs)("div",{className:"file-attachment error",children:[(0,C.jsx)("div",{className:"file-icon",children:"\u274c"}),(0,C.jsx)("div",{className:"attachment-info",children:(0,C.jsx)("div",{className:"file-name",children:"Invalid file data"})})]})},t)}})})]}):(0,C.jsxs)("span",{children:[" ","object"===typeof n?Array.isArray(n)?"".concat(n.length," item(s)"):JSON.stringify(n):String(n)]})]},t)})})}catch(t){return(0,C.jsx)("div",{children:e.details})}})()})]})]},t)):d.statusHistory.slice(-1).map((e,t)=>(0,C.jsxs)("div",{className:"status-history-item current-status",style:{borderLeftColor:ni(e.status)},children:[(0,C.jsxs)("div",{className:"status-history-header",children:[(0,C.jsxs)("span",{className:"history-status current",style:{backgroundColor:ni(e.status)},children:[e.status," (Current)"]}),(0,C.jsx)("span",{className:"history-timestamp",children:ti(e.timestamp)})]}),(0,C.jsxs)("div",{className:"history-details",children:[(0,C.jsxs)("span",{className:"history-processor",children:["By: ",e.processedBy]}),e.details&&(0,C.jsx)("div",{className:"history-notes",children:(()=>{try{const t=JSON.parse(e.details);if(t.deliveryDetails||t.comments&&!t.orderSummary&&!t.processDetails){const e=t.deliveryDetails,n=e?t.deliveryDetails:t.comments,r=e?t.deliveryImage?[JSON.stringify({name:"delivery-image.png",type:"image/png",data:t.deliveryImage})]:[]:t.attachments||[];return(0,C.jsxs)("div",{children:[(0,C.jsx)("strong",{children:"Delivery Details:"})," ",n,r&&r.length>0&&(0,C.jsxs)("div",{children:[(0,C.jsxs)("strong",{children:["Attachments (",r.length,"):"]}),(0,C.jsx)("div",{className:"attachment-preview-grid",children:r.map((e,t)=>{try{const n=JSON.parse(e),r=n.type.startsWith("image/");return(0,C.jsx)("div",{className:"attachment-preview-item",children:r?(0,C.jsxs)("div",{className:"image-attachment",children:[(0,C.jsx)("img",{src:n.data,alt:n.name,className:"attachment-thumbnail clickable-image",style:{maxWidth:"100px",maxHeight:"75px",borderRadius:"4px",border:"1px solid #ddd",cursor:"pointer"},onClick:()=>{const e=document.createElement("div");e.className="image-modal",e.innerHTML='\n                                                                  <div class="image-modal-backdrop" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 10000; display: flex; align-items: center; justify-content: center; cursor: pointer;">\n                                                                    <div style="position: relative; max-width: 90%; max-height: 90%;">\n                                                                      <img src="'.concat(n.data,'" alt="').concat(n.name,'" style="max-width: 100%; max-height: 100%; border-radius: 8px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);" />\n                                                                      <div style="position: absolute; top: 10px; right: 10px; display: flex; gap: 10px;">\n                                                                        <button onclick="event.stopPropagation(); const link = document.createElement(\'a\'); link.href = \'').concat(n.data,"'; link.download = '").concat(n.name,'\'; link.click();" style="background: rgba(255,255,255,0.9); border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; font-size: 12px;">\ud83d\udce5 Download</button>\n                                                                        <button onclick="document.body.removeChild(this.closest(\'.image-modal\'));" style="background: rgba(255,255,255,0.9); border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; font-size: 12px;">\u2715 Close</button>\n                                                                      </div>\n                                                                    </div>\n                                                                  </div>\n                                                                '),document.body.appendChild(e),e.addEventListener("click",t=>{t.target===e.querySelector(".image-modal-backdrop")&&document.body.removeChild(e)})}}),(0,C.jsxs)("div",{className:"attachment-info",children:[(0,C.jsx)("div",{className:"file-name",title:n.name,children:n.name.length>15?n.name.substring(0,15)+"...":n.name}),(0,C.jsxs)("div",{className:"file-size",children:["(",(n.size/1024).toFixed(1)," KB)"]})]})]}):(0,C.jsxs)("div",{className:"file-attachment",children:[(0,C.jsx)("div",{className:"file-icon",children:"\ud83d\udcc4"}),(0,C.jsxs)("div",{className:"attachment-info",children:[(0,C.jsx)("div",{className:"file-name",title:n.name,children:n.name.length>15?n.name.substring(0,15)+"...":n.name}),(0,C.jsxs)("div",{className:"file-size",children:["(",(n.size/1024).toFixed(1)," KB)"]})]}),(0,C.jsx)("button",{onClick:()=>{const e=document.createElement("a");e.href=n.data,e.download=n.name,e.click()},className:"download-button",title:"Download file",children:"\ud83d\udce5"})]})},t)}catch(n){return(0,C.jsx)("div",{className:"attachment-preview-item",children:(0,C.jsxs)("div",{className:"file-attachment error",children:[(0,C.jsx)("div",{className:"file-icon",children:"\u274c"}),(0,C.jsx)("div",{className:"attachment-info",children:(0,C.jsx)("div",{className:"file-name",children:"Invalid file data"})})]})},t)}})})]})]})}return t.orderSummary||t.doNumber?(0,C.jsxs)("div",{children:[t.orderSummary&&(0,C.jsxs)("div",{children:[(0,C.jsx)("strong",{children:"Order Summary:"})," ",t.orderSummary]}),t.doNumber&&(0,C.jsxs)("div",{children:[(0,C.jsx)("strong",{children:"DO Number:"})," ",t.doNumber]}),t.attachments&&t.attachments.length>0&&(0,C.jsxs)("div",{children:[(0,C.jsxs)("strong",{children:["Attachments (",t.attachments.length,"):"]}),(0,C.jsx)("div",{className:"attachment-preview-grid",children:t.attachments.map((e,t)=>{try{const n=JSON.parse(e),r=n.type.startsWith("image/");return(0,C.jsx)("div",{className:"attachment-preview-item",children:r?(0,C.jsxs)("div",{className:"image-attachment",children:[(0,C.jsx)("img",{src:n.data,alt:n.name,className:"attachment-thumbnail clickable-image",style:{maxWidth:"100px",maxHeight:"75px",borderRadius:"4px",border:"1px solid #ddd",cursor:"pointer"},onClick:()=>{const e=document.createElement("div");e.className="image-modal",e.innerHTML='\n                                                                  <div class="image-modal-backdrop" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 10000; display: flex; align-items: center; justify-content: center; cursor: pointer;">\n                                                                    <div style="position: relative; max-width: 90%; max-height: 90%;">\n                                                                      <img src="'.concat(n.data,'" alt="').concat(n.name,'" style="max-width: 100%; max-height: 100%; border-radius: 8px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);" />\n                                                                      <div style="position: absolute; top: 10px; right: 10px; display: flex; gap: 10px;">\n                                                                        <button onclick="event.stopPropagation(); const link = document.createElement(\'a\'); link.href = \'').concat(n.data,"'; link.download = '").concat(n.name,'\'; link.click();" style="background: rgba(255,255,255,0.9); border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; font-size: 12px;">\ud83d\udce5 Download</button>\n                                                                        <button onclick="document.body.removeChild(this.closest(\'.image-modal\'));" style="background: rgba(255,255,255,0.9); border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; font-size: 12px;">\u2715 Close</button>\n                                                                      </div>\n                                                                    </div>\n                                                                  </div>\n                                                                '),document.body.appendChild(e),e.addEventListener("click",t=>{t.target===e.querySelector(".image-modal-backdrop")&&document.body.removeChild(e)})}}),(0,C.jsxs)("div",{className:"attachment-info",children:[(0,C.jsx)("div",{className:"file-name",title:n.name,children:n.name.length>15?n.name.substring(0,15)+"...":n.name}),(0,C.jsxs)("div",{className:"file-size",children:["(",(n.size/1024).toFixed(1)," KB)"]})]})]}):(0,C.jsxs)("div",{className:"file-attachment",children:[(0,C.jsx)("div",{className:"file-icon",children:"\ud83d\udcc4"}),(0,C.jsxs)("div",{className:"attachment-info",children:[(0,C.jsx)("div",{className:"file-name",title:n.name,children:n.name.length>15?n.name.substring(0,15)+"...":n.name}),(0,C.jsxs)("div",{className:"file-size",children:["(",(n.size/1024).toFixed(1)," KB)"]})]}),(0,C.jsx)("button",{onClick:()=>{const e=document.createElement("a");e.href=n.data,e.download=n.name,e.click()},className:"download-button",title:"Download file",children:"\ud83d\udce5"})]})},t)}catch(n){return(0,C.jsx)("div",{className:"attachment-preview-item",children:(0,C.jsxs)("div",{className:"file-attachment error",children:[(0,C.jsx)("div",{className:"file-icon",children:"\u274c"}),(0,C.jsx)("div",{className:"attachment-info",children:(0,C.jsx)("div",{className:"file-name",children:"Invalid file data"})})]})},t)}})})]})]}):t.processDetails?(0,C.jsxs)("div",{children:[(0,C.jsx)("strong",{children:"Process Details:"})," ",t.processDetails,t.attachments&&t.attachments.length>0&&(0,C.jsxs)("div",{children:[(0,C.jsxs)("strong",{children:["Attachments (",t.attachments.length,"):"]}),(0,C.jsx)("div",{className:"attachment-preview-grid",children:t.attachments.map((e,t)=>{try{const n=JSON.parse(e),r=n.type.startsWith("image/");return(0,C.jsx)("div",{className:"attachment-preview-item",children:r?(0,C.jsxs)("div",{className:"image-attachment",children:[(0,C.jsx)("img",{src:n.data,alt:n.name,className:"attachment-thumbnail clickable-image",style:{maxWidth:"100px",maxHeight:"75px",borderRadius:"4px",border:"1px solid #ddd",cursor:"pointer"},onClick:()=>{const e=document.createElement("div");e.className="image-modal",e.innerHTML='\n                                                                  <div class="image-modal-backdrop" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 10000; display: flex; align-items: center; justify-content: center; cursor: pointer;">\n                                                                    <div style="position: relative; max-width: 90%; max-height: 90%;">\n                                                                      <img src="'.concat(n.data,'" alt="').concat(n.name,'" style="max-width: 100%; max-height: 100%; border-radius: 8px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);" />\n                                                                      <div style="position: absolute; top: 10px; right: 10px; display: flex; gap: 10px;">\n                                                                        <button onclick="event.stopPropagation(); const link = document.createElement(\'a\'); link.href = \'').concat(n.data,"'; link.download = '").concat(n.name,'\'; link.click();" style="background: rgba(255,255,255,0.9); border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; font-size: 12px;">\ud83d\udce5 Download</button>\n                                                                        <button onclick="document.body.removeChild(this.closest(\'.image-modal\'));" style="background: rgba(255,255,255,0.9); border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; font-size: 12px;">\u2715 Close</button>\n                                                                      </div>\n                                                                    </div>\n                                                                  </div>\n                                                                '),document.body.appendChild(e),e.addEventListener("click",t=>{t.target===e.querySelector(".image-modal-backdrop")&&document.body.removeChild(e)})}}),(0,C.jsxs)("div",{className:"attachment-info",children:[(0,C.jsx)("div",{className:"file-name",title:n.name,children:n.name.length>15?n.name.substring(0,15)+"...":n.name}),(0,C.jsxs)("div",{className:"file-size",children:["(",(n.size/1024).toFixed(1)," KB)"]})]})]}):(0,C.jsxs)("div",{className:"file-attachment",children:[(0,C.jsx)("div",{className:"file-icon",children:"\ud83d\udcc4"}),(0,C.jsxs)("div",{className:"attachment-info",children:[(0,C.jsx)("div",{className:"file-name",title:n.name,children:n.name.length>15?n.name.substring(0,15)+"...":n.name}),(0,C.jsxs)("div",{className:"file-size",children:["(",(n.size/1024).toFixed(1)," KB)"]})]}),(0,C.jsx)("button",{onClick:()=>{const e=document.createElement("a");e.href=n.data,e.download=n.name,e.click()},className:"download-button",title:"Download file",children:"\ud83d\udce5"})]})},t)}catch(n){return(0,C.jsx)("div",{className:"attachment-preview-item",children:(0,C.jsxs)("div",{className:"file-attachment error",children:[(0,C.jsx)("div",{className:"file-icon",children:"\u274c"}),(0,C.jsx)("div",{className:"attachment-info",children:(0,C.jsx)("div",{className:"file-name",children:"Invalid file data"})})]})},t)}})})]}),t.comments&&(0,C.jsxs)("div",{children:[(0,C.jsx)("strong",{children:"Comments:"})," ",t.comments]})]}):t.attachments||t.comments?(0,C.jsxs)("div",{children:[t.comments&&(0,C.jsxs)("div",{children:[(0,C.jsx)("strong",{children:"Comments:"})," ",t.comments]}),t.attachments&&t.attachments.length>0&&(0,C.jsxs)("div",{children:[(0,C.jsxs)("strong",{children:["Attachments (",t.attachments.length,"):"]}),(0,C.jsx)("div",{className:"attachment-preview-grid",children:t.attachments.map((e,t)=>{try{const n=JSON.parse(e),r=n.type.startsWith("image/");return(0,C.jsx)("div",{className:"attachment-preview-item",children:r?(0,C.jsxs)("div",{className:"image-attachment",children:[(0,C.jsx)("img",{src:n.data,alt:n.name,className:"attachment-thumbnail clickable-image",style:{maxWidth:"100px",maxHeight:"75px",borderRadius:"4px",border:"1px solid #ddd",cursor:"pointer"},onClick:()=>{const e=document.createElement("div");e.className="image-modal",e.innerHTML='\n                                                                  <div class="image-modal-backdrop" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 10000; display: flex; align-items: center; justify-content: center; cursor: pointer;">\n                                                                    <div style="position: relative; max-width: 90%; max-height: 90%;">\n                                                                      <img src="'.concat(n.data,'" alt="').concat(n.name,'" style="max-width: 100%; max-height: 100%; border-radius: 8px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);" />\n                                                                      <div style="position: absolute; top: 10px; right: 10px; display: flex; gap: 10px;">\n                                                                        <button onclick="event.stopPropagation(); const link = document.createElement(\'a\'); link.href = \'').concat(n.data,"'; link.download = '").concat(n.name,'\'; link.click();" style="background: rgba(255,255,255,0.9); border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; font-size: 12px;">\ud83d\udce5 Download</button>\n                                                                        <button onclick="document.body.removeChild(this.closest(\'.image-modal\'));" style="background: rgba(255,255,255,0.9); border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; font-size: 12px;">\u2715 Close</button>\n                                                                      </div>\n                                                                    </div>\n                                                                  </div>\n                                                                '),document.body.appendChild(e),e.addEventListener("click",t=>{t.target===e.querySelector(".image-modal-backdrop")&&document.body.removeChild(e)})}}),(0,C.jsxs)("div",{className:"attachment-info",children:[(0,C.jsx)("div",{className:"file-name",title:n.name,children:n.name.length>15?n.name.substring(0,15)+"...":n.name}),(0,C.jsxs)("div",{className:"file-size",children:["(",(n.size/1024).toFixed(1)," KB)"]})]})]}):(0,C.jsxs)("div",{className:"file-attachment",children:[(0,C.jsx)("div",{className:"file-icon",children:"\ud83d\udcc4"}),(0,C.jsxs)("div",{className:"attachment-info",children:[(0,C.jsx)("div",{className:"file-name",title:n.name,children:n.name.length>15?n.name.substring(0,15)+"...":n.name}),(0,C.jsxs)("div",{className:"file-size",children:["(",(n.size/1024).toFixed(1)," KB)"]})]}),(0,C.jsx)("button",{onClick:()=>{const e=document.createElement("a");e.href=n.data,e.download=n.name,e.click()},className:"download-button",title:"Download file",children:"\ud83d\udce5"})]})},t)}catch(n){return(0,C.jsx)("div",{className:"attachment-preview-item",children:(0,C.jsxs)("div",{className:"file-attachment error",children:[(0,C.jsx)("div",{className:"file-icon",children:"\u274c"}),(0,C.jsx)("div",{className:"attachment-info",children:(0,C.jsx)("div",{className:"file-name",children:"Invalid file data"})})]})},t)}})})]})]}):(0,C.jsx)("div",{children:Object.entries(t).map(e=>{let[t,n]=e;return(0,C.jsxs)("div",{children:[(0,C.jsxs)("strong",{children:[t.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase()),":"]}),"attachments"===t&&Array.isArray(n)&&n.length>0?(0,C.jsxs)("div",{children:[(0,C.jsxs)("strong",{children:[" (",n.length,"):"]}),(0,C.jsx)("div",{className:"attachment-preview-grid",children:n.map((e,t)=>{try{const n=JSON.parse(e),r=n.type.startsWith("image/");return(0,C.jsx)("div",{className:"attachment-preview-item",children:r?(0,C.jsxs)("div",{className:"image-attachment",children:[(0,C.jsx)("img",{src:n.data,alt:n.name,className:"attachment-thumbnail clickable-image",style:{maxWidth:"100px",maxHeight:"75px",borderRadius:"4px",border:"1px solid #ddd",cursor:"pointer"},onClick:()=>{const e=document.createElement("div");e.className="image-modal",e.innerHTML='\n                                                                      <div class="image-modal-backdrop" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 10000; display: flex; align-items: center; justify-content: center; cursor: pointer;">\n                                                                        <div style="position: relative; max-width: 90%; max-height: 90%;">\n                                                                          <img src="'.concat(n.data,'" alt="').concat(n.name,'" style="max-width: 100%; max-height: 100%; border-radius: 8px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);" />\n                                                                          <div style="position: absolute; top: 10px; right: 10px; display: flex; gap: 10px;">\n                                                                            <button onclick="event.stopPropagation(); const link = document.createElement(\'a\'); link.href = \'').concat(n.data,"'; link.download = '").concat(n.name,'\'; link.click();" style="background: rgba(255,255,255,0.9); border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; font-size: 12px;">\ud83d\udce5 Download</button>\n                                                                            <button onclick="document.body.removeChild(this.closest(\'.image-modal\'));" style="background: rgba(255,255,255,0.9); border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; font-size: 12px;">\u2715 Close</button>\n                                                                          </div>\n                                                                        </div>\n                                                                      </div>\n                                                                    '),document.body.appendChild(e),e.addEventListener("click",t=>{t.target===e.querySelector(".image-modal-backdrop")&&document.body.removeChild(e)})}}),(0,C.jsxs)("div",{className:"attachment-info",children:[(0,C.jsx)("div",{className:"file-name",title:n.name,children:n.name.length>15?n.name.substring(0,15)+"...":n.name}),(0,C.jsxs)("div",{className:"file-size",children:["(",(n.size/1024).toFixed(1)," KB)"]})]})]}):(0,C.jsxs)("div",{className:"file-attachment",children:[(0,C.jsx)("div",{className:"file-icon",children:"\ud83d\udcc4"}),(0,C.jsxs)("div",{className:"attachment-info",children:[(0,C.jsx)("div",{className:"file-name",title:n.name,children:n.name.length>15?n.name.substring(0,15)+"...":n.name}),(0,C.jsxs)("div",{className:"file-size",children:["(",(n.size/1024).toFixed(1)," KB)"]})]}),(0,C.jsx)("button",{onClick:()=>{const e=document.createElement("a");e.href=n.data,e.download=n.name,e.click()},className:"download-button",title:"Download file",children:"\ud83d\udce5"})]})},t)}catch(n){return(0,C.jsx)("div",{className:"attachment-preview-item",children:(0,C.jsxs)("div",{className:"file-attachment error",children:[(0,C.jsx)("div",{className:"file-icon",children:"\u274c"}),(0,C.jsx)("div",{className:"attachment-info",children:(0,C.jsx)("div",{className:"file-name",children:"Invalid file data"})})]})},t)}})})]}):(0,C.jsxs)("span",{children:[" ","object"===typeof n?Array.isArray(n)?"".concat(n.length," item(s)"):JSON.stringify(n):String(n)]})]},t)})})}catch(t){return(0,C.jsx)("div",{children:e.details})}})()})]})]},t))})]})]}),f===d.id&&(0,C.jsxs)("div",{className:"amendment-form",children:[(0,C.jsx)("h4",{children:"Amend Case Details"}),(0,C.jsxs)("div",{className:"form-grid",children:[(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{children:"Hospital:"}),(0,C.jsx)("input",{type:"text",value:v.hospital||"",onChange:e=>ye((0,o.A)((0,o.A)({},v),{},{hospital:e.target.value}))}),Be(0,v.hospital,null===(t=d.originalValues)||void 0===t?void 0:t.hospital)]}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{children:"Department:"}),(0,C.jsxs)("select",{value:v.department||"",onChange:e=>ye((0,o.A)((0,o.A)({},v),{},{department:e.target.value})),children:[(0,C.jsx)("option",{value:"",children:"Select Department"}),Le.map(e=>(0,C.jsx)("option",{value:e,children:e},e))]}),Be(0,v.department,null===(n=d.originalValues)||void 0===n?void 0:n.department)]}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{children:"Date of Surgery:"}),(0,C.jsx)("input",{type:"date",value:v.dateOfSurgery||"",onChange:e=>ye((0,o.A)((0,o.A)({},v),{},{dateOfSurgery:e.target.value})),min:Vo(),required:!0}),Be(0,v.dateOfSurgery,null===(a=d.originalValues)||void 0===a?void 0:a.dateOfSurgery)]}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{children:"Procedure Type:"}),(0,C.jsxs)("select",{value:v.procedureType||"",onChange:e=>ye((0,o.A)((0,o.A)({},v),{},{procedureType:e.target.value})),children:[(0,C.jsx)("option",{value:"",children:"Select Procedure Type"}),Me.map(e=>(0,C.jsx)("option",{value:e,children:e},e))]}),Be(0,v.procedureType,null===(s=d.originalValues)||void 0===s?void 0:s.procedureType)]}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{children:"Doctor Name:"}),(0,C.jsx)("input",{type:"text",value:v.doctorName||"",onChange:e=>ye((0,o.A)((0,o.A)({},v),{},{doctorName:e.target.value}))}),Be(0,v.doctorName,null===(i=d.originalValues)||void 0===i?void 0:i.doctorName)]}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{children:"Time of Procedure:"}),(0,C.jsx)(W,{value:v.timeOfProcedure||"",onChange:e=>ye((0,o.A)((0,o.A)({},v),{},{timeOfProcedure:e})),placeholder:"Select procedure time",step:15}),Be(0,v.timeOfProcedure,null===(l=d.originalValues)||void 0===l?void 0:l.timeOfProcedure)]}),(0,C.jsxs)("div",{className:"form-group full-width",children:[(0,C.jsx)("label",{children:"Special Instructions:"}),(0,C.jsx)("textarea",{value:v.specialInstruction||"",onChange:e=>ye((0,o.A)((0,o.A)({},v),{},{specialInstruction:e.target.value})),rows:3}),Be(0,v.specialInstruction,null===(c=d.originalValues)||void 0===c?void 0:c.specialInstruction)]})]}),(0,C.jsxs)("div",{className:"amendment-actions",children:[(0,C.jsx)("button",{onClick:()=>K(d.id),className:"btn btn-primary btn-md save-amendment-button",children:"Save Amendment"}),(0,C.jsx)("button",{onClick:J,className:"btn btn-outline-secondary btn-md cancel-amendment-button",children:"Cancel"})]})]}),y===d.id&&(0,C.jsxs)("div",{className:"processing-form",children:[(0,C.jsx)("h4",{children:"Order Processing Details"}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{children:"Enter processing details:"}),(0,C.jsx)("textarea",{value:b,onChange:e=>be(e.target.value),placeholder:"Enter order processing details, preparation notes, and any additional requirements...",rows:4,className:"process-details-input"})]}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{children:"Attachments (Optional):"}),(0,C.jsx)("input",{type:"file",multiple:!0,accept:".pdf,.doc,.docx,.xls,.xlsx,.png,.jpg,.jpeg,.txt",onChange:e=>{const t=e.target.files;if(t){const e=[];Array.from(t).forEach(n=>{const r=new FileReader;r.onload=()=>{const a={name:n.name,type:n.type,size:n.size,data:r.result};e.push(JSON.stringify(a)),e.length===t.length&&xe([...w,...e])},r.readAsDataURL(n)})}},className:"file-upload-input"}),w.length>0&&(0,C.jsxs)("div",{className:"attachment-list",children:[(0,C.jsxs)("p",{children:["Uploaded files (",w.length,"):"]}),w.map((e,t)=>{try{const n=JSON.parse(e);return(0,C.jsxs)("div",{className:"attachment-item",children:[(0,C.jsx)("span",{className:"file-name",children:n.name}),(0,C.jsxs)("span",{className:"file-size",children:["(",(n.size/1024).toFixed(1)," KB)"]}),(0,C.jsx)("button",{onClick:()=>xe(w.filter((e,n)=>n!==t)),className:"remove-attachment",type:"button",children:"\u2715"})]},t)}catch(n){return(0,C.jsxs)("div",{className:"attachment-item",children:[(0,C.jsx)("span",{className:"file-name",children:"Invalid file data"}),(0,C.jsx)("button",{onClick:()=>xe(w.filter((e,n)=>n!==t)),className:"remove-attachment",type:"button",children:"\u2715"})]},t)}})]})]}),(0,C.jsxs)("div",{className:"processing-actions",children:[(0,C.jsx)("button",{onClick:()=>$(d.id),className:"btn btn-primary btn-md save-process-button",disabled:!b.trim(),children:"Complete Processing"}),(0,C.jsx)("button",{onClick:X,className:"btn btn-outline-secondary btn-md cancel-process-button",children:"Cancel"})]})]}),j===d.id&&(0,C.jsxs)("div",{className:"hospital-delivery-form",children:[(0,C.jsx)("h4",{children:"Pending Delivery to Hospital"}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{children:"Attachments (Optional):"}),(0,C.jsx)("input",{type:"file",multiple:!0,accept:"image/*,.pdf,.doc,.docx,.txt",onChange:e=>{const t=e.target.files;t&&Array.from(t).forEach(e=>{const t=new FileReader;t.onload=()=>{const n={name:e.name,type:e.type,size:e.size,data:t.result};je([...k,JSON.stringify(n)])},t.readAsDataURL(e)})},className:"file-upload-input"}),k.length>0&&(0,C.jsxs)("div",{className:"attachment-list",children:[(0,C.jsxs)("p",{children:["Uploaded files (",k.length,"):"]}),k.map((e,t)=>{try{const n=JSON.parse(e);return(0,C.jsxs)("div",{className:"attachment-item",children:[(0,C.jsx)("span",{className:"file-name",children:n.name}),(0,C.jsxs)("span",{className:"file-size",children:["(",(n.size/1024).toFixed(1)," KB)"]}),(0,C.jsx)("button",{onClick:()=>je(k.filter((e,n)=>n!==t)),className:"remove-attachment",type:"button",children:"\u2715"})]},t)}catch(n){return(0,C.jsxs)("div",{className:"attachment-item",children:[(0,C.jsx)("span",{className:"file-name",children:"Invalid file data"}),(0,C.jsx)("button",{onClick:()=>je(k.filter((e,n)=>n!==t)),className:"remove-attachment",type:"button",children:"\u2715"})]},t)}})]})]}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{children:"Comments (Optional):"}),(0,C.jsx)("textarea",{value:D,onChange:e=>ke(e.target.value),placeholder:"Add any delivery notes or special instructions...",rows:3,className:"form-control"})]}),(0,C.jsxs)("div",{className:"hospital-delivery-actions",children:[(0,C.jsx)("button",{onClick:()=>Se(d.id),className:"btn btn-primary btn-md save-hospital-delivery-button",children:"Mark as Pending Delivery"}),(0,C.jsx)("button",{onClick:Ne,className:"btn btn-outline-secondary btn-md cancel-hospital-delivery-button",children:"Cancel"})]})]}),E===d.id&&(0,C.jsxs)("div",{className:"received-form",children:[(0,C.jsx)("h4",{children:"Order Received at Hospital"}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{children:"Delivery Details:"}),(0,C.jsx)("textarea",{value:I,onChange:e=>Ce(e.target.value),placeholder:"Enter delivery details, condition of items, any issues encountered...",rows:4,className:"received-details-input"})]}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{children:"Delivery Image (Optional):"}),(0,C.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(n){const e=new FileReader;e.onload=()=>De(e.result),e.readAsDataURL(n)}},className:"image-upload"}),P&&(0,C.jsx)("div",{className:"image-preview",children:(0,C.jsx)("img",{src:P,alt:"Delivery",style:{maxWidth:"200px",maxHeight:"200px"}})})]}),(0,C.jsxs)("div",{className:"received-actions",children:[(0,C.jsx)("button",{onClick:()=>te(d.id),className:"btn btn-primary btn-md save-received-button",disabled:!I.trim(),children:"Confirm Received"}),(0,C.jsx)("button",{onClick:ne,className:"btn btn-outline-secondary btn-md cancel-received-button",children:"Cancel"})]})]}),A===d.id&&(0,C.jsxs)("div",{className:"completed-form",children:[(0,C.jsx)("h4",{children:"Case Completion"}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{children:"Attachments (Optional):"}),(0,C.jsx)("input",{type:"file",multiple:!0,accept:".pdf,.doc,.docx,.xls,.xlsx,.png,.jpg,.jpeg,.txt",onChange:ge,className:"file-upload-input"}),O.length>0&&(0,C.jsxs)("div",{className:"attachment-list",children:[(0,C.jsxs)("p",{children:["Uploaded files (",O.length,"):"]}),O.map((e,t)=>{try{const n=JSON.parse(e);return(0,C.jsxs)("div",{className:"attachment-item",children:[(0,C.jsx)("span",{className:"file-name",children:n.name}),(0,C.jsxs)("span",{className:"file-size",children:["(",(n.size/1024).toFixed(1)," KB)"]}),(0,C.jsx)("button",{onClick:()=>ve(t),className:"remove-attachment",type:"button",children:"\u2715"})]},t)}catch(n){return(0,C.jsxs)("div",{className:"attachment-item",children:[(0,C.jsx)("span",{className:"file-name",children:"Invalid file data"}),(0,C.jsx)("button",{onClick:()=>ve(t),className:"remove-attachment",type:"button",children:"\u2715"})]},t)}})]})]}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{children:"Order Summary:"}),(0,C.jsx)("textarea",{value:T,onChange:e=>Ee(e.target.value),placeholder:"Provide a comprehensive summary of the completed order...",rows:4,className:"summary-input"})]}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{children:"DO Number:"}),(0,C.jsx)("input",{type:"text",value:_,onChange:e=>Ie(e.target.value),placeholder:"Enter delivery order number",className:"do-number-input"})]}),(0,C.jsxs)("div",{className:"completed-actions",children:[(0,C.jsx)("button",{onClick:()=>ae(d.id),className:"btn btn-primary btn-md save-completed-button",disabled:!T.trim()||!_.trim(),children:"Complete Case"}),(0,C.jsx)("button",{onClick:se,className:"btn btn-outline-secondary btn-md cancel-completed-button",children:"Cancel"})]})]}),M===d.id&&(0,C.jsxs)("div",{className:"pending-office-form",children:[(0,C.jsx)("h4",{children:"Pending Delivery to Office"}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{children:"Attachments (Optional):"}),(0,C.jsx)("input",{type:"file",multiple:!0,accept:".pdf,.doc,.docx,.xls,.xlsx,.png,.jpg,.jpeg,.txt",onChange:e=>{const t=e.target.files;if(t){const e=[];Array.from(t).forEach(n=>{const r=new FileReader;r.onload=()=>{const a={name:n.name,type:n.type,size:n.size,data:r.result};e.push(JSON.stringify(a)),e.length===t.length&&Pe([...R,...e])},r.readAsDataURL(n)})}},className:"file-upload-input"}),R.length>0&&(0,C.jsxs)("div",{className:"attachment-list",children:[(0,C.jsxs)("p",{children:["Uploaded files (",R.length,"):"]}),R.map((e,t)=>{try{const n=JSON.parse(e);return(0,C.jsxs)("div",{className:"attachment-item",children:[(0,C.jsx)("span",{className:"file-name",children:n.name}),(0,C.jsxs)("span",{className:"file-size",children:["(",(n.size/1024).toFixed(1)," KB)"]}),(0,C.jsx)("button",{onClick:()=>Pe(R.filter((e,n)=>n!==t)),className:"remove-attachment",type:"button",children:"\u2715"})]},t)}catch(n){return(0,C.jsxs)("div",{className:"attachment-item",children:[(0,C.jsx)("span",{className:"file-name",children:"Invalid file data"}),(0,C.jsx)("button",{onClick:()=>Pe(R.filter((e,n)=>n!==t)),className:"remove-attachment",type:"button",children:"\u2715"})]},t)}})]})]}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{children:"Comments (Optional):"}),(0,C.jsx)("textarea",{value:L,onChange:e=>Ae(e.target.value),placeholder:"Add any additional comments or notes...",rows:3,className:"comments-input"})]}),(0,C.jsxs)("div",{className:"pending-office-actions",children:[(0,C.jsx)("button",{onClick:()=>ie(d.id),className:"btn btn-primary btn-md save-pending-office-button",children:"Mark as Pending Delivery (Office)"}),(0,C.jsx)("button",{onClick:le,className:"btn btn-outline-secondary btn-md cancel-pending-office-button",children:"Cancel"})]})]}),F===d.id&&(0,C.jsxs)("div",{className:"office-delivery-form",children:[(0,C.jsx)("h4",{children:"Delivery to Office"}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{children:"Attachments (Optional):"}),(0,C.jsx)("input",{type:"file",multiple:!0,accept:".pdf,.doc,.docx,.xls,.xlsx,.png,.jpg,.jpeg,.txt",onChange:e=>{const t=e.target.files;if(t){const e=[];Array.from(t).forEach(n=>{const r=new FileReader;r.onload=()=>{const a={name:n.name,type:n.type,size:n.size,data:r.result};e.push(JSON.stringify(a)),e.length===t.length&&Oe([...B,...e])},r.readAsDataURL(n)})}},className:"file-upload-input"}),B.length>0&&(0,C.jsxs)("div",{className:"attachment-list",children:[(0,C.jsxs)("p",{children:["Uploaded files (",B.length,"):"]}),B.map((e,t)=>{try{const n=JSON.parse(e);return(0,C.jsxs)("div",{className:"attachment-item",children:[(0,C.jsx)("span",{className:"file-name",children:n.name}),(0,C.jsxs)("span",{className:"file-size",children:["(",(n.size/1024).toFixed(1)," KB)"]}),(0,C.jsx)("button",{onClick:()=>Oe(B.filter((e,n)=>n!==t)),className:"remove-attachment",type:"button",children:"\u2715"})]},t)}catch(n){return(0,C.jsxs)("div",{className:"attachment-item",children:[(0,C.jsx)("span",{className:"file-name",children:"Invalid file data"}),(0,C.jsx)("button",{onClick:()=>Oe(B.filter((e,n)=>n!==t)),className:"remove-attachment",type:"button",children:"\u2715"})]},t)}})]})]}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{children:"Comments (Optional):"}),(0,C.jsx)("textarea",{value:H,onChange:e=>Te(e.target.value),placeholder:"Add any delivery notes or special instructions...",rows:3,className:"comments-input"})]}),(0,C.jsxs)("div",{className:"office-delivery-actions",children:[(0,C.jsx)("button",{onClick:()=>de(d.id),className:"btn btn-primary btn-md save-office-delivery-button",children:"Mark as Delivered (Office)"}),(0,C.jsx)("button",{onClick:ue,className:"btn btn-outline-secondary btn-md cancel-office-delivery-button",children:"Cancel"})]})]}),(0,C.jsx)(si,{caseItem:d,currentUser:u,onStatusChange:q,onAmendCase:Q,onDeleteCase:he,onOrderProcessed:G,onOrderDelivered:Z,onOrderReceived:ee,onCaseCompleted:re,onPendingDeliveryOffice:oe,onOfficeDelivery:ce,onOrderDeliveredOffice:pe,onToBeBilled:me,onCancelCase:fe,canAmendCase:e=>{const t=g();if(!t)return!1;if("admin"===t.role)return!0;const n=["sales","sales-manager","operations","operation-manager"].includes(t.role),r=!e.isAmended;return n&&r}})]})]})},ii=e=>{let{message:t,isVisible:n,onClose:a}=e;return(0,r.useEffect)(()=>{if(n){const e=setTimeout(()=>{a()},3e3);return()=>clearTimeout(e)}},[n,a]),(0,r.useEffect)(()=>{const e=e=>{"Escape"===e.key&&n&&a()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[n,a]),n?(0,C.jsx)("div",{className:"status-success-overlay",onClick:a,children:(0,C.jsxs)("div",{className:"status-success-popup",onClick:e=>e.stopPropagation(),children:[(0,C.jsx)("div",{className:"success-icon",children:(0,C.jsx)("div",{className:"success-checkmark",children:(0,C.jsxs)("svg",{className:"checkmark-svg",viewBox:"0 0 52 52",width:"80",height:"80",children:[(0,C.jsx)("circle",{className:"checkmark-circle",cx:"26",cy:"26",r:"25",fill:"none"}),(0,C.jsx)("path",{className:"checkmark-check",fill:"none",d:"m14.1 27.2l7.1 7.2 16.7-16.8"})]})})}),(0,C.jsxs)("div",{className:"success-content",children:[(0,C.jsx)("h3",{children:"Success!"}),(0,C.jsx)("p",{children:t})]}),(0,C.jsx)("button",{className:"close-button",onClick:a,children:"\xd7"}),(0,C.jsx)("div",{className:"auto-close-indicator",children:(0,C.jsx)("div",{className:"auto-close-bar"})})]})}):null},li=e=>{let{onProcessCase:t,currentUser:n,highlightedCaseId:a,onClearHighlight:s,onNavigateToPermissions:i}=e;const{addNotification:l}=$o(),{modal:c,closeModal:d,showConfirm:u}=Q(),[p,m]=(0,r.useState)([]),[h,v]=(0,r.useState)([]),[y,b]=(0,r.useState)([]),[x,w]=(0,r.useState)([]),[S,N]=(0,r.useState)({}),[j,k]=(0,r.useState)({}),[D,E]=(0,r.useState)(new Set),[P,T]=(0,r.useState)(new Set),[_,M]=(0,r.useState)(new Set),[R,L]=(0,r.useState)(!1),[F,B]=(0,r.useState)(!0),[H,z]=(0,r.useState)(null),[U,Y]=(0,r.useState)({}),[W,q]=(0,r.useState)(null),[K,J]=(0,r.useState)(""),[G]=(0,r.useState)(null),[$]=(0,r.useState)(""),[X,Z]=(0,r.useState)(null),[ee,te]=(0,r.useState)(""),[ne,re]=(0,r.useState)(""),[ae,se]=(0,r.useState)(null),[oe,ie]=(0,r.useState)([]),[le,ce]=(0,r.useState)(""),[de,ue]=(0,r.useState)(""),[pe,me]=(0,r.useState)([]),[he,fe]=(0,r.useState)(""),[ge,ve]=(0,r.useState)([]),[ye,be]=(0,r.useState)(""),[xe,we]=(0,r.useState)(null),[Se,Ne]=(0,r.useState)(null),[je,ke]=(0,r.useState)([]),[Ce,De]=(0,r.useState)(""),[Ee,Ie]=(0,r.useState)(null),[Pe,Ae]=(0,r.useState)([]),[Oe,Te]=(0,r.useState)(""),[_e,Me]=(0,r.useState)(1),[Re]=(0,r.useState)(5),[Le,Fe]=(0,r.useState)(!1),[Be,He]=(0,r.useState)(""),ze=e=>{const t=e.target.files;t&&Array.from(t).forEach(e=>{const t=new FileReader;t.onload=()=>{const n={name:e.name,type:e.type,size:e.size,data:t.result};ie(e=>[...e,JSON.stringify(n)])},t.readAsDataURL(e)})},Ue=e=>{ie(t=>t.filter((t,n)=>n!==e))};(0,r.useEffect)(()=>{(()=>{const e=A();let t=!1;e.forEach(e=>{if(e.processOrderDetails&&e.processOrderDetails.includes("deliveryDetails"))try{const n=JSON.parse(e.processOrderDetails);(n.deliveryDetails||n.deliveryImage||n.attachments)&&(delete e.processOrderDetails,t=!0)}catch(n){}}),t&&localStorage.setItem(I,JSON.stringify(e))})(),Ye()},[n]),(0,r.useEffect)(()=>{const e=g();let t=((e,t)=>e.filter(e=>!(t.submitter&&!e.submittedBy.toLowerCase().includes(t.submitter.toLowerCase()))&&!(t.hospital&&!e.hospital.toLowerCase().includes(t.hospital.toLowerCase()))&&(!t.status||e.status===t.status)&&!(t.dateFrom&&e.dateOfSurgery<t.dateFrom)&&!(t.dateTo&&e.dateOfSurgery>t.dateTo)&&(!t.country||e.country===t.country)))(p,S);"operations"===(null===e||void 0===e?void 0:e.role)&&e.selectedCountry&&(t=t.filter(t=>t.country===e.selectedCountry)),null!==e&&void 0!==e&&e.departments&&e.departments.length>0&&"admin"!==e.role&&(t=t.filter(t=>e.departments.includes(t.department))),v(t)},[p,S]),(0,r.useEffect)(()=>{if(a){const e=h.findIndex(e=>e.id===a);if(-1!==e){const t=Math.ceil((e+1)/Re);Me(t)}E(e=>new Set([...Array.from(e),a])),setTimeout(()=>{const e=document.getElementById("case-".concat(a));e&&(e.scrollIntoView({behavior:"smooth",block:"center"}),e.classList.add("highlighted-case"),setTimeout(()=>{e.classList.remove("highlighted-case"),null===s||void 0===s||s()},3e3))},100)}},[a,s,h,Re]);const Ye=()=>{const e=A(),t=Array.from(new Set(e.map(e=>e.submittedBy))).filter(e=>e&&e.trim()).sort();b(t);const r=Array.from(new Set(e.map(e=>e.hospital))).filter(e=>e&&e.trim()).sort();if(w(r),"admin"===(null===n||void 0===n?void 0:n.role)||"it"===(null===n||void 0===n?void 0:n.role))m(e);else{const t=null!==n&&void 0!==n&&n.selectedCountry?e.filter(e=>e.country===n.selectedCountry):e;m(t)}},We=e=>{E(t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})},Ve=e=>{T(t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})},qe=e=>{M(t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})},Qe=(e,t)=>{const n=g();if(!n)return;const r=p.find(t=>t.id===e);O(e,t,n.name),Ye(),Me(1),E(t=>new Set([...Array.from(t),e])),He('Case status successfully updated to "'.concat(t,'"')),Fe(!0),l({title:"Case Status Updated",message:"Case ".concat((null===r||void 0===r?void 0:r.caseReferenceNumber)||e," status changed to ").concat(t),type:"success"})},Ke=e=>{z(e.id),Y({hospital:e.hospital,department:e.department,dateOfSurgery:e.dateOfSurgery,procedureType:e.procedureType,doctorName:e.doctorName,timeOfProcedure:e.timeOfProcedure,specialInstruction:e.specialInstruction})},Je=e=>{const t=g();if(t)try{const n="admin"===t.role;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=A(),s=a.findIndex(t=>t.id===e);if(s>=0){const e=a[s];if(e.isAmended&&!r)throw new Error("This case has already been amended and cannot be amended again.");let i=e.originalValues;i||(i={hospital:e.hospital,department:e.department,dateOfSurgery:e.dateOfSurgery,procedureType:e.procedureType,doctorName:e.doctorName,timeOfProcedure:e.timeOfProcedure,specialInstruction:e.specialInstruction});const l=[];["hospital","department","dateOfSurgery","procedureType","doctorName","timeOfProcedure","specialInstruction"].forEach(n=>{if(void 0!==t[n]){const r=e[n]||"",a=t[n]||"";r!==a&&l.push({field:n.charAt(0).toUpperCase()+n.slice(1).replace(/([A-Z])/g," $1"),oldValue:r,newValue:a})}});const c={amendmentId:Date.now().toString(),timestamp:(new Date).toISOString(),amendedBy:n,changes:l},d=e.amendmentHistory||[];d.push(c),a[s]=(0,o.A)((0,o.A)((0,o.A)({},e),t),{},{amendedBy:n,amendedAt:(new Date).toISOString(),isAmended:!0,originalValues:i,amendmentHistory:d}),localStorage.setItem(I,JSON.stringify(a))}}(e,U,t.name,n),z(null),Y({}),Ye(),Me(1),E(t=>new Set([...Array.from(t),e])),He("Case amended successfully!"),Fe(!0)}catch(n){console.error("Failed to amend case:",n)}},Ge=()=>{z(null),Y({})},$e=e=>{q(e),J(""),me([])},Xe=e=>{if(!K.trim())return;const t=g();if(t)try{const r=p.find(t=>t.id===e),a={processDetails:K,attachments:pe};if(O(e,"Order Prepared",t.name,JSON.stringify(a)),q(null),J(""),me([]),Ye(),Me(1),E(t=>new Set([...Array.from(t),e])),He("Order successfully marked as prepared"),Fe(!0),l({title:"Order Processed",message:"Case ".concat((null===r||void 0===r?void 0:r.caseReferenceNumber)||e," has been processed and is now ready for delivery by ").concat(t.name),type:"success"}),r){const e=(e=>{const t=f().find(t=>t.username.toLowerCase()===e.toLowerCase()||t.name.toLowerCase()===e.toLowerCase());return(null===t||void 0===t?void 0:t.email)||null})(r.submittedBy);if(e&&t.email)try{u("Create Calendar Invite","Case ".concat(r.caseReferenceNumber," has been prepared!\n\nWould you like to create a calendar invite for the surgery procedure?\n\nThis will open Outlook with a pre-filled calendar event to send to ").concat(r.submittedBy," (").concat(e,")."),()=>{Xo(r,e,t),u("Download Calendar File","Calendar invite opened in Outlook!\n\nWould you also like to download a calendar file (.ics) as backup?",()=>{((e,t,n)=>{const r=new Date(e.dateOfSurgery);let a=new Date(r);if(e.timeOfProcedure){const[t,n]=e.timeOfProcedure.split(":").map(Number);a.setHours(t,n,0,0)}else a.setHours(9,0,0,0);const s=new Date(a);s.setHours(s.getHours()+1);const o=e=>e.toISOString().replace(/[-:]/g,"").replace(/\.\d{3}/,""),i=o(a),l=o(s),c=o(new Date),d="Medical Case Procedure - ".concat(e.procedureType," (").concat(e.caseReferenceNumber,")"),u="".concat(e.hospital," - ").concat(e.department),p="Case Details:\\n"+"Reference Number: ".concat(e.caseReferenceNumber,"\\n")+"Hospital: ".concat(e.hospital,"\\n")+"Department: ".concat(e.department,"\\n")+"Procedure Type: ".concat(e.procedureType,"\\n")+"Procedure Name: ".concat(e.procedureName,"\\n")+(e.doctorName?"Doctor: ".concat(e.doctorName,"\\n"):"")+(e.specialInstruction?"Special Instructions: ".concat(e.specialInstruction,"\\n"):"")+"\\nOrder Status: Case Prepared\\n"+"Prepared by: ".concat(n.name,"\\n")+"Prepared at: ".concat(Yo(new Date),"\\n")+"\\nSurgery Set Selection:\\n"+e.surgerySetSelection.map(e=>"\u2022 ".concat(e)).join("\\n")+"\\n\\nImplant Box:\\n"+e.implantBox.map(e=>"\u2022 ".concat(e)).join("\\n"),m=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//Case Booking App//Medical Case Calendar//EN","BEGIN:VEVENT","UID:".concat(e.id,"-").concat(c,"@casebooking.app"),"DTSTAMP:".concat(c),"DTSTART:".concat(i),"DTEND:".concat(l),"SUMMARY:".concat(d),"DESCRIPTION:".concat(p),"LOCATION:".concat(u),"ATTENDEE;CN=".concat(n.name,":MAILTO:").concat(n.email||"noreply@casebooking.app"),"ATTENDEE;CN=Case Submitter:MAILTO:".concat(t),"STATUS:CONFIRMED","TRANSP:OPAQUE","END:VEVENT","END:VCALENDAR"].join("\r\n"),h=new Blob([m],{type:"text/calendar;charset=utf-8"}),f=window.URL.createObjectURL(h),g=document.createElement("a");g.href=f,g.download="case-".concat(e.caseReferenceNumber,"-calendar-invite.ics"),document.body.appendChild(g),g.click(),document.body.removeChild(g),window.URL.revokeObjectURL(f)})(r,e,t)}),l({title:"Calendar Invite Created",message:"Outlook calendar invite created for case ".concat(r.caseReferenceNumber," surgery procedure"),type:"success"})})}catch(n){console.error("Failed to create calendar invite:",n),l({title:"Calendar Invite Failed",message:"Failed to create calendar invite. Please create manually if needed.",type:"warning"})}else{const n=[];e||n.push("submitter email for ".concat(r.submittedBy)),t.email||n.push("your email address"),n.length>0&&l({title:"Calendar Invite Unavailable",message:"Cannot create calendar invite: Missing ".concat(n.join(" and "),". Please update user profiles with email addresses."),type:"info"})}}}catch(r){console.error("Failed to update case status:",r)}},Ze=()=>{q(null),J(""),me([])},et=e=>{we(e)},tt=()=>{we(null),ve([]),be("")},nt=e=>{const t=g();if(t&&(0,Qo.hasPermission)(t.role,Qo.PERMISSION_ACTIONS.PENDING_DELIVERY_HOSPITAL))try{const n=p.find(t=>t.id===e),r={attachments:ge,comments:ye};O(e,"Pending Delivery (Hospital)",t.name,JSON.stringify(r)),we(null),ve([]),be(""),Ye(),Me(1),E(t=>new Set([...Array.from(t),e])),He("Order marked as pending delivery to hospital"),Fe(!0),l({title:"Pending Delivery to Hospital",message:"Case ".concat((null===n||void 0===n?void 0:n.caseReferenceNumber)||e," has been delivered to hospital by ").concat(t.name),type:"success"})}catch(n){console.error("Failed to update case status:",n)}},rt=e=>{Z(e),te(""),re("")},at=e=>{const t=g();if(t&&(0,Qo.hasPermission)(t.role,Qo.PERMISSION_ACTIONS.DELIVERED_HOSPITAL)&&ee.trim())try{const n=p.find(t=>t.id===e),r=[];if(ne){const t={name:"delivery-image-".concat(e,"-").concat(Date.now(),".png"),type:"image/png",size:Math.round(.75*ne.length),data:ne};r.push(JSON.stringify(t))}const a={comments:ee,attachments:r};O(e,"Delivered (Hospital)",t.name,JSON.stringify(a)),Z(null),te(""),re(""),Ye(),Me(1),E(t=>new Set([...Array.from(t),e])),He("Order successfully marked as delivered to hospital"),Fe(!0),l({title:"Delivered at Hospital",message:"Case ".concat((null===n||void 0===n?void 0:n.caseReferenceNumber)||e," has been received at hospital by ").concat(t.name),type:"success"})}catch(n){console.error("Failed to update case status:",n)}},st=e=>{se(e),ie([]),ce(""),ue("")},ot=e=>{const t=g();if(t&&(0,Qo.hasPermission)(t.role,Qo.PERMISSION_ACTIONS.CASE_COMPLETED)&&le.trim()&&de.trim())try{const n=p.find(t=>t.id===e),r={attachments:oe,orderSummary:le,doNumber:de};O(e,"Case Completed",t.name,JSON.stringify(r)),se(null),ie([]),ce(""),ue(""),Ye(),Me(1),E(t=>new Set([...Array.from(t),e])),He("Case successfully marked as completed"),Fe(!0),l({title:"Case Completed",message:"Case ".concat((null===n||void 0===n?void 0:n.caseReferenceNumber)||e," has been completed by ").concat(t.name," with DO#: ").concat(de),type:"success"})}catch(n){console.error("Failed to update case status:",n)}},it=e=>{const t=g();if(t&&(0,Qo.hasPermission)(t.role,Qo.PERMISSION_ACTIONS.DELIVERED_OFFICE))try{const n=p.find(t=>t.id===e);O(e,"Delivered (Office)",t.name),Ye(),Me(1),E(t=>new Set([...Array.from(t),e])),He("Order successfully delivered to office"),Fe(!0),l({title:"Delivered to Office",message:"Case ".concat((null===n||void 0===n?void 0:n.caseReferenceNumber)||e," has been delivered to office by ").concat(t.name),type:"success"})}catch(n){console.error("Failed to update case status:",n)}},lt=e=>{const t=g();if(t)try{const n=p.find(t=>t.id===e);O(e,"To be billed",t.name),Ye(),Me(1),E(t=>new Set([...Array.from(t),e])),He('Case successfully marked as "To be billed"'),Fe(!0),l({title:"Case Ready for Billing",message:"Case ".concat((null===n||void 0===n?void 0:n.caseReferenceNumber)||e," is now ready to be billed - updated by ").concat(t.name),type:"success"})}catch(n){console.error("Failed to update case status:",n)}},ct=e=>{Ie(e),Ae([]),Te("")},dt=e=>{const t=g();if(t&&(0,Qo.hasPermission)(t.role,Qo.PERMISSION_ACTIONS.PENDING_DELIVERY_OFFICE))try{const n=p.find(t=>t.id===e),r={attachments:Pe,comments:Oe};O(e,"Pending Delivery (Office)",t.name,JSON.stringify(r)),Ie(null),Ae([]),Te(""),Ye(),Me(1),E(t=>new Set([...Array.from(t),e])),He("Case marked as pending delivery to office"),Fe(!0),l({title:"Pending Delivery to Office",message:"Case ".concat((null===n||void 0===n?void 0:n.caseReferenceNumber)||e," is now pending delivery to office - updated by ").concat(t.name),type:"success"})}catch(n){console.error("Failed to update case status:",n)}},ut=()=>{Ie(null),Ae([]),Te("")},pt=e=>{Ne(e),ke([]),De("")},mt=e=>{const t=g();if(t&&(0,Qo.hasPermission)(t.role,Qo.PERMISSION_ACTIONS.DELIVERED_OFFICE))try{const n=p.find(t=>t.id===e),r={attachments:je,comments:Ce};O(e,"Delivered (Office)",t.name,JSON.stringify(r)),Ne(null),ke([]),De(""),Ye(),Me(1),E(t=>new Set([...Array.from(t),e])),He("Order successfully delivered to office"),Fe(!0),l({title:"Delivered to Office",message:"Case ".concat((null===n||void 0===n?void 0:n.caseReferenceNumber)||e," has been delivered to office by ").concat(t.name),type:"success"})}catch(n){console.error("Failed to update case status:",n)}},ht=()=>{Ne(null),ke([]),De("")},ft=e=>{const t=g();if(!t)return;const n=p.find(t=>t.id===e),r='Are you sure you want to cancel case "'.concat(null===n||void 0===n?void 0:n.caseReferenceNumber,'"?\n\nThis action will mark the case as cancelled and cannot be undone.');u("Cancel Case",r,()=>{try{O(e,"Case Cancelled",t.name,"Case cancelled by user request"),Ye(),Me(1),E(t=>new Set([...Array.from(t),e])),He("Case successfully cancelled"),Fe(!0),l({title:"Case Cancelled",message:"Case ".concat((null===n||void 0===n?void 0:n.caseReferenceNumber)||e," has been cancelled by ").concat(t.name),type:"warning"})}catch(r){console.error("Failed to cancel case:",r)}})},gt=()=>{Z(null),te(""),re("")},vt=()=>{se(null),ie([]),ce(""),ue("")},yt=(e,t)=>{const n=g();if(!n||!(0,Qo.hasPermission)(n.role,Qo.PERMISSION_ACTIONS.DELETE_CASE))return;const r='Are you sure you want to delete case "'.concat(t.caseReferenceNumber,'"?\n\nCase Details:\n- Hospital: ').concat(t.hospital,"\n- Procedure: ").concat(t.procedureType,"\n- Status: ").concat(t.status,"\n\nThis action cannot be undone.");u("Delete Case",r,()=>{try{const t=A().filter(t=>t.id!==e);localStorage.setItem("case-booking-cases",JSON.stringify(t)),Ye(),Me(1)}catch(t){console.error("Delete failed:",t)}})},bt=Math.ceil(h.length/Re),xt=e=>{Me(e)};return(0,C.jsxs)("div",{className:"cases-list",children:[(0,C.jsxs)("div",{className:"cases-header",children:[(0,C.jsx)("h2",{children:"All Submitted Cases"}),(0,C.jsx)("button",{onClick:Ye,className:"btn btn-outline-secondary btn-md refresh-button",children:"Refresh"})]}),(0,C.jsx)(ri,{filters:S,tempFilters:j,showFilters:R,availableSubmitters:y,availableHospitals:x,filteredCasesCount:h.length,totalCasesCount:p.length,onFilterChange:(e,t)=>{k(n=>(0,o.A)((0,o.A)({},n),{},{[e]:t||void 0}))},onApplyFilters:()=>{N(j)},onClearFilters:()=>{N({}),k({})},onToggleFilters:()=>L(!R),onQuickFilter:(e,t)=>{const n={[e]:t};k(n),N(n)}}),(0,C.jsxs)("div",{className:"collapsible-section",children:[(0,C.jsxs)("div",{className:"section-header",onClick:()=>B(!F),children:[(0,C.jsx)("h3",{children:"All Cases"}),(0,C.jsx)("span",{className:"expand-icon",children:F?"\u25bc":"\u25b6"})]}),F&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:"cases-count",children:["Showing ",(_e-1)*Re+1," to ",Math.min(_e*Re,h.length)," of ",h.length," cases (Total: ",p.length,")"]}),(0,C.jsx)("div",{className:"cases-container",children:0===h.length?(0,C.jsx)("div",{className:"no-cases",children:"No cases found matching the current filters."}):(()=>{const e=_e*Re,t=e-Re;return h.slice(t,e)})().map(e=>(0,C.jsx)(oi,{caseItem:e,currentUser:n,expandedCases:D,expandedStatusHistory:P,expandedAmendmentHistory:_,amendingCase:H,amendmentData:U,processingCase:W,processDetails:K,processAttachments:pe,processComments:he,deliveryCase:G,deliveryDetails:$,hospitalDeliveryCase:xe,hospitalDeliveryAttachments:ge,hospitalDeliveryComments:ye,receivedCase:X,receivedDetails:ee,receivedImage:ne,completedCase:ae,attachments:oe,orderSummary:le,doNumber:de,pendingOfficeCase:Ee,pendingOfficeAttachments:Pe,pendingOfficeComments:Oe,officeDeliveryCase:Se,officeDeliveryAttachments:je,officeDeliveryComments:Ce,onToggleExpansion:We,onToggleStatusHistory:Ve,onToggleAmendmentHistory:qe,onStatusChange:Qe,onAmendCase:Ke,onSaveAmendment:Je,onCancelAmendment:Ge,onOrderProcessed:$e,onSaveProcessDetails:Xe,onCancelProcessing:Ze,onOrderDelivered:et,onOrderReceived:rt,onSaveOrderReceived:at,onCancelReceived:gt,onCaseCompleted:st,onSaveCaseCompleted:ot,onCancelCompleted:vt,onPendingDeliveryOffice:ct,onSavePendingOffice:dt,onCancelPendingOffice:ut,onOfficeDelivery:pt,onSaveOfficeDelivery:mt,onCancelOfficeDelivery:ht,onOrderDeliveredOffice:it,onToBeBilled:lt,onDeleteCase:yt,onCancelCase:ft,onAttachmentUpload:ze,onRemoveAttachment:Ue,onAmendmentDataChange:Y,onProcessDetailsChange:J,onProcessAttachmentsChange:me,onProcessCommentsChange:fe,onSaveHospitalDelivery:nt,onCancelHospitalDelivery:tt,onHospitalDeliveryAttachmentsChange:ve,onHospitalDeliveryCommentsChange:be,onReceivedDetailsChange:te,onReceivedImageChange:re,onOrderSummaryChange:ce,onDoNumberChange:ue,onPendingOfficeAttachmentsChange:Ae,onPendingOfficeCommentsChange:Te,onOfficeDeliveryAttachmentsChange:ke,onOfficeDeliveryCommentsChange:De,onNavigateToPermissions:i},e.id))}),bt>1&&(0,C.jsxs)("div",{className:"pagination-container",children:[(0,C.jsxs)("div",{className:"pagination-info",children:["Page ",_e," of ",bt]}),(0,C.jsxs)("div",{className:"pagination-controls",children:[(0,C.jsx)("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>xt(1),disabled:1===_e,children:"First"}),(0,C.jsx)("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>xt(_e-1),disabled:1===_e,children:"Previous"}),[...Array(bt)].map((e,t)=>{const n=t+1;return 1===n||n===bt||n>=_e-2&&n<=_e+2?(0,C.jsx)("button",{className:"btn btn-sm ".concat(n===_e?"btn-primary":"btn-outline-secondary"),onClick:()=>xt(n),children:n},n):n===_e-3||n===_e+3?(0,C.jsx)("span",{className:"pagination-ellipsis",children:"..."},n):null}),(0,C.jsx)("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>xt(_e+1),disabled:_e===bt,children:"Next"}),(0,C.jsx)("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>xt(bt),disabled:_e===bt,children:"Last"})]})]})]})]}),(0,C.jsx)(ii,{message:Be,isVisible:Le,onClose:()=>Fe(!1)}),(0,C.jsx)(V,{isOpen:c.isOpen,onClose:d,title:c.title,message:c.message,type:c.type,actions:"confirm"===c.type?[{label:"Cancel",onClick:d,style:"secondary"},{label:"Delete",onClick:c.onConfirm||d,style:"danger"}]:void 0})]})},ci=e=>{let{caseData:t,onProcessComplete:n,onBack:a}=e;const[s,o]=(0,r.useState)(t.processOrderDetails||""),[i,l]=(0,r.useState)(!1);return(0,C.jsxs)("div",{className:"process-order-page",children:[(0,C.jsxs)("div",{className:"page-header",children:[(0,C.jsx)("button",{onClick:a,className:"btn btn-outline-secondary btn-md back-button",children:"\u2190 Back to Cases"}),(0,C.jsx)("h2",{children:"Prepared Order Details"})]}),(0,C.jsxs)("div",{className:"case-summary-card",children:[(0,C.jsx)("h3",{children:"Case Information"}),(0,C.jsxs)("div",{className:"summary-grid",children:[(0,C.jsxs)("div",{className:"summary-item",children:[(0,C.jsx)("strong",{children:"Hospital:"})," ",t.hospital]}),(0,C.jsxs)("div",{className:"summary-item",children:[(0,C.jsx)("strong",{children:"Department:"})," ",t.department]}),(0,C.jsxs)("div",{className:"summary-item",children:[(0,C.jsx)("strong",{children:"Procedure:"})," ",t.procedureType]}),(0,C.jsxs)("div",{className:"summary-item",children:[(0,C.jsx)("strong",{children:"Surgery Date:"})," ",t.dateOfSurgery]}),(0,C.jsxs)("div",{className:"summary-item",children:[(0,C.jsx)("strong",{children:"Surgery Time:"})," ",t.timeOfProcedure||"Not specified"]}),(0,C.jsxs)("div",{className:"summary-item",children:[(0,C.jsx)("strong",{children:"Submitted by:"})," ",t.submittedBy]}),(0,C.jsxs)("div",{className:"summary-item",children:[(0,C.jsx)("strong",{children:"Submitted at:"})," ",Yo(t.submittedAt)]}),(0,C.jsxs)("div",{className:"summary-item",children:[(0,C.jsx)("strong",{children:"Current Status:"}),(0,C.jsx)("span",{className:"status-badge",children:t.status})]})]}),(0,C.jsxs)("div",{className:"equipment-section",children:[(0,C.jsxs)("div",{className:"equipment-item",children:[(0,C.jsx)("strong",{children:"Surgery Set Selection:"}),(0,C.jsx)("ul",{children:t.surgerySetSelection.map(e=>(0,C.jsx)("li",{children:e},e))})]}),(0,C.jsxs)("div",{className:"equipment-item",children:[(0,C.jsx)("strong",{children:"Implant Box:"}),(0,C.jsx)("ul",{children:t.implantBox.map(e=>(0,C.jsx)("li",{children:e},e))})]})]}),t.specialInstruction&&(0,C.jsxs)("div",{className:"special-instructions",children:[(0,C.jsx)("strong",{children:"Special Instructions:"}),(0,C.jsx)("p",{children:t.specialInstruction})]})]}),(0,C.jsxs)("div",{className:"process-order-form",children:[(0,C.jsx)("h3",{children:"Prepared Order Details"}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{htmlFor:"processOrderDetails",children:"Enter detailed processing information, preparation notes, and any additional requirements:"}),(0,C.jsx)("textarea",{id:"processOrderDetails",value:s,onChange:e=>o(e.target.value),rows:8,placeholder:"Enter process order details here... Examples:\n- Equipment preparation status\n- Special handling requirements\n- Quality check notes\n- Delivery instructions\n- Any issues or concerns",className:"process-details-textarea"})]}),(0,C.jsx)("div",{className:"process-actions",children:(0,C.jsx)("button",{onClick:async()=>{if(!s.trim())return void alert("Please enter process order details before processing.");const e=g();if(e){l(!0);try{O(t.id,"Order Prepared",e.name,s),setTimeout(()=>{l(!1),n()},1e3)}catch(r){l(!1),alert("An error occurred while processing the order. Please try again.")}}else alert("You must be logged in to process orders.")},disabled:i||!s.trim(),className:"process-order-button",children:i?"Processing...":"Process Order"})}),i&&(0,C.jsxs)("div",{className:"processing-indicator",children:[(0,C.jsx)("div",{className:"spinner"}),(0,C.jsx)("p",{children:"Processing order and updating status..."})]})]}),(0,C.jsxs)("div",{className:"process-info",children:[(0,C.jsx)("h4",{children:"What happens next?"}),(0,C.jsxs)("ul",{children:[(0,C.jsx)("li",{children:'Order status will change to "Order Prepared"'}),(0,C.jsx)("li",{children:"Your name will be recorded as the processor"}),(0,C.jsx)("li",{children:"Process timestamp will be logged"}),(0,C.jsx)("li",{children:"Case will be ready for delivery to hospital"})]})]})]})};const di=new class{constructor(){this.config=void 0,this.audioContext=null,this.config=this.loadConfig(),this.initAudioContext()}loadConfig(){const e=localStorage.getItem("case-booking-sound-config");return e?JSON.parse(e):{volume:.5,enabled:!0}}saveConfig(){localStorage.setItem("case-booking-sound-config",JSON.stringify(this.config))}initAudioContext(){"undefined"!==typeof window&&window.AudioContext&&(this.audioContext=new AudioContext)}generateTone(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sine";if(!this.config.enabled||!this.audioContext)return;const r=this.audioContext.createOscillator(),a=this.audioContext.createGain();r.connect(a),a.connect(this.audioContext.destination),r.frequency.setValueAtTime(e,this.audioContext.currentTime),r.type=n,a.gain.setValueAtTime(0,this.audioContext.currentTime),a.gain.linearRampToValueAtTime(.1*this.config.volume,this.audioContext.currentTime+.01),a.gain.exponentialRampToValueAtTime(.001,this.audioContext.currentTime+t),r.start(this.audioContext.currentTime),r.stop(this.audioContext.currentTime+t)}playSuccess(){this.generateTone(523,.15),setTimeout(()=>this.generateTone(659,.15),100),setTimeout(()=>this.generateTone(784,.2),200)}playError(){this.generateTone(220,.3,"sawtooth"),setTimeout(()=>this.generateTone(196,.4,"sawtooth"),150)}playClick(){this.generateTone(800,.08,"square")}playNotification(){this.generateTone(880,.2),setTimeout(()=>this.generateTone(1047,.3),100)}playStatusChange(){this.generateTone(440,.15),setTimeout(()=>this.generateTone(554,.15),80),setTimeout(()=>this.generateTone(659,.2),160)}playDelete(){this.generateTone(330,.2,"triangle"),setTimeout(()=>this.generateTone(294,.3,"triangle"),100)}playSubmit(){this.generateTone(392,.15),setTimeout(()=>this.generateTone(523,.15),80),setTimeout(()=>this.generateTone(659,.15),160),setTimeout(()=>this.generateTone(784,.25),240)}isEnabled(){return this.config.enabled}setEnabled(e){this.config.enabled=e,this.saveConfig()}getVolume(){return this.config.volume}setVolume(e){this.config.volume=Math.max(0,Math.min(1,e)),this.saveConfig()}toggle(){return this.config.enabled=!this.config.enabled,this.saveConfig(),this.config.enabled}},ui=(0,r.createContext)(void 0),pi=e=>{let{children:t}=e;const[n,a]=(0,r.useState)(()=>di.isEnabled()),[s,o]=(0,r.useState)(()=>di.getVolume()),i={success:()=>di.playSuccess(),error:()=>di.playError(),click:()=>di.playClick(),notification:()=>di.playNotification(),statusChange:()=>di.playStatusChange(),delete:()=>di.playDelete(),submit:()=>di.playSubmit()};(0,r.useEffect)(()=>{a(di.isEnabled()),o(di.getVolume())},[]);const l={isEnabled:n,volume:s,toggleSound:()=>{const e=di.toggle();a(e)},setVolume:e=>{di.setVolume(e),o(e)},playSound:i};return(0,C.jsx)(ui.Provider,{value:l,children:t})},mi=()=>{const e=(0,r.useContext)(ui);if(void 0===e)throw new Error("useSound must be used within a SoundProvider");return e},hi=e=>{let{toast:t,onClose:n}=e;const[a,s]=(0,r.useState)(!1),[o,i]=(0,r.useState)(!1),{playSound:l}=mi(),c=(0,r.useCallback)(()=>{i(!0),setTimeout(()=>{n(t.id)},300)},[n,t.id]);(0,r.useEffect)(()=>{switch(setTimeout(()=>s(!0),10),t.type){case"success":l.success();break;case"error":l.error();break;case"warning":case"info":l.notification()}const e=t.duration||5e3,n=setTimeout(()=>{c()},e);return()=>clearTimeout(n)},[t,l,c]);const d=t.duration||5e3;return(0,C.jsxs)("div",{className:"toast-notification toast-".concat(t.type," ").concat(a?"toast-visible":""," ").concat(o?"toast-leaving":""),children:[(0,C.jsxs)("div",{className:"toast-content",children:[(0,C.jsx)("div",{className:"toast-icon",children:(()=>{switch(t.type){case"success":return"\u2705";case"error":return"\u274c";case"warning":return"\u26a0\ufe0f";default:return"\u2139\ufe0f"}})()}),(0,C.jsxs)("div",{className:"toast-text",children:[(0,C.jsx)("div",{className:"toast-title",children:t.title}),(0,C.jsx)("div",{className:"toast-message",children:t.message})]}),t.action&&(0,C.jsx)("button",{className:"toast-action",onClick:()=>{t.action.handler(),c()},children:t.action.label}),(0,C.jsx)("button",{className:"toast-close",onClick:c,title:"Close notification",children:"\u2715"})]}),(0,C.jsx)("div",{className:"toast-progress",style:{backgroundColor:(()=>{switch(t.type){case"success":return"#28a745";case"error":return"#dc3545";case"warning":return"#ffc107";default:return"#17a2b8"}})(),animationDuration:"".concat(d,"ms")}})]})},fi=(0,r.createContext)(void 0),gi=e=>{let{children:t}=e;const[n,a]=(0,r.useState)([]),s=e=>{const t=(0,o.A)((0,o.A)({},e),{},{id:Date.now().toString()+Math.random().toString(36).substr(2,9)});a(e=>[...e,t])},i=e=>{a(t=>t.filter(t=>t.id!==e))},l={showToast:s,showSuccess:(e,t,n)=>{s({title:e,message:t,type:"success",action:n})},showError:(e,t,n)=>{s({title:e,message:t,type:"error",action:n})},showWarning:(e,t,n)=>{s({title:e,message:t,type:"warning",action:n})},showInfo:(e,t,n)=>{s({title:e,message:t,type:"info",action:n})}};return(0,C.jsxs)(fi.Provider,{value:l,children:[t,(0,C.jsx)("div",{className:"toast-container",children:n.map(e=>(0,C.jsx)(hi,{toast:e,onClose:i},e.id))})]})},vi=()=>{const e=(0,r.useContext)(fi);if(void 0===e)throw new Error("useToast must be used within a ToastProvider");return e},yi="case-booking-custom-roles",bi="case-booking-custom-permissions",xi=e=>{try{localStorage.setItem(yi,JSON.stringify(e))}catch(t){throw console.error("Error saving custom roles:",t),new Error("Failed to save custom roles")}},wi=()=>{try{const e=localStorage.getItem(yi);return e?JSON.parse(e):[]}catch(e){return console.error("Error loading custom roles:",e),[]}},Si=()=>{try{const e=localStorage.getItem(bi);return e?JSON.parse(e):[]}catch(e){return console.error("Error loading custom permissions:",e),[]}},Ni=e=>{try{const t=wi().filter(t=>t.id!==e);xi(t);const n=Si();(e=>{try{localStorage.setItem(bi,JSON.stringify(e))}catch(t){throw console.error("Error saving custom permissions:",t),new Error("Failed to save custom permissions")}})(n.filter(t=>t.roleId!==e))}catch(t){throw console.error("Error deleting custom role:",t),new Error("Failed to delete custom role")}},ji=["#e74c3c","#3498db","#2980b9","#27ae60","#229954","#f39c12","#e67e22","#9b59b6","#8e44ad","#34495e","#2c3e50","#16a085","#1abc9c","#f1c40f","#d35400"],ki=e=>{let{onRoleUpdate:t}=e;const[n,a]=(0,r.useState)([]),[s,i]=(0,r.useState)(Ko.Ot),[l,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)({id:"",name:"",displayName:"",description:"",color:ji[0],basedOnRole:""}),[p,m]=(0,r.useState)({}),{modal:h,closeModal:f,showConfirm:g}=Q(),{showSuccess:v,showError:y}=vi(),{playSound:b}=mi();(0,r.useEffect)(()=>{const e=wi();a(e),i([...Ko.Ot,...e])},[]);const x=()=>{if(!(()=>{const e=((e,t)=>{var n,r,a;const s=[];return null!==(n=e.name)&&void 0!==n&&n.trim()?/^[a-z0-9-]+$/.test(e.name)?t.some(t=>t.name===e.name)&&s.push("Role name already exists"):s.push("Role name must be lowercase letters, numbers, and hyphens only"):s.push("Role name is required"),null!==(r=e.displayName)&&void 0!==r&&r.trim()?t.some(t=>t.displayName===e.displayName)&&s.push("Display name already exists"):s.push("Display name is required"),null!==(a=e.description)&&void 0!==a&&a.trim()||s.push("Description is required"),e.color||s.push("Color is required"),s})({name:d.name,displayName:d.displayName,description:d.description,color:d.color,id:d.name},s),t=e.reduce((e,t)=>(t.includes("Role name")?e.name=t:t.includes("Display name")?e.displayName=t:t.includes("Description")?e.description=t:t.includes("Color")&&(e.color=t),e),{});return m(t),0===e.length})())return;const e={id:d.name,name:d.name,displayName:d.displayName,description:d.description,color:d.color};(e=>{try{xi(e),a(e);const n=[...Ko.Ot,...e];i(n),null===t||void 0===t||t(n)}catch(n){console.error("Error saving custom roles:",n),y("Failed to save custom roles","Error")}})([...n,e]),u({id:"",name:"",displayName:"",description:"",color:ji[0],basedOnRole:""}),c(!1),m({}),b.success(),v("Role Created",'New role "'.concat(e.displayName,'" has been added successfully.'))},w=Ko.Ot.map(e=>({value:e.id,label:"".concat(e.displayName," - ").concat(e.description)}));return(0,C.jsxs)("div",{className:"role-management",children:[(0,C.jsxs)("div",{className:"role-management-header",children:[(0,C.jsx)("h2",{children:"Role Management Matrix"}),(0,C.jsx)("div",{className:"admin-panel-buttons",children:(0,C.jsx)("button",{onClick:()=>c(!l),className:"btn btn-primary btn-md add-role-button",children:l?"Cancel":"Add New Role"})})]}),l&&(0,C.jsxs)("div",{className:"add-role-form",children:[(0,C.jsx)("h3",{children:"Add New Role"}),(0,C.jsxs)("form",{onSubmit:e=>{e.preventDefault(),x()},children:[(0,C.jsxs)("div",{className:"form-row",children:[(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{htmlFor:"displayName",className:"required",children:"Display Name"}),(0,C.jsx)("input",{type:"text",id:"displayName",value:d.displayName,onChange:e=>{return t=e.target.value,u(e=>{return(0,o.A)((0,o.A)({},e),{},{displayName:t,name:(n=t,n.toLowerCase().replace(/[^a-z0-9\s]/g,"").replace(/\s+/g,"-").substring(0,20))});var n}),void m(e=>(0,o.A)((0,o.A)({},e),{},{displayName:"",name:""}));var t},placeholder:"e.g., Super Admin, Regional Manager",maxLength:50,required:!0}),p.displayName&&(0,C.jsx)("span",{className:"error-message",children:p.displayName})]}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{htmlFor:"roleName",children:"Role ID (Auto-generated)"}),(0,C.jsx)("input",{type:"text",id:"roleName",value:d.name,onChange:e=>u(t=>(0,o.A)((0,o.A)({},t),{},{name:e.target.value})),placeholder:"Automatically generated from display name",maxLength:20}),p.name&&(0,C.jsx)("span",{className:"error-message",children:p.name})]})]}),(0,C.jsxs)("div",{className:"form-row",children:[(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{htmlFor:"description",className:"required",children:"Description"}),(0,C.jsx)("textarea",{id:"description",value:d.description,onChange:e=>u(t=>(0,o.A)((0,o.A)({},t),{},{description:e.target.value})),placeholder:"Describe the role's responsibilities and scope",rows:3,maxLength:200,required:!0}),p.description&&(0,C.jsx)("span",{className:"error-message",children:p.description})]}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{htmlFor:"basedOnRole",children:"Base Permissions On (Optional)"}),(0,C.jsx)(D,{options:[{value:"",label:"Start with no permissions"},...w],value:d.basedOnRole||"",onChange:e=>u(t=>(0,o.A)((0,o.A)({},t),{},{basedOnRole:e})),placeholder:"Choose a role to copy permissions from"}),(0,C.jsx)("small",{className:"form-helper-text",children:"Select a role to copy its permissions as a starting point"})]})]}),(0,C.jsx)("div",{className:"form-row",children:(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{htmlFor:"color",className:"required",children:"Role Color"}),(0,C.jsx)("div",{className:"color-picker",children:ji.map(e=>(0,C.jsx)("button",{type:"button",className:"color-option ".concat(d.color===e?"selected":""),style:{backgroundColor:e},onClick:()=>u(t=>(0,o.A)((0,o.A)({},t),{},{color:e})),title:e},e))}),p.color&&(0,C.jsx)("span",{className:"error-message",children:p.color})]})}),(0,C.jsxs)("div",{className:"form-actions",children:[(0,C.jsx)("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline-secondary btn-lg cancel-button",children:"Cancel"}),(0,C.jsx)("button",{type:"submit",className:"btn btn-primary btn-lg submit-button",disabled:!d.displayName.trim()||!d.description.trim(),children:"Create Role"})]})]})]}),(0,C.jsxs)("div",{className:"roles-table",children:[(0,C.jsx)("h3",{children:"Existing Roles"}),(0,C.jsxs)("table",{children:[(0,C.jsx)("thead",{children:(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{children:"Role Name"}),(0,C.jsx)("th",{children:"Description"}),(0,C.jsx)("th",{children:"Role ID"}),(0,C.jsx)("th",{children:"Type"}),(0,C.jsx)("th",{children:"Color"}),(0,C.jsx)("th",{children:"Actions"})]})}),(0,C.jsxs)("tbody",{children:[Ko.Ot.map(e=>(0,C.jsxs)("tr",{className:"default-role",children:[(0,C.jsx)("td",{children:(0,C.jsx)("span",{className:"role-display-name",children:e.displayName})}),(0,C.jsx)("td",{children:e.description}),(0,C.jsx)("td",{children:(0,C.jsx)("span",{className:"role-id-badge",children:e.id})}),(0,C.jsx)("td",{children:(0,C.jsx)("span",{className:"role-type-badge system",children:"System"})}),(0,C.jsx)("td",{children:(0,C.jsx)("div",{className:"role-color-indicator",style:{backgroundColor:e.color},title:e.color})}),(0,C.jsx)("td",{children:(0,C.jsx)("span",{className:"no-actions",children:"Protected"})})]},e.id)),n.map(e=>(0,C.jsxs)("tr",{className:"custom-role",children:[(0,C.jsx)("td",{children:(0,C.jsx)("span",{className:"role-display-name",children:e.displayName})}),(0,C.jsx)("td",{children:e.description}),(0,C.jsx)("td",{children:(0,C.jsx)("span",{className:"role-id-badge",children:e.id})}),(0,C.jsx)("td",{children:(0,C.jsx)("span",{className:"role-type-badge custom",children:"Custom"})}),(0,C.jsx)("td",{children:(0,C.jsx)("div",{className:"role-color-indicator",style:{backgroundColor:e.color},title:e.color})}),(0,C.jsx)("td",{children:(0,C.jsx)("div",{className:"role-actions",children:(0,C.jsx)("button",{className:"btn btn-danger btn-sm",onClick:()=>(e=>{const r=n.find(t=>t.id===e);if(!r)return;const s='Are you sure you want to delete the "'.concat(r.displayName,'" role?\n\nThis action cannot be undone and will affect all users assigned to this role.');g("Delete Role",s,()=>{try{Ni(e);const s=n.filter(t=>t.id!==e);a(s),i([...Ko.Ot,...s]),null===t||void 0===t||t([...Ko.Ot,...s]),b.delete(),v("Role Deleted",'Role "'.concat(r.displayName,'" has been removed successfully.'))}catch(s){y("Failed to delete role","Error")}})})(e.id),title:"Delete role",children:"Delete"})})})]},e.id))]})]})]}),(0,C.jsx)(V,{isOpen:h.isOpen,onClose:f,title:h.title,message:h.message,type:h.type,actions:"confirm"===h.type?[{label:"Cancel",onClick:f,style:"secondary"},{label:"Delete",onClick:h.onConfirm||f,style:"danger"}]:void 0})]})},Ci=()=>{const e=g(),[t,n]=(0,r.useState)("users"),[a,s]=(0,r.useState)([]),[i,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(null),[u,p]=(0,r.useState)(null),[h,v]=(0,r.useState)({username:"",password:"",name:"",role:"admin"===(null===e||void 0===e?void 0:e.role)?"admin":"operations",departments:[],countries:[],email:"",enabled:!0}),[y,b]=(0,r.useState)(""),[S,j]=(0,r.useState)(1),[k,E]=(0,r.useState)([]),[I]=(0,r.useState)(10),[P,A]=(0,r.useState)([]),[O,T]=(0,r.useState)([]),_=!!e&&(0,Qo.hasPermission)(e.role,Qo.PERMISSION_ACTIONS.CREATE_USER),M=(0,r.useRef)(null),R=!!e&&(0,Qo.hasPermission)(e.role,Qo.PERMISSION_ACTIONS.EDIT_USER),L=!!e&&(0,Qo.hasPermission)(e.role,Qo.PERMISSION_ACTIONS.DELETE_USER),F=!!e&&(0,Qo.hasPermission)(e.role,Qo.PERMISSION_ACTIONS.ENABLE_DISABLE_USER),{addNotification:B}=$o(),{showSuccess:H,showError:z}=vi(),{playSound:U}=mi();(0,r.useEffect)(()=>{N(),q(),A(w()),T(x()),W()},[]);const W=()=>{const t=(0,Ko.L_)().map(e=>({value:e.id,label:e.displayName})),n="admin"===(null===e||void 0===e?void 0:e.role)?t:t.filter(e=>"admin"!==e.value);E(n)},V=(0,r.useCallback)(()=>{d(null),l(!1),v({username:"",password:"",name:"",role:"admin"===(null===e||void 0===e?void 0:e.role)?"admin":"operations",departments:[],countries:[],email:"",enabled:!0}),b("")},[null===e||void 0===e?void 0:e.role]);(0,r.useEffect)(()=>{const e=e=>{if(i&&M.current&&!M.current.contains(e.target)){const t=e.target;if(t.closest(".searchable-dropdown-container")||t.closest(".multi-select-dropdown-container")||t.closest(".dropdown-portal"))return;V()}},t=e=>{"Escape"===e.key&&i&&V()};return i&&(document.addEventListener("mousedown",e),document.addEventListener("keydown",t)),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",t)}},[i,V]);const q=()=>{const t=f();if("it"===(null===e||void 0===e?void 0:e.role)&&e.selectedCountry){const n=t.filter(t=>t.countries&&t.countries.includes(e.selectedCountry)||"admin"===t.role);s(n)}else null===e||void 0===e||e.role,s(t)};if(!(!!e&&(0,Qo.hasPermission)(e.role,Qo.PERMISSION_ACTIONS.VIEW_USERS)))return(0,C.jsx)("div",{className:"permission-denied",children:(0,C.jsxs)("div",{className:"permission-denied-content",children:[(0,C.jsx)("h2",{children:"\ud83d\udeab Access Denied"}),(0,C.jsx)("p",{children:"You don't have permission to access user management."}),(0,C.jsx)("p",{children:"Contact your administrator to request access."})]})});const Q=Math.ceil(a.length/I),K=e=>{j(e)};return(0,C.jsxs)("div",{className:"user-management",children:[(0,C.jsxs)("div",{className:"user-management-header",children:[(0,C.jsx)("h2",{children:"User Access Matrix"}),(0,C.jsx)("div",{className:"admin-panel-buttons",children:"users"===t&&_&&(0,C.jsx)("button",{onClick:()=>i?V():l(!0),className:"btn btn-primary btn-md add-user-button",children:i?"Cancel":"Add New User"})})]}),(0,C.jsxs)("div",{className:"tab-navigation",children:[(0,C.jsx)("button",{className:"tab-button ".concat("users"===t?"active":""),onClick:()=>n("users"),children:"\ud83d\udc65 User Management"}),(0,C.jsx)("button",{className:"tab-button ".concat("roles"===t?"active":""),onClick:()=>n("roles"),children:"\ud83c\udfad Role Management"})]}),"users"===t&&(0,C.jsxs)("div",{className:"tab-content",children:[i&&(0,C.jsxs)("div",{className:"add-user-form",ref:M,children:[(0,C.jsx)("h3",{children:c?"Edit User":"Add New User"}),(0,C.jsxs)("form",{onSubmit:t=>{if(t.preventDefault(),b(""),!h.username||!h.password||!h.name)return void b("Username, password, and full name are required");if(h.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h.email))return void b("Please enter a valid email address");if("admin"===h.role&&"admin"!==(null===e||void 0===e?void 0:e.role))return void b("Only administrators can create admin accounts");if(a.find(e=>e.username===h.username&&e.id!==c))b("Username already exists");else try{if(c){const e=a.map(e=>e.id===c?(0,o.A)((0,o.A)({},e),h):e);localStorage.setItem("case-booking-users",JSON.stringify(e)),U.success(),H("User Updated","".concat(h.name,"'s account has been successfully updated.")),B({title:"User Account Updated",message:"".concat(h.name," (").concat(h.username,") account details have been modified."),type:"success"})}else(e=>{const t=f(),n=(0,o.A)((0,o.A)({},e),{},{id:Date.now().toString()});t.push(n),localStorage.setItem(m,JSON.stringify(t))})(h),U.success(),H("User Created","Welcome ".concat(h.name,"! New user account has been created successfully.")),B({title:"New User Account Created",message:"".concat(h.name," (").concat(h.username,") has been added to the system with ").concat(h.role," role."),type:"success"});v({username:"",password:"",name:"",role:"admin"===(null===e||void 0===e?void 0:e.role)?"admin":"operations",departments:[],countries:[],email:"",enabled:!0}),d(null),l(!1),q()}catch(n){const e=c?"Failed to update user":"Failed to add user";b(e),U.error(),z("Operation Failed",e)}},children:[(0,C.jsxs)("div",{className:"form-row",children:[(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{htmlFor:"newUsername",className:"required",children:"Username"}),(0,C.jsx)("input",{type:"text",id:"newUsername",value:h.username,onChange:e=>v(t=>(0,o.A)((0,o.A)({},t),{},{username:e.target.value})),required:!0})]}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{htmlFor:"newPassword",className:"required",children:"Password"}),(0,C.jsxs)("div",{className:"password-input-wrapper",children:[(0,C.jsx)("input",{type:"new"===u?"text":"password",id:"newPassword",value:h.password,onChange:e=>v(t=>(0,o.A)((0,o.A)({},t),{},{password:e.target.value})),required:!0}),(0,C.jsx)("button",{type:"button",className:"password-toggle-user",onClick:()=>p("new"===u?null:"new"),"aria-label":"new"===u?"Hide password":"Show password",children:"new"===u?"\ud83d\udc41\ufe0f":"\ud83d\udc41\ufe0f\u200d\ud83d\udde8\ufe0f"})]})]})]}),(0,C.jsxs)("div",{className:"form-row",children:[(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{htmlFor:"newName",className:"required",children:"Full Name"}),(0,C.jsx)("input",{type:"text",id:"newName",value:h.name,onChange:e=>v(t=>(0,o.A)((0,o.A)({},t),{},{name:e.target.value})),required:!0})]}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{htmlFor:"newEmail",children:"Email Address"}),(0,C.jsx)("input",{type:"email",id:"newEmail",value:h.email,onChange:e=>v(t=>(0,o.A)((0,o.A)({},t),{},{email:e.target.value})),placeholder:"user@example.com"})]})]}),(0,C.jsxs)("div",{className:"form-row",children:[(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{htmlFor:"newRole",className:"required",children:"Role"}),(0,C.jsx)(D,{options:k,value:h.role,onChange:e=>v(t=>(0,o.A)((0,o.A)({},t),{},{role:e})),placeholder:"Select Role"})]}),(0,C.jsx)("div",{className:"form-group",children:(0,C.jsx)(Y,{id:"newDepartments",label:"Departments",options:O,value:h.departments,onChange:e=>v(t=>(0,o.A)((0,o.A)({},t),{},{departments:e})),placeholder:"Select departments...",required:!1})})]}),(0,C.jsxs)("div",{className:"form-row",children:[(0,C.jsx)("div",{className:"form-group",children:(0,C.jsx)(Y,{id:"newCountries",label:"Countries",options:P,value:h.countries,onChange:e=>v(t=>(0,o.A)((0,o.A)({},t),{},{countries:e})),placeholder:"Select countries...",required:!1})}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{htmlFor:"userEnabled",children:"User Status"}),(0,C.jsxs)("div",{className:"checkbox-wrapper",children:[(0,C.jsx)("input",{type:"checkbox",id:"userEnabled",checked:h.enabled,onChange:e=>v(t=>(0,o.A)((0,o.A)({},t),{},{enabled:e.target.checked}))}),(0,C.jsx)("label",{htmlFor:"userEnabled",className:"checkbox-label",children:h.enabled?"Account Enabled":"Account Disabled"})]}),(0,C.jsx)("small",{className:"form-helper-text",children:h.enabled?"User can log in and access the system":"User cannot log in (account disabled)"})]})]}),y&&(0,C.jsx)("div",{className:"error-message",children:y}),(0,C.jsxs)("div",{className:"form-actions",children:[(0,C.jsx)("button",{type:"button",onClick:V,className:"btn btn-outline-secondary btn-lg cancel-button",children:"Cancel"}),(0,C.jsx)("button",{type:"submit",className:"btn btn-primary btn-lg submit-button",children:c?"Update User":"Add User"})]})]})]}),(0,C.jsxs)("div",{className:"users-table",children:[(0,C.jsx)("h3",{children:"Existing Users"}),(0,C.jsxs)("table",{children:[(0,C.jsx)("thead",{children:(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{children:"Username"}),(0,C.jsx)("th",{children:"Full Name"}),(0,C.jsx)("th",{children:"Email"}),(0,C.jsx)("th",{children:"Role"}),(0,C.jsx)("th",{children:"Department"}),(0,C.jsx)("th",{children:"Countries"}),(0,C.jsx)("th",{children:"Status"}),(0,C.jsx)("th",{children:"Actions"})]})}),(0,C.jsx)("tbody",{children:(()=>{const e=S*I,t=e-I;return a.slice(t,e)})().map(e=>{const t=void 0===e.enabled||e.enabled;return(0,C.jsxs)("tr",{className:t?"":"user-disabled",children:[(0,C.jsx)("td",{children:e.username}),(0,C.jsx)("td",{children:e.name}),(0,C.jsx)("td",{children:e.email||"N/A"}),(0,C.jsx)("td",{children:e.role.replace(/-/g," ").toUpperCase()}),(0,C.jsx)("td",{children:e.departments?e.departments.join(", "):"N/A"}),(0,C.jsx)("td",{children:e.countries?e.countries.join(", "):"N/A"}),(0,C.jsx)("td",{children:(0,C.jsx)("span",{className:"user-status ".concat(t?"enabled":"disabled"),children:t?"Enabled":"Disabled"})}),(0,C.jsx)("td",{children:"Admin"!==e.username&&(0,C.jsxs)("div",{className:"user-actions",children:[R&&(0,C.jsx)("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>(e=>{d(e.id),v({username:e.username,password:e.password,name:e.name,role:e.role,departments:e.departments||[],countries:e.countries||[],email:e.email||"",enabled:void 0===e.enabled||e.enabled}),l(!0),setTimeout(()=>{const e=document.querySelector(".add-user-form");e&&e.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},100)})(e),children:"Edit"}),F&&(0,C.jsx)("button",{className:"btn btn-sm ".concat(t?"btn-warning":"btn-success"),onClick:()=>((e,t)=>{const n=a.find(t=>t.id===e);if(!n)return;const r=!t,s=r?"enabled":"disabled",i="Are you sure you want to ".concat(r?"enable":"disable",' user "').concat(n.name,'" (').concat(n.username,")?\n\nThis will ").concat(r?"allow":"prevent"," them from logging into the system.");if(window.confirm(i)){const t=a.map(t=>t.id===e?(0,o.A)((0,o.A)({},t),{},{enabled:r}):t);localStorage.setItem("case-booking-users",JSON.stringify(t)),q(),U.success(),H("User Status Updated",'User "'.concat(n.name,'" has been ').concat(s,".")),B({title:"User Account ".concat(r?"Enabled":"Disabled"),message:"".concat(n.name," (").concat(n.username,") has been ").concat(s," in the system."),type:r?"success":"warning"})}})(e.id,t),title:t?"Disable User":"Enable User",children:t?"Disable":"Enable"}),L&&(0,C.jsx)("button",{className:"btn btn-danger btn-sm",onClick:()=>(e=>{const t=a.find(t=>t.id===e),n='Are you sure you want to delete user "'.concat(null===t||void 0===t?void 0:t.name,'" (').concat(null===t||void 0===t?void 0:t.username,")?\n\nThis action cannot be undone.");if(window.confirm(n)){const n=a.filter(t=>t.id!==e);localStorage.setItem("case-booking-users",JSON.stringify(n)),q(),U.delete(),H("User Deleted",'User "'.concat(null===t||void 0===t?void 0:t.name,'" has been successfully removed from the system.')),B({title:"User Account Deleted",message:"".concat(null===t||void 0===t?void 0:t.name," (").concat(null===t||void 0===t?void 0:t.username,") has been removed from the user access matrix."),type:"warning"})}})(e.id),children:"Delete"})]})})]},e.id)})})]}),Q>1&&(0,C.jsxs)("div",{className:"pagination-container",children:[(0,C.jsxs)("div",{className:"pagination-info",children:["Showing ",(S-1)*I+1," to ",Math.min(S*I,a.length)," of ",a.length," users"]}),(0,C.jsxs)("div",{className:"pagination-controls",children:[(0,C.jsx)("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>K(1),disabled:1===S,children:"First"}),(0,C.jsx)("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>K(S-1),disabled:1===S,children:"Previous"}),[...Array(Q)].map((e,t)=>{const n=t+1;return 1===n||n===Q||n>=S-2&&n<=S+2?(0,C.jsx)("button",{className:"btn btn-sm ".concat(n===S?"btn-primary":"btn-outline-secondary"),onClick:()=>K(n),children:n},n):n===S-3||n===S+3?(0,C.jsx)("span",{className:"pagination-ellipsis",children:"..."},n):null}),(0,C.jsx)("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>K(S+1),disabled:S===Q,children:"Next"}),(0,C.jsx)("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>K(Q),disabled:S===Q,children:"Last"})]})]})]})]}),"roles"===t&&(0,C.jsx)("div",{className:"tab-content",children:(0,C.jsx)(ki,{onRoleUpdate:()=>{W()}})})]})},Di=(e,t,n,r,a)=>{var s,o;const i=e.trim();if(!i)return{isValid:!1,error:"".concat("surgery"===t?"Surgery set":"Implant box"," name is required")};if(i.length<3)return{isValid:!1,error:"Name must be at least 3 characters long"};if(i.length>50)return{isValid:!1,error:"Name must be 50 characters or less"};if(!/^[a-zA-Z0-9\s\-()]+$/.test(i))return{isValid:!1,error:"Name can only contain letters, numbers, spaces, hyphens, and parentheses"};if(("surgery"===t?(null===(s=n[r])||void 0===s?void 0:s.surgerySets)||[]:(null===(o=n[r])||void 0===o?void 0:o.implantBoxes)||[]).some(e=>e!==a&&e===i))return{isValid:!1,error:"This ".concat("surgery"===t?"surgery set":"implant box"," already exists in this procedure type")};if(!a){if(Object.values(n).flatMap(e=>"surgery"===t?e.surgerySets:e.implantBoxes).includes(i))return{isValid:!1,error:"This ".concat("surgery"===t?"surgery set":"implant box"," already exists in another procedure type")}}return{isValid:!0,error:""}},Ei=e=>{let{type:t,show:n,value:r,error:a,onValueChange:s,onSave:o,onCancel:i}=e;if(!n)return null;const l="surgery"===t?"Enter surgery set name...":"Enter implant box name...";return(0,C.jsxs)("div",{className:"add-form",children:[(0,C.jsx)("input",{type:"text",value:r,onChange:e=>s(e.target.value),placeholder:l,className:"add-input ".concat(a?"error":""),maxLength:50}),a&&(0,C.jsx)("div",{className:"error-message",children:a}),(0,C.jsxs)("div",{className:"add-actions",children:[(0,C.jsx)("button",{onClick:o,className:"save-button",children:"Save"}),(0,C.jsx)("button",{onClick:i,className:"cancel-button",children:"Cancel"})]})]})},Ii=e=>{let{name:t,index:n,type:r,isEditing:a,editValue:s,isDragging:o,totalItems:i,onEdit:l,onSave:c,onCancel:d,onDelete:u,onMove:p,onDragStart:m,onEditValueChange:h}=e;return(0,C.jsx)("div",{className:"set-item ".concat(o?"dragging":""),draggable:!a,onDragStart:()=>m(r,n),children:a?(0,C.jsxs)("div",{className:"edit-form",children:[(0,C.jsx)("input",{type:"text",value:s,onChange:e=>h(e.target.value),className:"edit-input"}),(0,C.jsxs)("div",{className:"edit-actions",children:[(0,C.jsx)("button",{onClick:()=>c(t,s),className:"save-button-small",children:"\u2713"}),(0,C.jsx)("button",{onClick:d,className:"cancel-button-small",children:"\u2715"})]})]}):(0,C.jsxs)("div",{className:"set-display",children:[(0,C.jsx)("div",{className:"drag-handle",title:"Drag to reorder",children:(0,C.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,C.jsx)("rect",{x:"6",y:"4",width:"12",height:"2",rx:"1"}),(0,C.jsx)("rect",{x:"6",y:"8",width:"12",height:"2",rx:"1"}),(0,C.jsx)("rect",{x:"6",y:"12",width:"12",height:"2",rx:"1"}),(0,C.jsx)("rect",{x:"6",y:"16",width:"12",height:"2",rx:"1"})]})}),(0,C.jsx)("span",{className:"set-name",children:t}),(0,C.jsxs)("div",{className:"set-actions",children:[(0,C.jsxs)("div",{className:"arrow-controls",children:[(0,C.jsx)("button",{onClick:()=>p(r,n,"up"),className:"arrow-button",disabled:0===n,title:"Move up one position",children:"\u25b2"}),(0,C.jsx)("button",{onClick:()=>p(r,n,"down"),className:"arrow-button",disabled:n===i-1,title:"Move down one position",children:"\u25bc"})]}),(0,C.jsx)("button",{onClick:()=>l(t),className:"edit-button-small",children:"\u270f\ufe0f"}),(0,C.jsx)("button",{onClick:()=>u(t),className:"delete-button-small",children:"\ud83d\uddd1\ufe0f"})]})]})})},Pi=e=>{let{title:t,type:n,items:r,editingItem:a,editValue:s,draggedItem:o,showAddForm:i,addValue:l,addError:c,onShowAdd:d,onAddValueChange:u,onAdd:p,onCancelAdd:m,onEdit:h,onSave:f,onCancelEdit:g,onDelete:v,onMove:y,onDragStart:b,onDragOver:x,onDrop:w,onDragEnd:S,onEditValueChange:N}=e;return(0,C.jsxs)("div",{className:"sets-section",children:[(0,C.jsxs)("div",{className:"section-header",children:[(0,C.jsx)("h3",{children:t}),(0,C.jsxs)("button",{onClick:d,className:"add-button",children:["+ Add ","surgery"===n?"Surgery Set":"Implant Box"]})]}),(0,C.jsx)(Ei,{type:n,show:i,value:l,error:c,onValueChange:u,onSave:p,onCancel:m}),(0,C.jsx)("div",{className:"sets-list",children:r.map((e,t)=>(0,C.jsx)("div",{onDragOver:x,onDrop:()=>w(n,t),onDragEnd:S,children:(0,C.jsx)(Ii,{name:e,index:t,type:n,isEditing:a===e,editValue:s,isDragging:(null===o||void 0===o?void 0:o.type)===n&&o.index===t,totalItems:r.length,onEdit:h,onSave:f,onCancel:g,onDelete:v,onMove:y,onDragStart:b,onEditValueChange:N})},e))})]})},Ai=()=>{var e,t,n;const{modal:a,closeModal:s,showConfirm:l}=Q(),[p,m]=(0,r.useState)({}),[h,f]=(0,r.useState)(c[0]),[v,y]=(0,r.useState)(!1),[b,x]=(0,r.useState)(!1),[w,S]=(0,r.useState)(""),[N,j]=(0,r.useState)(""),[k,D]=(0,r.useState)(null),[E,I]=(0,r.useState)(null),[P,A]=(0,r.useState)(""),[O,M]=(0,r.useState)(""),[R,U]=(0,r.useState)(null),[Y,W]=(0,r.useState)(""),[q,K]=(0,r.useState)(""),[J,G]=(0,r.useState)([]),[$,X]=(0,r.useState)(!1),[Z,ee]=(0,r.useState)(""),[te,ne]=(0,r.useState)(""),[re,ae]=(0,r.useState)(""),{showError:se,showSuccess:oe}=vi(),{playSound:ie}=mi(),le=g(),ce=!!le&&(0,Qo.hasPermission)(le.role,Qo.PERMISSION_ACTIONS.EDIT_SETS),de=(null===le||void 0===le?void 0:le.selectedCountry)||(null===le||void 0===le||null===(e=le.countries)||void 0===e?void 0:e[0]),ue="admin"===(null===le||void 0===le?void 0:le.role),pe=ue&&re?re:de;(0,r.useEffect)(()=>{ue&&!re&&ae(de||i[0])},[ue,re,de]),(0,r.useEffect)(()=>{const e=z(pe);G(e),e.includes(h)||f(e[0]||c[0])},[h,pe]),(0,r.useEffect)(()=>{const e=_(pe);if(Object.keys(e).length>0)m(e);else{const e=(()=>{const e={};return c.forEach(t=>{e[t]={surgerySets:[],implantBoxes:[]}}),d.forEach(t=>{const n=t.toLowerCase();let r=!1;c.forEach(a=>{const s=a.toLowerCase();n.includes(s)&&!r&&(e[a].surgerySets.push(t),r=!0)}),r||e[c[0]].surgerySets.push(t)}),u.forEach(t=>{const n=t.toLowerCase();let r=!1;c.forEach(a=>{const s=a.toLowerCase();n.includes(s)&&!r&&(e[a].implantBoxes.push(t),r=!0)}),r||e[c[0]].implantBoxes.push(t)}),e})();m(e),T(e,pe)}},[pe]),(0,r.useEffect)(()=>{Object.keys(p).length>0&&T(p,pe)},[p,pe]);const me=e=>{const t='Are you sure you want to delete "'.concat(e,'"?\n\nThis will remove all associated surgery sets and implant boxes. This action cannot be undone.');l("Delete Procedure Type",t,()=>{if(((e,t)=>{const n=L(t);if(n.includes(e)){const r=n.filter(t=>t!==e);return F(r,t),!0}if(["Knee","Head","Hip","Hands","Neck","Spine"].includes(e)){const n=B(t);if(!n.includes(e))return H([...n,e],t),!0}return!1})(e,pe)){const t=z(pe);G(t),m(t=>{const n=(0,o.A)({},t);return delete n[e],n}),h===e&&f(t[0]||c[0]),ie.delete(),oe("Procedure Type Deleted",'"'.concat(e,'" has been removed'))}else se("Delete Failed","Failed to delete procedure type")})},he=(e,t)=>{U({type:e,index:t})},fe=e=>{e.preventDefault()},ge=()=>{U(null)},ve=(e,t)=>{if(!R||R.type!==e)return;const{index:n}=R;n!==t&&(m(r=>{const a=(0,o.A)({},r),s=((e,t,n)=>{const r=[...e],[a]=r.splice(t,1),s=t<n?n-1:n;return r.splice(s,0,a),r})("surgery"===e?[...a[h].surgerySets]:[...a[h].implantBoxes],n,t);return"surgery"===e?a[h].surgerySets=s:a[h].implantBoxes=s,a}),U(null))},ye=(e,t,n)=>{var r,a;const s="surgery"===e?(null===(r=p[h])||void 0===r?void 0:r.surgerySets)||[]:(null===(a=p[h])||void 0===a?void 0:a.implantBoxes)||[];let i;switch(n){case"up":i=t-1;break;case"down":i=t+1;break;default:return}i<0||i>=s.length||i===t||m(n=>{const r=(0,o.A)({},n),a=((e,t,n)=>{const r=[...e];return[r[t],r[n]]=[r[n],r[t]],r})(s,t,i);return"surgery"===e?r[h].surgerySets=a:r[h].implantBoxes=a,r})};return(0,C.jsxs)("div",{className:"edit-sets-container",children:[(0,C.jsxs)("div",{className:"edit-sets-header",children:[(0,C.jsxs)("div",{className:"edit-sets-title-row",children:[(0,C.jsx)("h2",{children:"Edit Surgery Sets & Implant Boxes"}),ue&&(0,C.jsxs)("div",{className:"admin-country-selector",children:[(0,C.jsx)("label",{htmlFor:"admin-country-select",children:"Country:"}),(0,C.jsx)("select",{id:"admin-country-select",value:re||"",onChange:e=>ae(e.target.value),className:"country-select",children:i.map(e=>(0,C.jsx)("option",{value:e,children:e},e))})]})]}),(0,C.jsxs)("p",{children:["Manage available surgery sets and implant boxes for case bookings, organized by procedure type",(0,C.jsxs)("span",{children:[" \u2022 ",(0,C.jsxs)("strong",{children:["Country: ",pe]})]})]})]}),(0,C.jsxs)("div",{className:"procedure-type-selector",children:[(0,C.jsxs)("div",{className:"procedure-type-header",children:[(0,C.jsx)("h3",{children:"Select Procedure Type:"}),ce&&(0,C.jsx)("button",{className:"btn btn-primary btn-sm add-procedure-type-button",onClick:()=>X(!0),title:"Add new procedure type",children:"+ Add Procedure Type"})]}),(0,C.jsx)("div",{className:"procedure-tabs",children:J.map(e=>{const t=!c.includes(e);return(0,C.jsxs)("div",{className:"procedure-tab-container",children:[(0,C.jsxs)("button",{onClick:()=>f(e),className:"procedure-tab ".concat(h===e?"active":""),children:[e,t&&(0,C.jsx)("span",{className:"custom-type-indicator",children:"\u2605"})]}),ce&&(0,C.jsx)("button",{className:"delete-procedure-type-button",onClick:()=>me(e),title:"".concat(t?"Delete":"Hide"," ").concat(e),children:"\u2715"})]},e)})}),$&&(0,C.jsxs)("div",{className:"add-procedure-type-form",children:[(0,C.jsx)("div",{className:"form-header",children:(0,C.jsx)("h4",{children:"Add New Procedure Type"})}),(0,C.jsxs)("div",{className:"form-content",children:[(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{htmlFor:"procedureTypeName",children:"Procedure Type Name:"}),(0,C.jsx)("input",{type:"text",id:"procedureTypeName",value:Z,onChange:e=>{ee(e.target.value),ne("")},placeholder:"Enter procedure type name (e.g., Ankle, Wrist)",maxLength:50}),te&&(0,C.jsx)("span",{className:"error-message",children:te})]}),(0,C.jsxs)("div",{className:"form-actions",children:[(0,C.jsx)("button",{className:"btn btn-primary btn-md",onClick:()=>{const e=Z.trim();if(e)if(J.includes(e))ne("This procedure type already exists");else if(e.length<2)ne("Procedure type name must be at least 2 characters");else if(e.length>50)ne("Procedure type name must be less than 50 characters");else if(((e,t)=>{const n=L(t),r=e.trim();if(!r||n.includes(r))return!1;const a=[...n,r];return F(a,t),!0})(e,pe)){const t=z(pe);G(t),m(t=>(0,o.A)((0,o.A)({},t),{},{[e]:{surgerySets:[],implantBoxes:[]}})),ee(""),X(!1),ne(""),f(e),ie.success(),oe("Procedure Type Added",'"'.concat(e,'" has been added successfully'))}else ne("Failed to add procedure type");else ne("Procedure type name is required")},disabled:!Z.trim(),children:"Add Procedure Type"}),(0,C.jsx)("button",{className:"btn btn-secondary btn-md",onClick:()=>{X(!1),ee(""),ne("")},children:"Cancel"})]})]})]})]}),(0,C.jsxs)("div",{className:"sets-grid",children:[(0,C.jsx)(Pi,{title:"Surgery Sets for ".concat(h),type:"surgery",items:(null===(t=p[h])||void 0===t?void 0:t.surgerySets)||[],editingItem:k,editValue:P,draggedItem:R,showAddForm:v,addValue:w,addError:Y,onShowAdd:()=>y(!0),onAddValueChange:e=>{S(e),W("")},onAdd:()=>{const e=Di(w,"surgery",p,h);if(W(e.error),!e.isValid)return ie.error(),void se("Validation Error",e.error);const t=w.trim();m(e=>(0,o.A)((0,o.A)({},e),{},{[h]:(0,o.A)((0,o.A)({},e[h]),{},{surgerySets:[...e[h].surgerySets,t]})})),S(""),y(!1),ie.success(),oe("Surgery Set Added",'"'.concat(t,'" has been added to ').concat(h))},onCancelAdd:()=>{y(!1),S(""),W("")},onEdit:e=>{D(e),A(e)},onSave:(e,t)=>{const n=Di(t,"surgery",p,h,e);if(!n.isValid)return ie.error(),void se("Validation Error",n.error);const r=t.trim();m(t=>(0,o.A)((0,o.A)({},t),{},{[h]:(0,o.A)((0,o.A)({},t[h]),{},{surgerySets:t[h].surgerySets.map(t=>t===e?r:t)})})),D(null),A(""),ie.success(),oe("Surgery Set Updated",'"'.concat(e,'" has been renamed to "').concat(r,'"'))},onCancelEdit:()=>{D(null),A("")},onDelete:e=>{const t='Are you sure you want to delete "'.concat(e,'"?\n\nThis action cannot be undone and may affect existing case bookings that reference this surgery set.');l("Delete Surgery Set",t,()=>{m(t=>(0,o.A)((0,o.A)({},t),{},{[h]:(0,o.A)((0,o.A)({},t[h]),{},{surgerySets:t[h].surgerySets.filter(t=>t!==e)})})),ie.delete(),oe("Surgery Set Deleted",'"'.concat(e,'" has been removed from ').concat(h))})},onMove:ye,onDragStart:he,onDragOver:fe,onDrop:ve,onDragEnd:ge,onEditValueChange:A}),(0,C.jsx)(Pi,{title:"Implant Boxes for ".concat(h),type:"implant",items:(null===(n=p[h])||void 0===n?void 0:n.implantBoxes)||[],editingItem:E,editValue:O,draggedItem:R,showAddForm:b,addValue:N,addError:q,onShowAdd:()=>x(!0),onAddValueChange:e=>{j(e),K("")},onAdd:()=>{const e=Di(N,"implant",p,h);if(K(e.error),!e.isValid)return ie.error(),void se("Validation Error",e.error);const t=N.trim();m(e=>(0,o.A)((0,o.A)({},e),{},{[h]:(0,o.A)((0,o.A)({},e[h]),{},{implantBoxes:[...e[h].implantBoxes,t]})})),j(""),x(!1),ie.success(),oe("Implant Box Added",'"'.concat(t,'" has been added to ').concat(h))},onCancelAdd:()=>{x(!1),j(""),K("")},onEdit:e=>{I(e),M(e)},onSave:(e,t)=>{const n=Di(t,"implant",p,h,e);if(!n.isValid)return ie.error(),void se("Validation Error",n.error);const r=t.trim();m(t=>(0,o.A)((0,o.A)({},t),{},{[h]:(0,o.A)((0,o.A)({},t[h]),{},{implantBoxes:t[h].implantBoxes.map(t=>t===e?r:t)})})),I(null),M(""),ie.success(),oe("Implant Box Updated",'"'.concat(e,'" has been renamed to "').concat(r,'"'))},onCancelEdit:()=>{I(null),M("")},onDelete:e=>{const t='Are you sure you want to delete "'.concat(e,'"?\n\nThis action cannot be undone and may affect existing case bookings that reference this implant box.');l("Delete Implant Box",t,()=>{m(t=>(0,o.A)((0,o.A)({},t),{},{[h]:(0,o.A)((0,o.A)({},t[h]),{},{implantBoxes:t[h].implantBoxes.filter(t=>t!==e)})})),ie.delete(),oe("Implant Box Deleted",'"'.concat(e,'" has been removed from ').concat(h))})},onMove:ye,onDragStart:he,onDragOver:fe,onDrop:ve,onDragEnd:ge,onEditValueChange:M})]}),(0,C.jsx)(V,{isOpen:a.isOpen,onClose:s,title:a.title,message:a.message,type:a.type,actions:"confirm"===a.type?[{label:"Cancel",onClick:s,style:"secondary"},{label:"Delete",onClick:a.onConfirm||s,style:"danger"}]:void 0})]})},Oi=e=>{let{data:t}=e;return(0,C.jsxs)("div",{className:"overview-dashboard",children:[(0,C.jsxs)("div",{className:"metrics-grid",children:[(0,C.jsxs)("div",{className:"metric-card primary",children:[(0,C.jsx)("div",{className:"metric-icon",children:"\ud83d\udcca"}),(0,C.jsxs)("div",{className:"metric-content",children:[(0,C.jsx)("div",{className:"metric-value",children:t.totalCases}),(0,C.jsx)("div",{className:"metric-label",children:"Total Cases"})]})]}),(0,C.jsxs)("div",{className:"metric-card success",children:[(0,C.jsx)("div",{className:"metric-icon",children:"\u2705"}),(0,C.jsxs)("div",{className:"metric-content",children:[(0,C.jsxs)("div",{className:"metric-value",children:[t.completionRate.toFixed(1),"%"]}),(0,C.jsx)("div",{className:"metric-label",children:"Completion Rate"})]})]}),(0,C.jsxs)("div",{className:"metric-card warning",children:[(0,C.jsx)("div",{className:"metric-icon",children:"\u26a1"}),(0,C.jsxs)("div",{className:"metric-content",children:[(0,C.jsx)("div",{className:"metric-value",children:t.urgentCases}),(0,C.jsx)("div",{className:"metric-label",children:"Urgent Cases"})]})]}),(0,C.jsxs)("div",{className:"metric-card info",children:[(0,C.jsx)("div",{className:"metric-icon",children:"\u23f1\ufe0f"}),(0,C.jsxs)("div",{className:"metric-content",children:[(0,C.jsx)("div",{className:"metric-value",children:t.averageProcessingTime}),(0,C.jsx)("div",{className:"metric-label",children:"Avg. Processing (days)"})]})]})]}),(0,C.jsxs)("div",{className:"charts-grid",children:[(0,C.jsxs)("div",{className:"chart-container",children:[(0,C.jsx)("h4",{children:"\ud83d\udcc8 Status Distribution"}),(0,C.jsx)("div",{className:"status-breakdown",children:Object.entries(t.statusBreakdown).map(e=>{let[t,n]=e;return n>0&&(0,C.jsxs)("div",{className:"status-item",children:[(0,C.jsx)("div",{className:"status-indicator",style:{backgroundColor:ni(t)}}),(0,C.jsx)("span",{className:"status-name",children:t}),(0,C.jsx)("span",{className:"status-count",children:n})]},t)})})]}),(0,C.jsxs)("div",{className:"chart-container",children:[(0,C.jsx)("h4",{children:"\ud83c\udf0d Country Distribution"}),(0,C.jsx)("div",{className:"country-breakdown",children:Object.entries(t.countryBreakdown).map(e=>{let[n,r]=e;return r>0&&(0,C.jsxs)("div",{className:"country-item",children:[(0,C.jsx)("span",{className:"country-name",children:n}),(0,C.jsx)("div",{className:"country-bar",children:(0,C.jsx)("div",{className:"country-bar-fill",style:{width:"".concat(r/t.totalCases*100,"%"),backgroundColor:"#20b2aa"}})}),(0,C.jsx)("span",{className:"country-count",children:r})]},n)})})]})]})]})},Ti=e=>{let{data:t}=e;return(0,C.jsxs)("div",{className:"workflow-analysis",children:[(0,C.jsx)("h3",{children:"\u26a1 Workflow Performance Analysis"}),(0,C.jsxs)("div",{className:"workflow-metrics",children:[(0,C.jsxs)("div",{className:"workflow-stage",children:[(0,C.jsx)("h4",{children:"\ud83d\udcdd Case Booking"}),(0,C.jsx)("div",{className:"stage-count",children:t.statusBreakdown["Case Booked"]}),(0,C.jsx)("div",{className:"stage-description",children:"New cases awaiting processing"})]}),(0,C.jsxs)("div",{className:"workflow-stage",children:[(0,C.jsx)("h4",{children:"\ud83d\udccb Order Processing"}),(0,C.jsx)("div",{className:"stage-count",children:t.statusBreakdown["Order Preparation"]+t.statusBreakdown["Order Prepared"]}),(0,C.jsx)("div",{className:"stage-description",children:"Cases being prepared"})]}),(0,C.jsxs)("div",{className:"workflow-stage",children:[(0,C.jsx)("h4",{children:"\ud83d\ude9a Delivery"}),(0,C.jsx)("div",{className:"stage-count",children:t.statusBreakdown["Pending Delivery (Hospital)"]+t.statusBreakdown["Delivered (Hospital)"]}),(0,C.jsx)("div",{className:"stage-description",children:"Hospital delivery process"})]}),(0,C.jsxs)("div",{className:"workflow-stage",children:[(0,C.jsx)("h4",{children:"\u2705 Completion"}),(0,C.jsx)("div",{className:"stage-count",children:t.statusBreakdown["Case Completed"]+t.statusBreakdown["Delivered (Office)"]+t.statusBreakdown["To be billed"]}),(0,C.jsx)("div",{className:"stage-description",children:"Completed cases"})]})]})]})},_i=e=>{let{data:t}=e;return(0,C.jsxs)("div",{className:"performance-metrics",children:[(0,C.jsx)("h3",{children:"\ud83d\udcc8 Performance Analytics"}),(0,C.jsxs)("div",{className:"performance-section",children:[(0,C.jsx)("h4",{children:"\ud83c\udfc6 Top Performers"}),(0,C.jsx)("div",{className:"top-submitters",children:t.topSubmitters.slice(0,5).map((e,t)=>(0,C.jsxs)("div",{className:"submitter-item",children:[(0,C.jsxs)("div",{className:"submitter-rank",children:["#",t+1]}),(0,C.jsx)("div",{className:"submitter-name",children:e.name}),(0,C.jsxs)("div",{className:"submitter-count",children:[e.count," cases"]})]},e.name))})]}),(0,C.jsxs)("div",{className:"performance-section",children:[(0,C.jsx)("h4",{children:"\ud83d\udcc5 Monthly Trends"}),(0,C.jsx)("div",{className:"monthly-trends",children:Object.entries(t.monthlyTrends).map(e=>{let[n,r]=e;return(0,C.jsxs)("div",{className:"month-item",children:[(0,C.jsx)("div",{className:"month-name",children:n}),(0,C.jsx)("div",{className:"month-bar",children:(0,C.jsx)("div",{className:"month-bar-fill",style:{height:"".concat(Math.max(r/Math.max(...Object.values(t.monthlyTrends))*100,5),"%"),backgroundColor:"#20b2aa"}})}),(0,C.jsx)("div",{className:"month-count",children:r})]},n)})})]})]})},Mi=e=>{let{cases:t}=e;return(0,C.jsxs)("div",{className:"detailed-report",children:[(0,C.jsx)("h3",{children:"\ud83d\udccb Detailed Case Report"}),(0,C.jsx)("div",{className:"detailed-table-container",children:(0,C.jsxs)("table",{className:"detailed-table",children:[(0,C.jsx)("thead",{children:(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{children:"Case Reference"}),(0,C.jsx)("th",{children:"Hospital"}),(0,C.jsx)("th",{children:"Department"}),(0,C.jsx)("th",{children:"Surgery Date"}),(0,C.jsx)("th",{children:"Procedure"}),(0,C.jsx)("th",{children:"Status"}),(0,C.jsx)("th",{children:"Country"}),(0,C.jsx)("th",{children:"Submitted By"})]})}),(0,C.jsx)("tbody",{children:t.map(e=>(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{className:"case-ref",children:e.caseReferenceNumber}),(0,C.jsx)("td",{children:e.hospital}),(0,C.jsx)("td",{children:e.department}),(0,C.jsx)("td",{children:Uo(new Date(e.dateOfSurgery))}),(0,C.jsx)("td",{children:(0,C.jsxs)("div",{className:"procedure-info",children:[(0,C.jsx)("div",{className:"procedure-type",children:e.procedureType}),(0,C.jsx)("div",{className:"procedure-name",children:e.procedureName})]})}),(0,C.jsx)("td",{children:(0,C.jsx)("span",{className:"status-badge",style:{backgroundColor:ni(e.status),color:"white",padding:"4px 8px",borderRadius:"4px",fontSize:"0.8rem"},children:e.status})}),(0,C.jsx)("td",{children:e.country}),(0,C.jsx)("td",{children:e.submittedBy})]},e.id))})]})})]})},Ri=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)([]),[s]=(0,r.useState)(g()),[c,d]=(0,r.useState)(!0),[u,p]=(0,r.useState)({dateFrom:"",dateTo:"",status:"",country:"",department:"",submitter:"",reportType:"overview"}),[m,h]=(0,r.useState)({dateFrom:"",dateTo:"",status:"",country:"",department:"",submitter:"",reportType:"overview"});(0,r.useEffect)(()=>{const e=A().filter(e=>{var t,n;if("admin"===(null===s||void 0===s?void 0:s.role)||"it"===(null===s||void 0===s?void 0:s.role))return!0;const r=!(null!==s&&void 0!==s&&null!==(t=s.countries)&&void 0!==t&&t.length)||s.countries.includes(e.country),a=!(null!==s&&void 0!==s&&null!==(n=s.departments)&&void 0!==n&&n.length)||s.departments.includes(e.department);return r&&a});t(e),a(e)},[s]),(0,r.useEffect)(()=>{h((0,o.A)({},u))},[u]),(0,r.useEffect)(()=>{let t=[...e];u.dateFrom&&(t=t.filter(e=>e.dateOfSurgery>=u.dateFrom)),u.dateTo&&(t=t.filter(e=>e.dateOfSurgery<=u.dateTo)),u.status&&(t=t.filter(e=>e.status===u.status)),u.country&&(t=t.filter(e=>e.country===u.country)),u.department&&(t=t.filter(e=>e.department===u.department)),u.submitter&&(t=t.filter(e=>e.submittedBy.toLowerCase().includes(u.submitter.toLowerCase()))),a(t)},[e,u]);const f=(0,r.useMemo)(()=>{const e=n.length,t={};["Case Booked","Order Preparation","Order Prepared","Pending Delivery (Hospital)","Delivered (Hospital)","Case Completed","Pending Delivery (Office)","Delivered (Office)","To be billed","Case Closed","Case Cancelled"].forEach(e=>{t[e]=n.filter(t=>t.status===e).length});const r={};i.forEach(e=>{r[e]=n.filter(t=>t.country===e).length});const a={};l.forEach(e=>{a[e]=n.filter(t=>t.department===e).length});const s={};for(let i=5;i>=0;i--){const e=new Date;e.setMonth(e.getMonth()-i);const t="".concat(e.getFullYear(),"-").concat((e.getMonth()+1).toString().padStart(2,"0"));s[t]=n.filter(e=>e.dateOfSurgery.startsWith(t)).length}const o={};n.forEach(e=>{o[e.submittedBy]=(o[e.submittedBy]||0)+1});const c=Object.entries(o).map(e=>{let[t,n]=e;return{name:t,count:n}}).sort((e,t)=>t.count-e.count).slice(0,10),d=n.filter(e=>["Case Completed","Delivered (Office)","To be billed","Case Closed"].includes(e.status)).length,u=e>0?d/e*100:0,p=n.filter(e=>{const t=new Date(e.dateOfSurgery),n=new Date,r=Math.ceil((t.getTime()-n.getTime())/864e5);return r<=3&&r>=0&&"Case Completed"!==e.status}).length;return{totalCases:e,statusBreakdown:t,countryBreakdown:r,departmentBreakdown:a,monthlyTrends:s,topSubmitters:c,averageProcessingTime:2.5,urgentCases:p,completionRate:u}},[n]),v=(0,r.useMemo)(()=>Array.from(new Set(e.map(e=>e.submittedBy))).sort(),[e]),y=(0,r.useMemo)(()=>{const t="admin"===(null===s||void 0===s?void 0:s.role)||"it"===(null===s||void 0===s?void 0:s.role)?i:(null===s||void 0===s?void 0:s.countries)||[];return Array.from(new Set(e.map(e=>e.country).filter(e=>t.includes(e)))).sort()},[e,s]),b=(0,r.useMemo)(()=>{const t="admin"===(null===s||void 0===s?void 0:s.role)||"it"===(null===s||void 0===s?void 0:s.role)?l:(null===s||void 0===s?void 0:s.departments)||[];return Array.from(new Set(e.map(e=>e.department).filter(e=>t.includes(e)))).sort()},[e,s]),x=(e,t)=>{h(n=>(0,o.A)((0,o.A)({},n),{},{[e]:t}))},w=()=>[["Case Reference","Hospital","Department","Date of Surgery","Procedure Type","Procedure Name","Doctor","Status","Country","Submitted By","Submitted At"],...n.map(e=>[e.caseReferenceNumber,e.hospital,e.department,e.dateOfSurgery,e.procedureType,e.procedureName,e.doctorName||"",e.status,e.country,e.submittedBy,Uo(new Date(e.submittedAt))])].map(e=>e.map(e=>'"'.concat(e,'"')).join(",")).join("\n");return(0,Qo.hasPermission)((null===s||void 0===s?void 0:s.role)||"",Qo.PERMISSION_ACTIONS.VIEW_REPORTS)?(0,C.jsxs)("div",{className:"reports-container",children:[(0,C.jsxs)("div",{className:"reports-header",children:[(0,C.jsxs)("div",{className:"reports-title",children:[(0,C.jsx)("h1",{children:"\ud83d\udcca Reports & Analytics"}),(0,C.jsx)("p",{children:"Comprehensive case booking analytics and insights"})]}),(0,C.jsxs)("div",{className:"reports-actions",children:[(0,C.jsx)("button",{onClick:()=>{const e=w(),t=new Blob([e],{type:"text/csv"}),n=window.URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="case_report_".concat((new Date).toISOString().split("T")[0],".csv"),r.click(),window.URL.revokeObjectURL(n)},className:"btn btn-outline-primary",title:"Export to CSV",children:"\ud83d\udce4 Export"}),(0,C.jsx)("button",{onClick:()=>{window.print()},className:"btn btn-outline-secondary",title:"Print Report",children:"\ud83d\udda8\ufe0f Print"})]})]}),(0,C.jsxs)("div",{className:"modern-filters-section",children:[(0,C.jsxs)("div",{className:"filters-header",onClick:()=>d(!c),children:[(0,C.jsxs)("div",{className:"filters-title",children:[(0,C.jsx)("h3",{children:"\ud83d\udd0d Advanced Filters"}),(0,C.jsx)("span",{className:"active-filters-count",children:Object.values(m).filter(e=>e&&"overview"!==e).length>0&&"(".concat(Object.values(m).filter(e=>e&&"overview"!==e).length," active)")})]}),(0,C.jsx)("button",{className:"btn btn-outline-secondary btn-sm filters-toggle ".concat(c?"expanded":""),children:c?"\u25b2":"\u25bc"})]}),c&&(0,C.jsxs)("div",{className:"filters-content",children:[(0,C.jsxs)("div",{className:"filters-grid",children:[(0,C.jsxs)("div",{className:"filter-category",children:[(0,C.jsx)("h4",{children:"\ud83d\udcca Report Configuration"}),(0,C.jsx)("div",{className:"filter-row",children:(0,C.jsxs)("div",{className:"modern-filter-group full-width",children:[(0,C.jsx)("label",{children:"Report Type"}),(0,C.jsxs)("div",{className:"filter-input-wrapper",children:[(0,C.jsx)(D,{options:[{value:"overview",label:"\ud83d\udcca Overview Dashboard"},{value:"workflow",label:"\u26a1 Workflow Analysis"},{value:"performance",label:"\ud83d\udcc8 Performance Metrics"},{value:"detailed",label:"\ud83d\udccb Detailed Report"}],value:m.reportType,onChange:e=>x("reportType",e),placeholder:"Select Report Type"}),(0,C.jsx)("span",{className:"filter-icon",children:"\ud83d\udcc4"})]})]})})]}),(0,C.jsxs)("div",{className:"filter-category",children:[(0,C.jsx)("h4",{children:"\ud83d\udd0e Search"}),(0,C.jsxs)("div",{className:"filter-row",children:[(0,C.jsxs)("div",{className:"modern-filter-group",children:[(0,C.jsx)("label",{children:"Submitter"}),(0,C.jsxs)("div",{className:"filter-input-wrapper",children:[(0,C.jsx)(D,{options:[{value:"",label:"All Submitters"},...v.map(e=>({value:e,label:e}))],value:m.submitter,onChange:e=>x("submitter",e),placeholder:"All Submitters"}),(0,C.jsx)("span",{className:"filter-icon",children:"\ud83d\udc64"})]})]}),("admin"===(null===s||void 0===s?void 0:s.role)||"it"===(null===s||void 0===s?void 0:s.role))&&(0,C.jsxs)("div",{className:"modern-filter-group",children:[(0,C.jsx)("label",{children:"Country"}),(0,C.jsxs)("div",{className:"filter-input-wrapper",children:[(0,C.jsx)(D,{options:[{value:"",label:"All Countries"},...y.map(e=>({value:e,label:e}))],value:m.country,onChange:e=>x("country",e),placeholder:"All Countries"}),(0,C.jsx)("span",{className:"filter-icon",children:"\ud83c\udf0d"})]})]}),(0,C.jsxs)("div",{className:"modern-filter-group",children:[(0,C.jsx)("label",{children:"Department"}),(0,C.jsxs)("div",{className:"filter-input-wrapper",children:[(0,C.jsx)(D,{options:[{value:"",label:"All Departments"},...b.map(e=>({value:e,label:e}))],value:m.department,onChange:e=>x("department",e),placeholder:"All Departments"}),(0,C.jsx)("span",{className:"filter-icon",children:"\ud83c\udfe5"})]})]})]})]}),(0,C.jsxs)("div",{className:"filter-category",children:[(0,C.jsx)("h4",{children:"\ud83d\udcca Status"}),(0,C.jsx)("div",{className:"filter-row",children:(0,C.jsxs)("div",{className:"modern-filter-group full-width",children:[(0,C.jsx)("label",{children:"Case Status"}),(0,C.jsxs)("div",{className:"filter-input-wrapper",children:[(0,C.jsx)(D,{options:[{value:"",label:"All Statuses"},{value:"Case Booked",label:"Case Booked"},{value:"Order Preparation",label:"Order Preparation"},{value:"Order Prepared",label:"Order Prepared"},{value:"Pending Delivery (Hospital)",label:"Pending Delivery (Hospital)"},{value:"Delivered (Hospital)",label:"Delivered (Hospital)"},{value:"Case Completed",label:"Case Completed"},{value:"Pending Delivery (Office)",label:"Pending Delivery (Office)"},{value:"Delivered (Office)",label:"Delivered (Office)"},{value:"To be billed",label:"To be billed"},{value:"Case Closed",label:"Case Closed"},{value:"Case Cancelled",label:"Case Cancelled"}],value:m.status,onChange:e=>x("status",e),placeholder:"All Statuses"}),(0,C.jsx)("span",{className:"filter-icon",children:"\ud83d\udd04"})]})]})})]}),(0,C.jsxs)("div",{className:"filter-category",children:[(0,C.jsx)("h4",{children:"\ud83d\udcc5 Date Range"}),(0,C.jsxs)("div",{className:"filter-row",children:[(0,C.jsxs)("div",{className:"modern-filter-group",children:[(0,C.jsx)("label",{children:"Start Date"}),(0,C.jsxs)("div",{className:"filter-input-wrapper",children:[(0,C.jsx)(zo,{value:m.dateFrom,onChange:e=>x("dateFrom",e),placeholder:"Select start date"}),(0,C.jsx)("span",{className:"filter-icon",children:"\ud83d\udcc5"})]})]}),(0,C.jsxs)("div",{className:"modern-filter-group",children:[(0,C.jsx)("label",{children:"End Date"}),(0,C.jsxs)("div",{className:"filter-input-wrapper",children:[(0,C.jsx)(zo,{value:m.dateTo,onChange:e=>x("dateTo",e),placeholder:"Select end date",min:m.dateFrom||void 0}),(0,C.jsx)("span",{className:"filter-icon",children:"\ud83d\udcc5"})]})]})]})]})]}),(0,C.jsxs)("div",{className:"modern-filter-actions",children:[(0,C.jsxs)("div",{className:"filter-stats",children:["Showing ",n.length," of ",e.length," cases"]}),(0,C.jsxs)("div",{className:"filter-buttons",children:[(0,C.jsx)("button",{onClick:()=>{const e={dateFrom:"",dateTo:"",status:"",country:"",department:"",submitter:"",reportType:"overview"};h(e),p(e)},className:"btn btn-outline-secondary btn-md modern-clear-button",disabled:0===Object.values(m).filter(e=>e&&"overview"!==e).length,children:"\ud83d\uddd1\ufe0f Clear All"}),(0,C.jsx)("button",{onClick:()=>{p((0,o.A)({},m))},className:"btn btn-primary btn-md modern-apply-button",children:"\u2728 Apply Filters"})]})]}),(0,C.jsxs)("div",{className:"quick-filters",children:[(0,C.jsx)("span",{className:"quick-filters-label",children:"Quick Filters:"}),(0,C.jsx)("button",{onClick:()=>x("reportType","overview"),className:"btn btn-outline-secondary btn-sm quick-filter-button",children:"\ud83d\udcca Overview"}),(0,C.jsx)("button",{onClick:()=>x("reportType","workflow"),className:"btn btn-outline-secondary btn-sm quick-filter-button",children:"\u26a1 Workflow"}),(0,C.jsx)("button",{onClick:()=>x("reportType","performance"),className:"btn btn-outline-secondary btn-sm quick-filter-button",children:"\ud83d\udcc8 Performance"}),(0,C.jsx)("button",{onClick:()=>{const e=(new Date).toISOString().split("T")[0];x("dateFrom",e),x("dateTo",e)},className:"btn btn-outline-secondary btn-sm quick-filter-button",children:"\ud83d\udcc5 Today"})]})]})]}),(0,C.jsxs)("div",{className:"reports-content",children:["overview"===u.reportType&&(0,C.jsx)(Oi,{data:f}),"workflow"===u.reportType&&(0,C.jsx)(Ti,{data:f}),"performance"===u.reportType&&(0,C.jsx)(_i,{data:f}),"detailed"===u.reportType&&(0,C.jsx)(Mi,{cases:n})]})]}):(0,C.jsx)("div",{className:"permission-denied",children:(0,C.jsxs)("div",{className:"permission-denied-content",children:[(0,C.jsx)("h2",{children:"\ud83d\udeab Access Denied"}),(0,C.jsx)("p",{children:"You don't have permission to view reports."}),(0,C.jsx)("p",{children:"Contact your administrator to request access."})]})})},Li=e=>{var t;let{onCaseClick:n}=e;const[a,s]=(0,r.useState)(""),[o,l]=(0,r.useState)([]),[c,d]=(0,r.useState)(new Date),[u,p]=(0,r.useState)([]),[m,h]=(0,r.useState)(!1),[f,v]=(0,r.useState)({date:"",cases:[]}),[y,b]=(0,r.useState)(1),[w,S]=(0,r.useState)(g()),[N,j]=(0,r.useState)(""),[k,E]=(0,r.useState)(!1),I=(0,r.useRef)(null),P=(null===w||void 0===w?void 0:w.selectedCountry)||(null===w||void 0===w||null===(t=w.countries)||void 0===t?void 0:t[0]),O="admin"===(null===w||void 0===w?void 0:w.role),T=O&&N?N:P;(0,r.useEffect)(()=>{const e=g();if(S(e),"admin"===(null===e||void 0===e?void 0:e.role)&&!N){var t;const n=(null===e||void 0===e?void 0:e.selectedCountry)||(null===e||void 0===e||null===(t=e.countries)||void 0===t?void 0:t[0])||i[0];j(n)}const n=x(null===e||void 0===e?void 0:e.departments);l(n.sort()),n.length>0&&s(n[0])},[N]),(0,r.useEffect)(()=>{const e=A().filter(e=>(!T||e.country===T)&&!("admin"!==(null===w||void 0===w?void 0:w.role)&&"it"!==(null===w||void 0===w?void 0:w.role)&&null!==w&&void 0!==w&&w.departments&&!w.departments.includes(e.department)));p(e)},[T,w]),(0,r.useEffect)(()=>{const e=e=>{I.current&&!I.current.contains(e.target)&&k&&E(!1)};return k&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[k]);const _=Math.ceil(f.cases.length/10),M=e=>{b(e)},R=e=>{d(t=>{const n=new Date(t);return"prev"===e?n.setMonth(t.getMonth()-1):n.setMonth(t.getMonth()+1),n})},L=e=>{if(!a)return[];const t=c.getFullYear(),n=(c.getMonth()+1).toString().padStart(2,"0"),r=e.toString().padStart(2,"0"),s="".concat(t,"-").concat(n,"-").concat(r);return u.filter(e=>e.dateOfSurgery===s&&e.department===a&&"Case Cancelled"!==e.status)};return(0,C.jsxs)("div",{className:"booking-calendar",children:[(0,C.jsxs)("div",{className:"booking-calendar-header",children:[(0,C.jsxs)("div",{className:"calendar-title-row",children:[(0,C.jsx)("h2",{children:"\ud83d\udcc5 Booking Calendar"}),O&&(0,C.jsxs)("div",{className:"admin-country-selector",children:[(0,C.jsx)("label",{htmlFor:"calendar-country-select",children:"Country:"}),(0,C.jsx)("select",{id:"calendar-country-select",value:N||"",onChange:e=>j(e.target.value),className:"country-select",children:i.map(e=>(0,C.jsx)("option",{value:e,children:e},e))})]})]}),(0,C.jsxs)("p",{children:["View and manage case bookings by department",(0,C.jsxs)("span",{children:[" \u2022 Country: ",(0,C.jsx)("strong",{children:T})]}),"admin"!==(null===w||void 0===w?void 0:w.role)&&"it"!==(null===w||void 0===w?void 0:w.role)&&(0,C.jsx)("span",{children:" \u2022 Filtered by your assigned departments"})]})]}),(0,C.jsxs)("div",{className:"calendar-controls",children:[(0,C.jsxs)("div",{className:"department-selector",children:[(0,C.jsx)("label",{htmlFor:"department-select",children:"Department:"}),(0,C.jsx)(D,{id:"department-select",value:a,onChange:s,options:o,placeholder:"Search and select department",className:"form-control"})]}),(0,C.jsxs)("div",{className:"calendar-navigation",children:[(0,C.jsxs)("div",{className:"nav-arrows",children:[(0,C.jsx)("button",{onClick:()=>R("prev"),className:"nav-button",title:"Previous Month",children:"\u2190 Previous"}),(0,C.jsx)("button",{onClick:()=>R("next"),className:"nav-button",title:"Next Month",children:"Next \u2192"})]}),(0,C.jsxs)("div",{className:"month-year-display",children:[(0,C.jsxs)("h3",{className:"current-month",onClick:()=>E(!k),children:[(F=c,(e=>"".concat(["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]," ").concat(e.getFullYear()))(F)),(0,C.jsx)("span",{className:"dropdown-indicator",children:k?"\u25b2":"\u25bc"})]}),k&&(0,C.jsxs)("div",{className:"date-picker-controls",ref:I,children:[(0,C.jsxs)("div",{className:"month-year-selectors",children:[(0,C.jsxs)("div",{className:"selector-group",children:[(0,C.jsx)("label",{children:"Month:"}),(0,C.jsx)(D,{options:["January","February","March","April","May","June","July","August","September","October","November","December"].map((e,t)=>({value:t.toString(),label:e})),value:c.getMonth().toString(),onChange:e=>{d(t=>{const n=new Date(t);return n.setMonth(parseInt(e)),n})},placeholder:"Select Month",className:"month-selector"})]}),(0,C.jsxs)("div",{className:"selector-group",children:[(0,C.jsx)("label",{children:"Year:"}),(0,C.jsx)(D,{options:(()=>{const e=(new Date).getFullYear(),t=[];for(let n=e-5;n<=e+5;n++)t.push({value:n.toString(),label:n.toString()});return t})(),value:c.getFullYear().toString(),onChange:e=>{d(t=>{const n=new Date(t);return n.setFullYear(parseInt(e)),n})},placeholder:"Select Year",className:"year-selector"})]})]}),(0,C.jsxs)("div",{className:"quick-actions",children:[(0,C.jsx)("button",{onClick:()=>{d(new Date)},className:"today-button",title:"Go to current month",children:"\ud83d\udcc5 Today"}),(0,C.jsx)("button",{onClick:()=>E(!1),className:"close-picker-button",title:"Close date picker",children:"\u2715"})]})]})]})]})]}),(0,C.jsx)("div",{className:"calendar-content",children:a?(0,C.jsxs)("div",{className:"calendar-view",children:[(0,C.jsx)("div",{className:"calendar-department-info",children:(0,C.jsxs)("strong",{children:["Department: ",a]})}),(()=>{const e=(t=c,new Date(t.getFullYear(),t.getMonth()+1,0).getDate());var t;const r=(e=>new Date(e.getFullYear(),e.getMonth(),1).getDay())(c),a=new Date,s=a.getMonth()===c.getMonth()&&a.getFullYear()===c.getFullYear(),o=[],i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,C.jsx)("div",{className:"calendar-day-header",children:e},e));for(let n=0;n<r;n++)o.push((0,C.jsx)("div",{className:"calendar-day calendar-day-empty"},"empty-".concat(n)));for(let l=1;l<=e;l++){const e=s&&l===a.getDate(),t="calendar-day ".concat(e?"calendar-day-today":""),r=L(l);o.push((0,C.jsxs)("div",{className:t,children:[(0,C.jsx)("div",{className:"calendar-day-number",children:l}),(0,C.jsx)("div",{className:"calendar-day-content",children:(()=>{const e=r.sort((e,t)=>{const n=e.timeOfProcedure||"23:59",r=t.timeOfProcedure||"23:59";return n.localeCompare(r)}),t=e.slice(0,2),a=e.slice(2);return(0,C.jsxs)(C.Fragment,{children:[t.map((e,t)=>(0,C.jsxs)("div",{className:"booking-item",style:{backgroundColor:ni(e.status),color:"white"},title:"".concat(e.caseReferenceNumber," - ").concat(e.procedureType," at ").concat(e.hospital," - Dr. ").concat(e.doctorName," - Status: ").concat(e.status),onClick:()=>null===n||void 0===n?void 0:n(e.id),children:[(0,C.jsx)("div",{className:"booking-time",style:{color:"white",fontWeight:"bold"},children:e.timeOfProcedure||"TBD"}),(0,C.jsx)("div",{className:"booking-hospital",style:{fontSize:"9px",fontWeight:"bold",color:"white"},children:e.hospital}),(0,C.jsx)("div",{className:"booking-procedure",style:{fontSize:"10px",fontWeight:"500",color:"white"},children:e.procedureType}),(0,C.jsx)("div",{className:"booking-doctor",style:{fontSize:"9px",color:"white",opacity:.9},children:e.doctorName||"TBD"})]},"".concat(e.id,"-").concat(t))),a.length>0&&(0,C.jsxs)("div",{className:"more-cases-button",onClick:()=>{const e=c.getFullYear(),t=(c.getMonth()+1).toString().padStart(2,"0"),n=l.toString().padStart(2,"0"),r="".concat(n,"/").concat(t,"/").concat(e);v({date:r,cases:a}),b(1),h(!0)},children:["+",a.length," More Case",a.length>1?"s":""]})]})})()})]},l))}return(0,C.jsxs)("div",{className:"calendar-grid",children:[i,o]})})()]}):(0,C.jsx)("div",{className:"no-department-selected",children:(0,C.jsx)("p",{children:"Please select a department to view the booking calendar."})})}),m&&(0,C.jsx)("div",{className:"more-cases-modal-overlay",onClick:()=>h(!1),children:(0,C.jsxs)("div",{className:"more-cases-modal",onClick:e=>e.stopPropagation(),children:[(0,C.jsxs)("div",{className:"more-cases-header",children:[(0,C.jsxs)("h3",{children:["Additional Cases for ",f.date]}),(0,C.jsx)("button",{className:"close-button",onClick:()=>h(!1),children:"\u2715"})]}),(0,C.jsxs)("div",{className:"more-cases-content",children:[(0,C.jsx)("div",{className:"more-cases-grid",children:(()=>{const e=10*y,t=e-10;return f.cases.slice(t,e)})().map((e,t)=>(0,C.jsxs)("div",{className:"more-case-item",style:{backgroundColor:ni(e.status),color:"white"},onClick:()=>{null===n||void 0===n||n(e.id),h(!1)},children:[(0,C.jsx)("div",{className:"more-case-time",style:{color:"white",fontWeight:"bold"},children:e.timeOfProcedure||"TBD"}),(0,C.jsxs)("div",{className:"more-case-info",children:[(0,C.jsx)("div",{className:"more-case-hospital",style:{fontWeight:"bold",color:"white",fontSize:"12px"},children:e.hospital}),(0,C.jsx)("div",{className:"more-case-procedure",style:{fontWeight:"500",fontSize:"13px",color:"white"},children:e.procedureType}),(0,C.jsxs)("div",{className:"more-case-details",children:[(0,C.jsxs)("span",{style:{color:"white"},children:["Dr. ",e.doctorName||"TBD"]}),(0,C.jsx)("span",{className:"case-ref",style:{color:"white",opacity:.9},children:e.caseReferenceNumber})]}),(0,C.jsx)("div",{className:"more-case-status",style:{color:"white",fontWeight:"bold"},children:e.status})]})]},"more-".concat(e.id,"-").concat(t)))}),_>1&&(0,C.jsxs)("div",{className:"more-cases-pagination",children:[(0,C.jsxs)("div",{className:"pagination-info",children:["Showing ",10*(y-1)+1," to ",Math.min(10*y,f.cases.length)," of ",f.cases.length," cases"]}),(0,C.jsxs)("div",{className:"pagination-controls",children:[(0,C.jsx)("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>M(y-1),disabled:1===y,children:"Previous"}),[...Array(_)].map((e,t)=>{const n=t+1;return 1===n||n===_||n>=y-1&&n<=y+1?(0,C.jsx)("button",{className:"btn btn-sm ".concat(n===y?"btn-primary":"btn-outline-secondary"),onClick:()=>M(n),children:n},n):n===y-2||n===y+2?(0,C.jsx)("span",{className:"pagination-ellipsis",children:"..."},n):null}),(0,C.jsx)("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>M(y+1),disabled:y===_,children:"Next"})]})]})]})]})})]});var F},Fi=e=>{const t=[],n=[];return e.forEach(e=>{"countries"===e.id?n.push(e):("hospitals"===e.id||e.id,t.push(e))}),{countryBased:t,global:n}},Bi=(e,t)=>t?"admin"===t.role||"it"===t.role?e:e.filter(e=>{var n;return null===(n=t.countries)||void 0===n?void 0:n.includes(e)}):[],Hi=()=>{const{modal:e,closeModal:t,showConfirm:n}=Q(),[a,s]=(0,r.useState)([]),[l,c]=(0,r.useState)([]),[d,u]=(0,r.useState)([]),[p,m]=(0,r.useState)(""),[h,f]=(0,r.useState)(""),[y,b]=(0,r.useState)("global"),[x,w]=(0,r.useState)(!1),[k,E]=(0,r.useState)(""),[I,P]=(0,r.useState)(null),[A,O]=(0,r.useState)(""),[T,_]=(0,r.useState)(""),[M,R]=(0,r.useState)([]),[L,F]=(0,r.useState)(!1),{showSuccess:B}=vi(),{playSound:H}=mi(),z=g(),U=!!z&&(0,Ko._m)(z.role,"code-table-setup"),Y=(0,r.useCallback)(e=>((e,t)=>t?"admin"===t.role||"it"===t.role?e:e.map(e=>"countries"===e.id&&t.countries&&t.countries.length>0?(0,o.A)((0,o.A)({},e),{},{items:e.items.filter(e=>{var n;return null===(n=t.countries)||void 0===n?void 0:n.includes(e)})}):e):e)(e,z),[z]);(0,r.useEffect)(()=>{if(z&&!h){var e;const t=z.selectedCountry||(null===(e=z.countries)||void 0===e?void 0:e[0])||"Singapore";f(t)}},[z,h]),(0,r.useEffect)(()=>{N();const e=v().find(e=>"countries"===e.id),t=e&&e.items.length>0?e.items:[...i];if(R(t),!h&&z){var n;const e=z.selectedCountry||(null===(n=z.countries)||void 0===n?void 0:n[0])||t[0];t.includes(e)?f(e):t.length>0&&f(t[0])}},[z]),(0,r.useEffect)(()=>{N();const e=v(),{global:t}=Fi(e),n=Y(t);if(u(n),h){m(""),w(!1),P(null),j(h);const e=v(h),t=Y(e);c(t),s([...n,...t])}else c([]),s(n)},[h,Y]),(0,r.useEffect)(()=>{if(!p){const e="global"===y?d:l;e.length>0&&m(e[0].id)}},[y,d,l,p]),(0,r.useEffect)(()=>{if(!L&&a.length>0&&U&&("admin"===(null===z||void 0===z?void 0:z.role)||"it"===(null===z||void 0===z?void 0:z.role))){const{countryBased:e,global:t}=Fi(a);t.length>0&&S(t),e.length>0&&h&&S(e,h)}L&&F(!1)},[a,U,null===z||void 0===z?void 0:z.role,h,L]);const W=()=>a.find(e=>e.id===p),q=(e,t)=>{const n=t.trim(),r=W();if(!n)return void _("Item name is required");if(!r)return void _("No table selected");if(n!==e&&r.items.includes(n))return void _("This item already exists in the table");const a="global"===y;F(!0),a?u(t=>{const r=t.map(t=>t.id===p?(0,o.A)((0,o.A)({},t),{},{items:t.items.map(t=>t===e?n:t)}):t);return S(r),r}):c(t=>{const r=t.map(t=>t.id===p?(0,o.A)((0,o.A)({},t),{},{items:t.items.map(t=>t===e?n:t)}):t);return S(r,h),r}),s(t=>t.map(t=>t.id===p?(0,o.A)((0,o.A)({},t),{},{items:t.items.map(t=>t===e?n:t)}):t)),P(null),O(""),_(""),H.success(),B("Item Updated",'"'.concat(e,'" has been renamed to "').concat(n,'"'))},K=(e,t)=>{const n="global"===y;F(!0),n?u(t=>{const n=t.map(t=>t.id===p?(0,o.A)((0,o.A)({},t),{},{items:t.items.filter(t=>t!==e)}):t);return S(n),n}):c(t=>{const n=t.map(t=>t.id===p?(0,o.A)((0,o.A)({},t),{},{items:t.items.filter(t=>t!==e)}):t);return S(n,h),n}),s(t=>t.map(t=>t.id===p?(0,o.A)((0,o.A)({},t),{},{items:t.items.filter(t=>t!==e)}):t)),H.delete(),B("Item Deleted",'"'.concat(e,'" has been removed from ').concat(t.name))};if(!U)return(0,C.jsx)("div",{className:"code-table-setup",children:(0,C.jsxs)("div",{className:"permission-denied-message",children:[(0,C.jsx)("h3",{children:"Access Denied"}),(0,C.jsx)("p",{children:"You don't have permission to access Code Table Setup."}),(0,C.jsx)("p",{children:"Please contact your administrator to request access."})]})});const J=W();return(0,C.jsxs)("div",{className:"code-table-setup",children:[(0,C.jsxs)("div",{className:"code-table-header",children:[(0,C.jsx)("h2",{children:"Code Table Setup"}),(0,C.jsx)("p",{children:"Manage system reference data and lookup tables"})]}),("admin"===(null===z||void 0===z?void 0:z.role)||"it"===(null===z||void 0===z?void 0:z.role))&&"country"===y&&(0,C.jsxs)("div",{className:"country-selector",children:[(0,C.jsxs)("div",{className:"country-selector-header",children:[(0,C.jsx)("h3",{children:"\ud83c\udf0d Select Country:"}),(0,C.jsx)("p",{children:"Country-based code tables are managed separately for each country"})]}),(0,C.jsx)("div",{className:"country-dropdown",children:(0,C.jsx)(D,{options:Bi(M,z),value:h,onChange:e=>f(e),placeholder:"Select a country...",className:"country-select-dropdown"})})]}),(0,C.jsxs)("div",{className:"category-selector",children:[(0,C.jsxs)("div",{className:"category-selector-header",children:[(0,C.jsx)("h3",{children:"\ud83d\udcca Code Table Categories:"}),(0,C.jsx)("p",{children:"Select the type of code tables to manage"})]}),(0,C.jsxs)("div",{className:"category-tabs",children:[(0,C.jsxs)("button",{onClick:()=>{if(b("country"),m(""),!h&&M.length>0){var e;const t=(null===z||void 0===z?void 0:z.selectedCountry)||(null===z||void 0===z||null===(e=z.countries)||void 0===e?void 0:e[0])||M[0];f(t)}},className:"category-tab ".concat("country"===y?"active":""),disabled:0===M.length,title:0===M.length?"No countries available":"Manage country-specific tables",children:["\ud83c\udfe5 Country-Based Tables",(0,C.jsxs)("span",{className:"category-count",children:["(",l.length,")"]})]}),(0,C.jsxs)("button",{onClick:()=>{b("global"),m("")},className:"category-tab ".concat("global"===y?"active":""),title:"Manage tables that apply to all countries",children:["\ud83c\udf0d Global Tables",(0,C.jsxs)("span",{className:"category-count",children:["(",d.length,")"]})]})]})]}),"global"===y&&d.length>0||"country"===y&&h&&l.length>0?(0,C.jsxs)("div",{className:"table-selector",children:[(0,C.jsxs)("div",{className:"table-selector-header",children:[(0,C.jsx)("h3",{children:"global"===y?"\ud83c\udf0d Select Global Code Table:":"\ud83c\udfe5 Select Code Table for ".concat(h,":")}),(0,C.jsx)("p",{children:"global"===y?"These tables apply to all countries":"These tables are specific to the selected country"})]}),(0,C.jsx)("div",{className:"table-dropdown",children:(0,C.jsx)(D,{options:("global"===y?d:l).map(e=>({value:e.id,label:"".concat(e.name," (").concat(e.items.length,")")})),value:p,onChange:m,placeholder:"Select a code table...",className:"table-select-dropdown"})})]}):(0,C.jsx)("div",{className:"table-selector",children:(0,C.jsx)("div",{style:{padding:"2rem",textAlign:"center",background:"#f8f9fa",borderRadius:"8px",border:"1px solid #dee2e6",color:"#6c757d"},children:"global"===y?(0,C.jsxs)("div",{children:[(0,C.jsx)("h4",{children:"\ud83c\udf0d No Global Tables Available"}),(0,C.jsx)("p",{children:"Global tables are being loaded or there are no global tables configured."}),(0,C.jsx)("button",{onClick:()=>{console.log("Reinitializing global tables..."),N(),window.location.reload()},className:"btn btn-secondary",children:"Reinitialize Tables"})]}):(0,C.jsxs)("div",{children:[(0,C.jsxs)("h4",{children:["\ud83c\udfe5 ",h?"No Tables Available for ".concat(h):"Select a Country First"]}),(0,C.jsx)("p",{children:h?"Country-based tables are being loaded or there are no tables configured for this country.":"Please select a country above to view and manage country-based tables."}),h&&(0,C.jsxs)("button",{onClick:()=>{console.log("Reinitializing tables for ".concat(h,"...")),j(h),window.location.reload()},className:"btn btn-secondary",children:["Reinitialize ",h," Tables"]})]})})}),J&&(0,C.jsxs)("div",{className:"table-content",children:[(0,C.jsxs)("div",{className:"table-content-header",children:[(0,C.jsxs)("div",{className:"table-info",children:[(0,C.jsx)("h3",{children:J.name}),(0,C.jsx)("p",{children:J.description}),(0,C.jsxs)("span",{className:"item-count",children:[J.items.length," items"]})]}),(0,C.jsx)("button",{className:"btn btn-primary btn-sm add-item-button",onClick:()=>w(!0),title:"Add new item",children:"+ Add Item"})]}),x&&(0,C.jsxs)("div",{className:"add-item-form",children:[(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{htmlFor:"itemName",children:"Item Name:"}),(0,C.jsx)("input",{type:"text",id:"itemName",value:k,onChange:e=>{E(e.target.value),_("")},placeholder:"Enter item name",maxLength:100}),T&&(0,C.jsx)("span",{className:"error-message",children:T})]}),(0,C.jsxs)("div",{className:"form-actions",children:[(0,C.jsx)("button",{className:"btn btn-primary btn-sm",onClick:()=>{const e=k.trim(),t=W();if(!e)return void _("Item name is required");if(!t)return void _("No table selected");if(t.items.includes(e))return void _("This item already exists in the table");if(e.length<1)return void _("Item name must be at least 1 character");const n="global"===y;F(!0),n?u(t=>{const n=t.map(t=>t.id===p?(0,o.A)((0,o.A)({},t),{},{items:[...t.items,e]}):t);return S(n),n}):c(t=>{const n=t.map(t=>t.id===p?(0,o.A)((0,o.A)({},t),{},{items:[...t.items,e]}):t);return S(n,h),n}),s(t=>t.map(t=>t.id===p?(0,o.A)((0,o.A)({},t),{},{items:[...t.items,e]}):t)),E(""),w(!1),_(""),H.success(),B("Item Added",'"'.concat(e,'" has been added to ').concat(t.name))},disabled:!k.trim(),children:"Add Item"}),(0,C.jsx)("button",{className:"btn btn-secondary btn-sm",onClick:()=>{w(!1),E(""),_("")},children:"Cancel"})]})]}),(0,C.jsx)("div",{className:"items-list",children:0===J.items.length?(0,C.jsxs)("div",{className:"empty-state",children:[(0,C.jsx)("p",{children:"No items in this table yet."}),(0,C.jsx)("button",{className:"btn btn-primary btn-sm",onClick:()=>w(!0),children:"Add First Item"})]}):(0,C.jsx)("div",{className:"items-grid",children:J.items.sort().map((e,t)=>(0,C.jsx)("div",{className:"item-card",children:I===e?(0,C.jsxs)("div",{className:"edit-item-form",children:[(0,C.jsx)("input",{type:"text",value:A,onChange:e=>O(e.target.value),onKeyPress:t=>{"Enter"===t.key&&q(e,A)},autoFocus:!0}),(0,C.jsxs)("div",{className:"edit-actions",children:[(0,C.jsx)("button",{className:"btn btn-primary btn-sm",onClick:()=>q(e,A),disabled:!A.trim(),children:"Save"}),(0,C.jsx)("button",{className:"btn btn-secondary btn-sm",onClick:()=>{P(null),O("")},children:"Cancel"})]})]}):(0,C.jsxs)("div",{className:"item-display",children:[(0,C.jsx)("span",{className:"item-name",children:e}),(0,C.jsxs)("div",{className:"item-actions",children:[(0,C.jsx)("button",{className:"btn btn-outline-primary btn-sm",onClick:()=>{return P(t=e),void O(t);var t},title:"Edit item",children:"\u270f\ufe0f"}),(0,C.jsx)("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>(e=>{const t=W();if(!t)return;const r=(e=>"global"===e)(y),a=((e,t,n,r)=>n?{first:{title:"\u26a0\ufe0f Global Table Warning",message:'\u26a0\ufe0f WARNING: You are about to delete "'.concat(e,'" from ').concat(t,".\n\nThis is a GLOBAL table that affects ALL countries!\n\nAre you sure you want to continue?")},second:{title:"\ud83d\udea8 Final Confirmation Required",message:'\ud83d\udea8 FINAL CONFIRMATION\n\nDeleting "'.concat(e,'" from the global ').concat(t," table will:\n\n\u2022 Remove it from ALL countries permanently\n\u2022 Potentially affect existing users and data\n\u2022 Cannot be undone\n\nThis action is irreversible.")}}:{single:{title:"Delete Item",message:'Are you sure you want to delete "'.concat(e,'" from ').concat(t,"?\n\nThis will only affect ").concat(r," and cannot be undone.")}})(e,t.name,r,h);r&&a.first&&a.second?n(a.first.title,a.first.message,()=>{n(a.second.title,a.second.message,()=>{K(e,t)})}):a.single&&n(a.single.title,a.single.message,()=>{K(e,t)})})(e),title:"Delete item",children:"\ud83d\uddd1\ufe0f"})]})]})},t))})})]}),(0,C.jsx)(V,{isOpen:e.isOpen,onClose:t,title:e.title,message:e.message,type:e.type,actions:"confirm"===e.type?[{label:"Cancel",onClick:t,style:"secondary"},{label:"Delete",onClick:e.onConfirm||t,style:"danger"}]:void 0})]})},zi=e=>{let{user:t,onClose:n}=e;const[a,s]=(0,r.useState)(100);(0,r.useEffect)(()=>{const e=setInterval(()=>{s(t=>t<=0?(clearInterval(e),n(),0):t-100/30)},100);return()=>clearInterval(e)},[n]),(0,r.useEffect)(()=>{const e=e=>{"Escape"===e.key&&n()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[n]);return(0,C.jsx)("div",{className:"popup-overlay",onClick:e=>{e.target===e.currentTarget&&n()},children:(0,C.jsxs)("div",{className:"welcome-popup",children:[(0,C.jsx)("div",{className:"popup-icon",children:(0,C.jsx)("div",{className:"success-icon",children:"\u2713"})}),(0,C.jsxs)("div",{className:"popup-content",children:[(0,C.jsx)("h2",{children:"Welcome to Transmedic Case Booking"}),(0,C.jsxs)("p",{children:["You have successfully logged in to ",t.selectedCountry||"the system","."]}),(0,C.jsxs)("div",{className:"progress-container",children:[(0,C.jsx)("p",{children:"This popup will automatically close in 3 seconds"}),(0,C.jsx)("div",{className:"progress-bar",children:(0,C.jsx)("div",{className:"progress-fill",style:{width:"".concat(a,"%")}})})]})]}),(0,C.jsx)("button",{onClick:n,className:"btn btn-primary btn-md popup-close-button",children:"Ok"})]})})},Ui=e=>{var t;let{roles:n,actions:a,permissions:s,onPermissionChange:o,readonly:i=!1}=e;const[l,c]=(0,r.useState)("all"),[d,u]=(0,r.useState)(""),[p,m]=(0,r.useState)(null),h=Array.from(new Set(a.map(e=>e.category))),f=a.filter(e=>{const t="all"===l||e.category===l,n=e.name.toLowerCase().includes(d.toLowerCase())||e.description.toLowerCase().includes(d.toLowerCase());return t&&n}),g=(e,t)=>s.find(n=>n.actionId===e&&n.roleId===t),v=e=>e?"\u2713":"\u2715",y=()=>{m(null)};return(0,r.useEffect)(()=>{const e=e=>{"Escape"===e.key&&p&&y()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[p]),(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)("div",{className:"permission-matrix",children:[(0,C.jsxs)("div",{className:"permission-matrix-header",children:[(0,C.jsx)("h2",{children:"Role-Based Permission Matrix"}),(0,C.jsxs)("div",{className:"permission-controls",children:[(0,C.jsxs)("div",{className:"category-filter",children:[(0,C.jsx)("label",{htmlFor:"category-select",children:"Filter by Category:"}),(0,C.jsxs)("select",{id:"category-select",value:l,onChange:e=>c(e.target.value),children:[(0,C.jsx)("option",{value:"all",children:"All Categories"}),h.map(e=>(0,C.jsx)("option",{value:e,children:e},e))]})]}),(0,C.jsxs)("div",{className:"search-filter",children:[(0,C.jsx)("label",{htmlFor:"search-input",children:"Search Actions:"}),(0,C.jsx)("input",{id:"search-input",type:"text",value:d,onChange:e=>u(e.target.value),placeholder:"Search actions..."})]})]})]}),(0,C.jsx)("div",{className:"permission-matrix-table-container",children:(0,C.jsxs)("table",{className:"permission-matrix-table",children:[(0,C.jsx)("thead",{children:(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{className:"action-column",children:(0,C.jsxs)("div",{className:"action-header",children:[(0,C.jsx)("span",{children:"Actions & Permissions"}),(0,C.jsxs)("small",{children:[f.length," actions"]})]})}),n.map(e=>(0,C.jsx)("th",{className:"role-column",children:(0,C.jsxs)("div",{className:"role-header",style:{backgroundColor:e.color},children:[(0,C.jsx)("span",{className:"role-name",children:e.displayName}),(0,C.jsx)("button",{className:"role-summary-button",onClick:()=>{return t=e.id,void m(t);var t},title:"View permission summary for ".concat(e.displayName),children:"Details"})]})},e.id))]})}),(0,C.jsx)("tbody",{children:f.map(e=>(0,C.jsxs)("tr",{className:"permission-row",children:[(0,C.jsx)("td",{className:"action-cell",children:(0,C.jsxs)("div",{className:"action-info",children:[(0,C.jsx)("span",{className:"action-name",children:e.name}),(0,C.jsx)("small",{className:"action-description",children:e.description}),(0,C.jsx)("span",{className:"action-category","data-category":e.category,children:e.category})]})}),n.map(t=>{const n=g(e.id,t.id),r=(null===n||void 0===n?void 0:n.allowed)||!1;return(0,C.jsxs)("td",{className:"permission-cell",children:[(0,C.jsx)("button",{className:"permission-toggle ".concat((a=r,a?"permission-allowed":"permission-denied")," ").concat(i?"readonly":""),onClick:()=>((e,t)=>{if(i||!o)return;const n=g(e,t),r=!(null!==n&&void 0!==n&&n.allowed);o(e,t,r)})(e.id,t.id),disabled:i,title:"".concat(r?"Allowed":"Denied"," for ").concat(t.displayName),children:(0,C.jsx)("span",{className:"permission-icon",children:v(r)})}),(null===n||void 0===n?void 0:n.conditions)&&n.conditions.length>0&&(0,C.jsx)("div",{className:"permission-conditions",children:(0,C.jsx)("small",{children:"Conditions apply"})})]},"".concat(e.id,"-").concat(t.id));var a})]},e.id))})]})}),(0,C.jsxs)("div",{className:"permission-matrix-legend",children:[(0,C.jsxs)("div",{className:"legend-item",children:[(0,C.jsx)("span",{className:"legend-icon permission-allowed",children:"\u2713"}),(0,C.jsx)("span",{children:"Allowed"})]}),(0,C.jsxs)("div",{className:"legend-item",children:[(0,C.jsx)("span",{className:"legend-icon permission-denied",children:"\u2715"}),(0,C.jsx)("span",{children:"Denied"})]}),(0,C.jsxs)("div",{className:"legend-item",children:[(0,C.jsx)("span",{className:"legend-text",children:"Conditions apply"}),(0,C.jsx)("span",{children:"Additional requirements must be met"})]})]}),p&&(0,C.jsx)("div",{className:"role-summary-overlay",onClick:y,children:(0,C.jsxs)("div",{className:"role-summary-modal",onClick:e=>e.stopPropagation(),children:[(0,C.jsxs)("div",{className:"role-summary-header",children:[(0,C.jsx)("h3",{children:null===(t=n.find(e=>e.id===p))||void 0===t?void 0:t.displayName}),(0,C.jsx)("button",{className:"role-summary-close",onClick:y,"aria-label":"Close summary",children:"\u2715"})]}),(0,C.jsx)("div",{className:"role-summary-content",children:(()=>{const e=(e=>{const t=s.filter(t=>t.roleId===e&&t.allowed).map(e=>a.find(t=>t.id===e.actionId)).filter(Boolean),n=t.reduce((e,t)=>t?(e[t.category]||(e[t.category]=[]),e[t.category].push(t),e):e,{});return{total:t.length,byCategory:n,allPermissions:t}})(p),t=n.find(e=>e.id===p);return(0,C.jsxs)("div",{children:[(0,C.jsxs)("div",{className:"role-summary-stats",children:[(0,C.jsxs)("div",{className:"stat-card",children:[(0,C.jsx)("div",{className:"stat-number",children:e.total}),(0,C.jsx)("div",{className:"stat-label",children:"Total Permissions"})]}),(0,C.jsxs)("div",{className:"stat-card",children:[(0,C.jsx)("div",{className:"stat-number",children:Object.keys(e.byCategory).length}),(0,C.jsx)("div",{className:"stat-label",children:"Categories"})]}),(0,C.jsxs)("div",{className:"stat-card",children:[(0,C.jsxs)("div",{className:"stat-number",children:[Math.round(e.total/a.length*100),"%"]}),(0,C.jsx)("div",{className:"stat-label",children:"Coverage"})]})]}),(0,C.jsxs)("div",{className:"role-summary-description",children:[(0,C.jsx)("h4",{children:"Role Description"}),(0,C.jsx)("p",{children:null===t||void 0===t?void 0:t.description})]}),(0,C.jsxs)("div",{className:"permissions-by-category",children:[(0,C.jsx)("h4",{children:"Permissions by Category"}),Object.entries(e.byCategory).map(e=>{let[t,n]=e;return(0,C.jsxs)("div",{className:"category-section",children:[(0,C.jsxs)("h5",{className:"category-title",children:[t," (",n.length,")"]}),(0,C.jsx)("div",{className:"permission-list",children:n.map(e=>(0,C.jsxs)("div",{className:"permission-item",children:[(0,C.jsx)("span",{className:"permission-name",children:e.name}),(0,C.jsx)("span",{className:"permission-description",children:e.description})]},e.id))})]},t)}),0===e.total&&(0,C.jsx)("div",{className:"no-permissions",children:(0,C.jsx)("p",{children:"This role has no permissions assigned."})})]})]})})()})]})})]})})},Yi=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(!1),[s,i]=(0,r.useState)([]),{modal:l,closeModal:c,showConfirm:d,showSuccess:u}=Q();(0,r.useEffect)(()=>{const e=(0,Ko.L_)();i(e);const n=(0,Qo.getRuntimePermissions)(),r=n.find(e=>"admin"===e.roleId&&"code-table-setup"===e.actionId);if(console.log("Admin code-table-setup permission:",r),r&&r.allowed)t(n);else{console.log("Admin code-table-setup permission missing or disabled, fixing..."),(0,Qo.updatePermission)("admin","code-table-setup",!0);const e=(0,Qo.getRuntimePermissions)();t(e)}},[]);return(0,C.jsxs)("div",{className:"permission-matrix-page",children:[(0,C.jsxs)("div",{className:"page-header",children:[(0,C.jsxs)("div",{className:"header-content",children:[(0,C.jsx)("div",{className:"header-title-section",children:(0,C.jsx)("h1",{children:"Permission Management"})}),(0,C.jsx)("div",{className:"header-description-section",children:(0,C.jsx)("p",{children:"Configure role-based access control for the Case Booking Application"})})]}),(0,C.jsxs)("div",{className:"header-actions",children:[(0,C.jsx)("button",{className:"export-button",onClick:()=>{const t=JSON.stringify(e,null,2),n="data:application/json;charset=utf-8,"+encodeURIComponent(t),r="permissions_".concat((new Date).toISOString().split("T")[0],".json"),a=document.createElement("a");a.setAttribute("href",n),a.setAttribute("download",r),a.click()},children:"Export Permissions"}),n?(0,C.jsxs)("div",{className:"edit-actions",children:[(0,C.jsx)("button",{className:"save-button",onClick:()=>{const t=e.filter(e=>e.allowed).length,n="Are you sure you want to save the current permission configuration?\n\nThis will update ".concat(t," permission(s) and affect system access immediately.");d("Confirm Save Changes",n,()=>{(0,Qo.saveRuntimePermissions)(e),a(!1),u("Permissions saved successfully!")})},children:"Save Changes"}),(0,C.jsx)("button",{className:"cancel-button",onClick:()=>{(0,Qo.resetPermissions)();const e=(0,Qo.getRuntimePermissions)();t(e),a(!1)},children:"Cancel"})]}):(0,C.jsx)("button",{className:"edit-button",onClick:()=>a(!0),children:"Edit Permissions"})]})]}),(0,C.jsx)(Ui,{roles:s,actions:Ko.$r,permissions:e,onPermissionChange:n?(e,n,r)=>{(0,Qo.updatePermission)(n,e,r),t(t=>{const a=t.findIndex(t=>t.actionId===e&&t.roleId===n);if(a>=0){const e=[...t];return e[a]=(0,o.A)((0,o.A)({},e[a]),{},{allowed:r}),e}return[...t,{actionId:e,roleId:n,allowed:r}]})}:void 0,readonly:!n}),(0,C.jsxs)("div",{className:"permission-notes",children:[(0,C.jsx)("h3",{children:"Role Definitions"}),(0,C.jsx)("div",{className:"role-definitions",children:s.map(e=>(0,C.jsxs)("div",{className:"role-definition",children:[(0,C.jsx)("div",{className:"role-badge",style:{backgroundColor:e.color},children:e.displayName}),(0,C.jsx)("p",{children:e.description})]},e.id))}),(0,C.jsxs)("div",{className:"system-notes",children:[(0,C.jsx)("h4",{children:"Important Notes:"}),(0,C.jsxs)("ul",{children:[(0,C.jsxs)("li",{children:[(0,C.jsx)("strong",{children:"Admin"})," role has full access to all system functions"]}),(0,C.jsxs)("li",{children:[(0,C.jsx)("strong",{children:"Status transitions"})," follow a strict workflow order"]}),(0,C.jsxs)("li",{children:[(0,C.jsx)("strong",{children:"File operations"})," are tied to specific role responsibilities"]}),(0,C.jsxs)("li",{children:[(0,C.jsx)("strong",{children:"User management"})," is restricted to Admin role only"]}),(0,C.jsxs)("li",{children:[(0,C.jsx)("strong",{children:"System settings"})," require Admin or IT role access"]})]})]})]}),(0,C.jsx)(V,{isOpen:l.isOpen,onClose:c,title:l.title,message:l.message,type:l.type,actions:"confirm"===l.type?[{label:"Cancel",onClick:c,style:"secondary"},{label:"Confirm",onClick:l.onConfirm||c,style:"primary"}]:void 0,autoClose:"success"===l.type,autoCloseDelay:3e3})]})},Wi=()=>{const e=g(),{notifications:t}=$o(),[n,a]=(0,r.useState)([]),[s,i]=(0,r.useState)([]),[l,c]=(0,r.useState)(1),[d]=(0,r.useState)(20),[u,p]=(0,r.useState)(!1),[m,h]=(0,r.useState)({category:"",action:"",user:"",status:"",dateFrom:"",dateTo:""}),[f,v]=(0,r.useState)({category:"",action:"",user:"",status:"",dateFrom:"",dateTo:""}),y=!!e&&(0,Qo.hasPermission)(e.role,Qo.PERMISSION_ACTIONS.AUDIT_LOGS),b=(0,r.useCallback)(()=>{const e=[{id:"sys001",timestamp:(new Date).toISOString(),user:"System",action:"Application Started",category:"System",target:"Application",details:"Case booking application initialized",ipAddress:"127.0.0.1",status:"success"},{id:"sys002",timestamp:new Date(Date.now()-36e5).toISOString(),user:"System",action:"Permission Check",category:"Security",target:"Permission Matrix",details:"Audit logs permission verified",ipAddress:"127.0.0.1",status:"success"}],n=t.map((e,t)=>({id:"notif-".concat(t),timestamp:e.timestamp,user:e.title.includes("User")?"Admin":"System",action:e.title,category:w(e.title),target:S(e.message),details:e.message,ipAddress:"192.168.1.100",status:"error"===e.type?"error":"warning"===e.type?"warning":"success"})),r=[...e,...n].sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime());a(r)},[t]),x=(0,r.useCallback)(()=>{let e=n;m.category&&(e=e.filter(e=>e.category===m.category)),m.action&&(e=e.filter(e=>e.action.toLowerCase().includes(m.action.toLowerCase()))),m.user&&(e=e.filter(e=>e.user.toLowerCase().includes(m.user.toLowerCase()))),m.status&&(e=e.filter(e=>e.status===m.status)),m.dateFrom&&(e=e.filter(e=>new Date(e.timestamp)>=new Date(m.dateFrom))),m.dateTo&&(e=e.filter(e=>new Date(e.timestamp)<=new Date(m.dateTo+"T23:59:59"))),i(e),c(1)},[n,m]);(0,r.useEffect)(()=>{y&&b()},[y,b]),(0,r.useEffect)(()=>{x()},[x]);const w=e=>e.includes("User")?"User Management":e.includes("Case")?"Case Management":e.includes("Status")?"Status Change":e.includes("Permission")?"Security":"System",S=e=>{const t=e.match(/TMC\d+/);if(t)return t[0];const n=e.match(/(\w+\s+\w+)\s*\(/);return n?n[1]:"System"},N=(e,t)=>{v(n=>(0,o.A)((0,o.A)({},n),{},{[e]:t}))},j=()=>{const e={category:"",action:"",user:"",status:"",dateFrom:"",dateTo:""};v(e),h(e)};(0,r.useEffect)(()=>{v((0,o.A)({},m))},[m]);const k=Math.ceil(s.length/d),E=e=>{c(e)},I=e=>{switch(e){case"success":return"status-badge success";case"warning":return"status-badge warning";case"error":return"status-badge error";default:return"status-badge"}},P=e=>{const t=new Date(e);if(isNaN(t.getTime()))return"Invalid Date";const n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][t.getDay()],r=t.getDate().toString().padStart(2,"0"),a=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getFullYear(),o=t.getHours().toString().padStart(2,"0"),i=t.getMinutes().toString().padStart(2,"0");return"".concat(n,", ").concat(r,"/").concat(a,"/").concat(s," ").concat(o,":").concat(i)};return y?(0,C.jsxs)("div",{className:"audit-logs",children:[(0,C.jsxs)("div",{className:"audit-logs-header",children:[(0,C.jsxs)("div",{className:"header-content",children:[(0,C.jsx)("h2",{children:"\ud83d\udcca System Audit Logs"}),(0,C.jsx)("p",{children:"Complete audit trail of all system activities and user actions"})]}),(0,C.jsxs)("div",{className:"header-stats",children:[(0,C.jsxs)("div",{className:"stat-item",children:[(0,C.jsx)("span",{className:"stat-value",children:s.length}),(0,C.jsx)("span",{className:"stat-label",children:"Total Entries"})]}),(0,C.jsxs)("div",{className:"stat-item",children:[(0,C.jsx)("span",{className:"stat-value",children:new Set(s.map(e=>e.user)).size}),(0,C.jsx)("span",{className:"stat-label",children:"Active Users"})]})]})]}),(0,C.jsxs)("div",{className:"modern-filters-section",children:[(0,C.jsxs)("div",{className:"filters-header",onClick:()=>p(!u),children:[(0,C.jsxs)("div",{className:"filters-title",children:[(0,C.jsx)("h3",{children:"\ud83d\udd0d Advanced Filters"}),(0,C.jsx)("span",{className:"active-filters-count",children:Object.values(f).some(e=>e)&&"(".concat(Object.values(f).filter(e=>e).length," active)")})]}),(0,C.jsx)("button",{className:"btn btn-outline-secondary btn-sm filters-toggle ".concat(u?"expanded":""),children:u?"\u25b2":"\u25bc"})]}),u&&(0,C.jsxs)("div",{className:"filters-content",children:[(0,C.jsxs)("div",{className:"filters-grid",children:[(0,C.jsxs)("div",{className:"filter-category",children:[(0,C.jsx)("h4",{children:"\ud83d\udd0e Search"}),(0,C.jsxs)("div",{className:"filter-row",children:[(0,C.jsxs)("div",{className:"modern-filter-group",children:[(0,C.jsx)("label",{children:"User"}),(0,C.jsxs)("div",{className:"filter-input-wrapper",children:[(0,C.jsx)(D,{options:[{value:"",label:"All Users"},...Array.from(new Set(n.map(e=>e.user))).map(e=>({value:e,label:e}))],value:f.user,onChange:e=>N("user",e),placeholder:"All Users"}),(0,C.jsx)("span",{className:"filter-icon",children:"\ud83d\udc64"})]})]}),(0,C.jsxs)("div",{className:"modern-filter-group",children:[(0,C.jsx)("label",{children:"Action"}),(0,C.jsxs)("div",{className:"filter-input-wrapper",children:[(0,C.jsx)(D,{options:[{value:"",label:"All Actions"},...Array.from(new Set(n.map(e=>e.action))).map(e=>({value:e,label:e}))],value:f.action,onChange:e=>N("action",e),placeholder:"All Actions"}),(0,C.jsx)("span",{className:"filter-icon",children:"\u26a1"})]})]})]})]}),(0,C.jsxs)("div",{className:"filter-category",children:[(0,C.jsx)("h4",{children:"\ud83d\udcca Status & Category"}),(0,C.jsxs)("div",{className:"filter-row",children:[(0,C.jsxs)("div",{className:"modern-filter-group",children:[(0,C.jsx)("label",{children:"Category"}),(0,C.jsxs)("div",{className:"filter-input-wrapper",children:[(0,C.jsx)(D,{options:[{value:"",label:"All Categories"},{value:"User Management",label:"User Management"},{value:"Case Management",label:"Case Management"},{value:"Status Change",label:"Status Change"},{value:"Security",label:"Security"},{value:"System",label:"System"}],value:f.category,onChange:e=>N("category",e),placeholder:"All Categories"}),(0,C.jsx)("span",{className:"filter-icon",children:"\ud83d\udcc1"})]})]}),(0,C.jsxs)("div",{className:"modern-filter-group",children:[(0,C.jsx)("label",{children:"Status"}),(0,C.jsxs)("div",{className:"filter-input-wrapper",children:[(0,C.jsx)(D,{options:[{value:"",label:"All Statuses"},{value:"success",label:"Success"},{value:"warning",label:"Warning"},{value:"error",label:"Error"}],value:f.status,onChange:e=>N("status",e),placeholder:"All Statuses"}),(0,C.jsx)("span",{className:"filter-icon",children:"\ud83c\udfaf"})]})]})]})]}),(0,C.jsxs)("div",{className:"filter-category",children:[(0,C.jsx)("h4",{children:"\ud83d\udcc5 Date Range"}),(0,C.jsxs)("div",{className:"filter-row",children:[(0,C.jsxs)("div",{className:"modern-filter-group",children:[(0,C.jsx)("label",{children:"Start Date"}),(0,C.jsxs)("div",{className:"filter-input-wrapper",children:[(0,C.jsx)(zo,{value:f.dateFrom,onChange:e=>N("dateFrom",e),placeholder:"Select start date"}),(0,C.jsx)("span",{className:"filter-icon",children:"\ud83d\udcc5"})]})]}),(0,C.jsxs)("div",{className:"modern-filter-group",children:[(0,C.jsx)("label",{children:"End Date"}),(0,C.jsxs)("div",{className:"filter-input-wrapper",children:[(0,C.jsx)(zo,{value:f.dateTo,onChange:e=>N("dateTo",e),placeholder:"Select end date",min:f.dateFrom||void 0}),(0,C.jsx)("span",{className:"filter-icon",children:"\ud83d\udcc5"})]})]})]})]})]}),(0,C.jsxs)("div",{className:"modern-filter-actions",children:[(0,C.jsxs)("div",{className:"filter-stats",children:["Showing ",s.length," of ",n.length," log entries"]}),(0,C.jsxs)("div",{className:"filter-buttons",children:[(0,C.jsx)("button",{onClick:j,className:"btn btn-outline-secondary btn-md modern-clear-button",disabled:!Object.values(f).some(e=>e),children:"\ud83d\uddd1\ufe0f Clear All"}),(0,C.jsx)("button",{onClick:()=>{h((0,o.A)({},f))},className:"btn btn-primary btn-md modern-apply-button",children:"\u2728 Apply Filters"}),(0,C.jsx)("button",{onClick:b,className:"btn btn-outline-secondary btn-md",children:"\ud83d\udd04 Refresh"})]})]}),(0,C.jsxs)("div",{className:"quick-filters",children:[(0,C.jsx)("span",{className:"quick-filters-label",children:"Quick Filters:"}),(0,C.jsx)("button",{onClick:()=>h(e=>(0,o.A)((0,o.A)({},e),{},{category:"Case Management"})),className:"btn btn-outline-secondary btn-sm quick-filter-button",children:"\ud83d\udccb Cases"}),(0,C.jsx)("button",{onClick:()=>h(e=>(0,o.A)((0,o.A)({},e),{},{category:"User Management"})),className:"btn btn-outline-secondary btn-sm quick-filter-button",children:"\ud83d\udc65 Users"}),(0,C.jsx)("button",{onClick:()=>h(e=>(0,o.A)((0,o.A)({},e),{},{status:"error"})),className:"btn btn-outline-secondary btn-sm quick-filter-button",children:"\u274c Errors"}),(0,C.jsx)("button",{onClick:()=>{const e=(new Date).toISOString().split("T")[0];h(t=>(0,o.A)((0,o.A)({},t),{},{dateFrom:e,dateTo:e}))},className:"btn btn-outline-secondary btn-sm quick-filter-button",children:"\ud83d\udcc5 Today"})]})]})]}),(0,C.jsxs)("div",{className:"audit-logs-table",children:[(0,C.jsxs)("table",{children:[(0,C.jsx)("thead",{children:(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{children:"Timestamp"}),(0,C.jsx)("th",{children:"User"}),(0,C.jsx)("th",{children:"Action"}),(0,C.jsx)("th",{children:"Category"}),(0,C.jsx)("th",{children:"Target"}),(0,C.jsx)("th",{children:"Status"}),(0,C.jsx)("th",{children:"IP Address"}),(0,C.jsx)("th",{children:"Details"})]})}),(0,C.jsx)("tbody",{children:(()=>{const e=l*d,t=e-d;return s.slice(t,e)})().map(e=>(0,C.jsxs)("tr",{className:"log-row ".concat(e.status),children:[(0,C.jsx)("td",{className:"timestamp-cell",children:P(e.timestamp)}),(0,C.jsx)("td",{className:"user-cell",children:(0,C.jsx)("strong",{children:e.user})}),(0,C.jsx)("td",{className:"action-cell",children:e.action}),(0,C.jsx)("td",{className:"category-cell",children:(0,C.jsx)("span",{className:"category-badge",children:e.category})}),(0,C.jsx)("td",{className:"target-cell",children:e.target}),(0,C.jsx)("td",{className:"status-cell",children:(0,C.jsx)("span",{className:I(e.status),children:e.status.toUpperCase()})}),(0,C.jsx)("td",{className:"ip-cell",children:e.ipAddress}),(0,C.jsx)("td",{className:"details-cell",children:(0,C.jsx)("div",{className:"details-preview",title:e.details,children:e.details.length>50?"".concat(e.details.substring(0,50),"..."):e.details})})]},e.id))})]}),0===s.length&&(0,C.jsxs)("div",{className:"no-logs",children:[(0,C.jsx)("p",{children:"\ud83d\udcdd No audit logs found matching your criteria."}),(0,C.jsx)("button",{onClick:j,className:"btn btn-outline-primary",children:"Clear Filters"})]}),k>1&&(0,C.jsxs)("div",{className:"pagination-container",children:[(0,C.jsxs)("div",{className:"pagination-info",children:["Showing ",(l-1)*d+1," to ",Math.min(l*d,s.length)," of ",s.length," entries"]}),(0,C.jsxs)("div",{className:"pagination-controls",children:[(0,C.jsx)("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>E(1),disabled:1===l,children:"First"}),(0,C.jsx)("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>E(l-1),disabled:1===l,children:"Previous"}),[...Array(k)].map((e,t)=>{const n=t+1;return 1===n||n===k||n>=l-2&&n<=l+2?(0,C.jsx)("button",{className:"btn btn-sm ".concat(n===l?"btn-primary":"btn-outline-secondary"),onClick:()=>E(n),children:n},n):n===l-3||n===l+3?(0,C.jsx)("span",{className:"pagination-ellipsis",children:"..."},n):null}),(0,C.jsx)("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>E(l+1),disabled:l===k,children:"Next"}),(0,C.jsx)("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>E(k),disabled:l===k,children:"Last"})]})]})]})]}):(0,C.jsx)("div",{className:"permission-denied",children:(0,C.jsxs)("div",{className:"permission-denied-content",children:[(0,C.jsx)("h2",{children:"\ud83d\udeab Access Denied"}),(0,C.jsx)("p",{children:"You don't have permission to view audit logs."}),(0,C.jsx)("p",{children:"Contact your system administrator for access."})]})})};class Vi{constructor(e){this.config=void 0,this.config=e}getAuthorizationUrl(e){const t=this.config.tenantId||"common",n=new URLSearchParams({client_id:this.config.clientId,response_type:"code",redirect_uri:this.config.redirectUri,scope:this.config.scopes.join(" "),response_mode:"query",state:e||"microsoft_".concat(Date.now()),prompt:"consent"});return"https://login.microsoftonline.com/".concat(t,"/oauth2/v2.0/authorize?").concat(n.toString())}async exchangeCodeForTokens(e){const t=this.config.tenantId||"common",n="https://login.microsoftonline.com/".concat(t,"/oauth2/v2.0/token"),r=new URLSearchParams({client_id:this.config.clientId,client_secret:this.config.clientSecret||"",code:e,redirect_uri:this.config.redirectUri,grant_type:"authorization_code",scope:this.config.scopes.join(" ")}),a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:r.toString()});if(!a.ok){const e=await a.json();throw new Error("Microsoft token exchange failed: ".concat(e.error_description||e.error))}const s=await a.json();return{accessToken:s.access_token,refreshToken:s.refresh_token,expiresAt:Date.now()+1e3*s.expires_in,tokenType:s.token_type,scope:s.scope}}async refreshAccessToken(e){const t=this.config.tenantId||"common",n="https://login.microsoftonline.com/".concat(t,"/oauth2/v2.0/token"),r=new URLSearchParams({client_id:this.config.clientId,client_secret:this.config.clientSecret||"",refresh_token:e,grant_type:"refresh_token",scope:this.config.scopes.join(" ")}),a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:r.toString()});if(!a.ok){const e=await a.json();throw new Error("Microsoft token refresh failed: ".concat(e.error_description||e.error))}const s=await a.json();return{accessToken:s.access_token,refreshToken:s.refresh_token||e,expiresAt:Date.now()+1e3*s.expires_in,tokenType:s.token_type,scope:s.scope}}async getUserInfo(e){const t=await fetch("https://graph.microsoft.com/v1.0/me",{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch Microsoft user info");const n=await t.json();return{id:n.id,email:n.mail||n.userPrincipalName,name:n.displayName,provider:"microsoft"}}async sendEmail(e,t){const n={message:{subject:t.subject,body:{contentType:"HTML",content:t.body},toRecipients:t.to.map(e=>({emailAddress:{address:e}})),from:t.fromEmail?{emailAddress:{address:t.fromEmail,name:t.fromName||"Case Booking System"}}:void 0}};return(await fetch("https://graph.microsoft.com/v1.0/me/sendMail",{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify(n)})).ok}}class qi{constructor(e){this.config=void 0,this.config=e}getAuthorizationUrl(e){const t=new URLSearchParams({client_id:this.config.clientId,redirect_uri:this.config.redirectUri,scope:this.config.scopes.join(" "),response_type:"code",state:e||"google_".concat(Date.now()),access_type:"offline",prompt:"consent"});return"https://accounts.google.com/o/oauth2/v2/auth?".concat(t.toString())}async exchangeCodeForTokens(e){const t=new URLSearchParams({client_id:this.config.clientId,client_secret:this.config.clientSecret||"",code:e,redirect_uri:this.config.redirectUri,grant_type:"authorization_code"}),n=await fetch("https://oauth2.googleapis.com/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:t.toString()});if(!n.ok){const e=await n.json();throw new Error("Google token exchange failed: ".concat(e.error_description||e.error))}const r=await n.json();return{accessToken:r.access_token,refreshToken:r.refresh_token,expiresAt:Date.now()+1e3*r.expires_in,tokenType:r.token_type,scope:r.scope}}async refreshAccessToken(e){const t=new URLSearchParams({client_id:this.config.clientId,client_secret:this.config.clientSecret||"",refresh_token:e,grant_type:"refresh_token"}),n=await fetch("https://oauth2.googleapis.com/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:t.toString()});if(!n.ok){const e=await n.json();throw new Error("Google token refresh failed: ".concat(e.error_description||e.error))}const r=await n.json();return{accessToken:r.access_token,refreshToken:r.refresh_token||e,expiresAt:Date.now()+1e3*r.expires_in,tokenType:r.token_type,scope:r.scope}}async getUserInfo(e){const t=await fetch("https://www.googleapis.com/oauth2/v2/userinfo",{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch Google user info");const n=await t.json();return{id:n.id,email:n.email,name:n.name,provider:"google"}}async sendEmail(e,t){const n=t.fromEmail?"".concat(t.fromName||"Case Booking System"," <").concat(t.fromEmail,">"):void 0,r=["To: ".concat(t.to.join(", ")),n?"From: ".concat(n):"","Subject: ".concat(t.subject),"Content-Type: text/html; charset=utf-8","",t.body].filter(Boolean).join("\n"),a=btoa(unescape(encodeURIComponent(r))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"");return(await fetch("https://gmail.googleapis.com/gmail/v1/users/me/messages/send",{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({raw:a})})).ok}}class Qi{static createAuth(e){switch(e.provider){case"microsoft":return new Vi(e);case"google":return new qi(e);default:throw new Error("Unsupported SSO provider: ".concat(e.provider))}}}function Ki(e){switch(e){case"microsoft":return["https://graph.microsoft.com/Mail.Send","https://graph.microsoft.com/User.Read","offline_access"];case"google":return["https://www.googleapis.com/auth/gmail.send","https://www.googleapis.com/auth/userinfo.email","https://www.googleapis.com/auth/userinfo.profile"];default:return[]}}function Ji(e,t,n){const r="sso-tokens-".concat(e,"-").concat(t);localStorage.setItem(r,JSON.stringify(n))}function Gi(e,t){const n="sso-tokens-".concat(e,"-").concat(t);localStorage.removeItem(n)}const $i=e=>{let{title:t,icon:n,isCollapsed:r,onToggle:a,children:s}=e;return(0,C.jsxs)("div",{className:"config-section",children:[(0,C.jsxs)("div",{className:"section-header",onClick:a,style:{cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.5rem 0",marginBottom:r?"0":"1.5rem"},children:[(0,C.jsxs)("h3",{style:{margin:"0",display:"flex",alignItems:"center",gap:"0.5rem"},children:[n," ",t]}),(0,C.jsx)("span",{style:{fontSize:"1.2rem",transform:r?"rotate(-90deg)":"rotate(0deg)",transition:"transform 0.2s ease",color:"#6c757d"},children:"\u25bc"})]}),!r&&(0,C.jsx)("div",{className:"section-content",style:{paddingTop:"1rem"},children:s})]})},Xi=()=>{const e=g(),{playSound:t}=mi(),{showSuccess:n}=vi(),[a,s]=(0,r.useState)(""),[c,d]=(0,r.useState)({}),[u,p]=(0,r.useState)({}),[m,h]=(0,r.useState)(0),[f,v]=(0,r.useState)({provider:"microsoft",clientId:"",clientSecret:"",tenantId:"",redirectUri:window.location.origin+"/auth/callback",fromEmail:"",fromName:"Case Booking System",country:"",isAuthenticated:!1}),[y,b]=(0,r.useState)({oauthConfig:!1,emailDetails:!1,notificationMatrix:!1,configGuide:!0}),[x,w]=(0,r.useState)({}),S=!!e&&("admin"===e.role||"it"===e.role||(0,Qo.hasPermission)(e.role,Qo.PERMISSION_ACTIONS.EMAIL_CONFIG)),[N,j]=(0,r.useState)(!1),[k,D]=(0,r.useState)("");console.log("EmailConfiguration Debug:",{currentUser:e,userRole:null===e||void 0===e?void 0:e.role,canConfigureEmail:S,hasPermissionCheck:!!e&&(0,Qo.hasPermission)(e.role,Qo.PERMISSION_ACTIONS.EMAIL_CONFIG)}),(0,r.useEffect)(()=>{const e=localStorage.getItem("email-configs-by-country");if(e)try{const t=JSON.parse(e);d(t)}catch(n){console.error("Failed to load email configurations:",n)}const t=localStorage.getItem("email-matrix-configs-by-country");if(t)try{const e=JSON.parse(t);p(e)}catch(n){console.error("Failed to load email matrix configurations:",n)}},[]);const E=e=>{b(t=>(0,o.A)((0,o.A)({},t),{},{[e]:!t[e]})),t.click()},I=r.useCallback(e=>({country:e,rules:["Case Booked","Order Prepared","Order Delivered (Hospital)","Order Received (Hospital)","Case Completed","Order Delivered (Office)","To be billed"].map(e=>({status:e,enabled:!1,recipients:{roles:[],specificEmails:[],includeSubmitter:!1,departmentFilter:[],requireSameDepartment:!0},template:{subject:"Case Status Update: ".concat(e),body:"A case has been updated to status: ".concat(e,"\n\nCase Reference: {{caseReference}}\nHospital: {{hospital}}\nDate: {{date}}\nSubmitted by: {{submitter}}\n\nBest regards,\nCase Booking System")}}))}),[]);(0,r.useEffect)(()=>{if(a&&c[a])v(c[a]);else if(a&&(v(e=>(0,o.A)((0,o.A)({},e),{},{country:a,provider:"microsoft",clientId:"",clientSecret:"",tenantId:"",redirectUri:window.location.origin+"/auth/callback",fromEmail:"",fromName:"Case Booking System",isAuthenticated:!1})),!u[a])){const e=I(a);p(t=>(0,o.A)((0,o.A)({},t),{},{[a]:e}))}},[a,c,u,I]);const P=(e,t)=>{v(n=>(0,o.A)((0,o.A)({},n),{},{[e]:t}))},A=(e,t)=>{if(!a||!u[a])return;const n=(0,o.A)((0,o.A)({},u[a]),{},{rules:u[a].rules.map((n,r)=>r===e?(0,o.A)((0,o.A)({},n),t):n)});p(e=>(0,o.A)((0,o.A)({},e),{},{[a]:n}))},O=(0,r.useCallback)(async()=>{if(!a||!f.provider||!f.clientId)return;if("custom"===f.provider)return;const e=function(e,t){const n="sso-tokens-".concat(e,"-").concat(t),r=localStorage.getItem(n);if(r)try{return JSON.parse(r)}catch(a){console.error("Failed to parse stored tokens:",a),localStorage.removeItem(n)}return null}(a,f.provider);if(!e||(t=e,Date.now()>=t.expiresAt-6e4)){if(e&&e.refreshToken)try{const t={provider:f.provider,clientId:f.clientId,clientSecret:f.clientSecret,tenantId:f.tenantId,redirectUri:f.redirectUri,scopes:Ki(f.provider)},r=Qi.createAuth(t),s=await r.refreshAccessToken(e.refreshToken);Ji(a,f.provider,s),v(e=>(0,o.A)((0,o.A)({},e),{},{isAuthenticated:!0,accessToken:s.accessToken,refreshToken:s.refreshToken,tokenExpiry:s.expiresAt})),n("Token Refreshed","Authentication tokens have been automatically refreshed")}catch(r){console.error("Failed to refresh tokens:",r),Gi(a,f.provider),v(e=>(0,o.A)((0,o.A)({},e),{},{isAuthenticated:!1,accessToken:void 0,refreshToken:void 0,tokenExpiry:void 0,authenticatedUser:void 0}))}}else{v(t=>(0,o.A)((0,o.A)({},t),{},{isAuthenticated:!0,accessToken:e.accessToken,refreshToken:e.refreshToken,tokenExpiry:e.expiresAt}));try{const t={provider:f.provider,clientId:f.clientId,clientSecret:f.clientSecret,tenantId:f.tenantId,redirectUri:f.redirectUri,scopes:Ki(f.provider)},n=Qi.createAuth(t),r=await n.getUserInfo(e.accessToken);v(e=>(0,o.A)((0,o.A)({},e),{},{authenticatedUser:r,fromEmail:e.fromEmail||r.email}))}catch(r){console.error("Failed to get user info:",r)}}var t},[a,f.provider,f.clientId,f.clientSecret,f.tenantId,f.redirectUri,n]);(0,r.useEffect)(()=>{O()},[O]),(0,r.useEffect)(()=>{const e=e=>{"case-booking-custom-roles"===e.key&&h(e=>e+1)};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[]),(0,r.useEffect)(()=>{},[m]);return console.log("EmailConfiguration: Rendering component"),e?S?(0,C.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"2rem",background:"#f8f9fa",minHeight:"calc(100vh - 120px)"},children:[(0,C.jsxs)("div",{style:{textAlign:"center",marginBottom:"3rem",padding:"2rem",background:"#ffffff",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",border:"1px solid #e9ecef"},children:[(0,C.jsx)("h2",{style:{fontSize:"2.5rem",color:"#2c3e50",marginBottom:"0.5rem"},children:"\ud83d\udce7 Email Configuration"}),(0,C.jsx)("p",{style:{fontSize:"1.1rem",color:"#6c757d",margin:"0"},children:"Configure Microsoft or Google SSO authentication for sending emails by country"})]}),(0,C.jsxs)("div",{className:"email-config-content",children:[(0,C.jsxs)("div",{className:"config-section",children:[(0,C.jsx)("h3",{children:"\ud83c\udf0d Country Selection"}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{htmlFor:"country",className:"required",children:"Select Country"}),(0,C.jsxs)("select",{id:"country",value:a,onChange:e=>{return t=e.target.value,void s(t);var t},className:"form-control",required:!0,children:[(0,C.jsx)("option",{value:"",children:"Choose a country to configure..."}),i.map(e=>(0,C.jsx)("option",{value:e,children:e},e))]})]}),a&&(0,C.jsxs)("div",{className:"config-status",children:[(0,C.jsxs)("div",{className:"config-status-info",children:[(0,C.jsxs)("span",{className:"status-label",children:["Configuration Status for ",a,":"]}),(0,C.jsx)("span",{className:"status-badge ".concat(c[a]?"configured":"not-configured"),children:c[a]?"\u2705 Configured":"\u274c Not Configured"})]}),c[a]&&(0,C.jsxs)("div",{className:"config-details",children:[(0,C.jsxs)("div",{className:"config-detail",children:[(0,C.jsx)("span",{children:"Provider:"}),(0,C.jsxs)("span",{children:[c[a].provider.toUpperCase()," SSO"]})]}),(0,C.jsxs)("div",{className:"config-detail",children:[(0,C.jsx)("span",{children:"From Email:"}),(0,C.jsx)("span",{children:c[a].fromEmail})]}),(0,C.jsxs)("div",{className:"config-detail",children:[(0,C.jsx)("span",{children:"Authentication:"}),(0,C.jsx)("span",{children:c[a].isAuthenticated?"\u2705 Authenticated":"\u274c Not Authenticated"})]})]})]})]}),a&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)($i,{title:"OAuth Configuration for ".concat(a),icon:"\ud83d\udd10",isCollapsed:y.oauthConfig,onToggle:()=>E("oauthConfig"),children:[(0,C.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,C.jsx)("h4",{style:{color:"#495057",fontSize:"1.1rem",marginBottom:"1rem",paddingBottom:"0.5rem"},children:"\ud83c\udfe2 Email Provider"}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{htmlFor:"provider",className:"required",children:"Authentication Provider"}),(0,C.jsxs)("select",{id:"provider",value:f.provider,onChange:e=>{const t=e.target.value;P("provider",t),t!==f.provider&&(v(e=>(0,o.A)((0,o.A)({},e),{},{isAuthenticated:!1,accessToken:void 0,refreshToken:void 0,tokenExpiry:void 0,authenticatedUser:void 0})),D(""))},className:"form-control",required:!0,children:[(0,C.jsx)("option",{value:"microsoft",children:"Microsoft 365 / Outlook (Recommended)"}),(0,C.jsx)("option",{value:"google",children:"Google Workspace / Gmail"}),(0,C.jsx)("option",{value:"custom",disabled:!0,children:"Custom OAuth (Coming Soon)"})]})]})]}),(0,C.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,C.jsx)("h4",{style:{color:"#495057",fontSize:"1.1rem",marginBottom:"1rem",paddingBottom:"0.5rem"},children:"\ud83d\udd11 OAuth Settings"}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{htmlFor:"clientId",className:"required",children:"Client ID / Application ID"}),(0,C.jsx)("input",{type:"text",id:"clientId",value:f.clientId,onChange:e=>P("clientId",e.target.value),placeholder:"microsoft"===f.provider?"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx":"xxxxxxxxxxxxx.apps.googleusercontent.com",className:"form-control",required:!0})]}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{htmlFor:"clientSecret",children:"Client Secret (Optional for public apps)"}),(0,C.jsx)("input",{type:"password",id:"clientSecret",value:f.clientSecret,onChange:e=>P("clientSecret",e.target.value),placeholder:"Client secret from app registration",className:"form-control"})]}),"microsoft"===f.provider&&(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{htmlFor:"tenantId",className:"required",children:"Tenant ID / Directory ID"}),(0,C.jsx)("input",{type:"text",id:"tenantId",value:f.tenantId||"",onChange:e=>P("tenantId",e.target.value),placeholder:"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx or common",className:"form-control",required:!0})]}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{htmlFor:"redirectUri",className:"required",children:"Redirect URI"}),(0,C.jsx)("input",{type:"url",id:"redirectUri",value:f.redirectUri,onChange:e=>P("redirectUri",e.target.value),placeholder:window.location.origin+"/auth/callback",className:"form-control",required:!0}),(0,C.jsx)("small",{style:{color:"#6c757d",fontSize:"0.875rem"},children:"This must match the redirect URI configured in your app registration"})]})]}),(0,C.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,C.jsx)("h4",{style:{color:"#495057",fontSize:"1.1rem",marginBottom:"1rem",paddingBottom:"0.5rem"},children:"\ud83d\udd13 SSO Authentication Status"}),k&&(0,C.jsxs)("div",{style:{padding:"0.75rem",marginBottom:"1rem",borderRadius:"6px",border:"1px solid #dc3545",background:"#f8d7da",color:"#721c24"},children:[(0,C.jsx)("strong",{children:"\u26a0\ufe0f Authentication Error:"})," ",k]}),(0,C.jsxs)("div",{style:{padding:"1.5rem",borderRadius:"12px",border:"2px solid ".concat(f.isAuthenticated?"#28a745":N?"#ffc107":"#dc3545"),background:f.isAuthenticated?"#d4edda":N?"#fff3cd":"#f8d7da",textAlign:"center"},children:[(0,C.jsx)("div",{style:{fontSize:"1.2rem",fontWeight:"bold",marginBottom:"0.75rem"},children:N?"\ud83d\udd04 Authenticating...":f.isAuthenticated?"\u2705 Successfully Authenticated":"\u274c Not Authenticated"}),f.isAuthenticated&&f.authenticatedUser&&(0,C.jsx)("div",{style:{background:"rgba(255, 255, 255, 0.8)",padding:"1rem",borderRadius:"8px",marginBottom:"1rem",textAlign:"left"},children:(0,C.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",fontSize:"0.9rem"},children:[(0,C.jsxs)("div",{children:[(0,C.jsx)("strong",{children:"Provider:"})," ",f.provider.toUpperCase()]}),(0,C.jsxs)("div",{children:[(0,C.jsx)("strong",{children:"User:"})," ",f.authenticatedUser.name]}),(0,C.jsxs)("div",{children:[(0,C.jsx)("strong",{children:"Email:"})," ",f.authenticatedUser.email]}),(0,C.jsxs)("div",{children:[(0,C.jsx)("strong",{children:"Token Expires:"})," ",f.tokenExpiry?new Date(f.tokenExpiry).toLocaleString():"Unknown"]})]})}),(0,C.jsx)("div",{style:{fontSize:"0.95rem",color:"#495057",marginBottom:"1rem"},children:"custom"===f.provider?"Custom OAuth authentication is not yet implemented. Please select Microsoft or Google provider.":N?"Please complete authentication in the popup window...":f.isAuthenticated?"Connected to ".concat(f.provider.toUpperCase()," SSO. You can now send emails securely."):"Connect your ".concat(f.provider.toUpperCase()," account to enable email sending")}),(0,C.jsxs)("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"center",flexWrap:"wrap"},children:[!f.isAuthenticated&&!N&&"custom"!==f.provider&&(0,C.jsxs)("button",{onClick:async()=>{if(a)if(f.clientId)if("custom"!==f.provider){j(!0),D("");try{const e={provider:f.provider,clientId:f.clientId,clientSecret:f.clientSecret,tenantId:f.tenantId,redirectUri:f.redirectUri,scopes:Ki(f.provider)},r=Qi.createAuth(e),s=r.getAuthorizationUrl("".concat(a,"_").concat(Date.now())),i=window.open(s,"sso_auth","width=600,height=700,scrollbars=yes,resizable=yes");if(!i)throw new Error("Popup blocked. Please allow popups for this site and try again.");t.click(),n("SSO Authentication Started","Opening ".concat(f.provider.toUpperCase()," authentication window..."));const l=async e=>{if(e.origin===window.location.origin)if("sso_auth_success"===e.data.type&&e.data.code)try{const t=await r.exchangeCodeForTokens(e.data.code),s=await r.getUserInfo(t.accessToken);Ji(a,f.provider,t),v(e=>(0,o.A)((0,o.A)({},e),{},{isAuthenticated:!0,accessToken:t.accessToken,refreshToken:t.refreshToken,tokenExpiry:t.expiresAt,authenticatedUser:s,fromEmail:e.fromEmail||s.email})),i.close(),j(!1),n("Authentication Successful","Successfully authenticated with ".concat(f.provider.toUpperCase()," as ").concat(s.email))}catch(t){console.error("Token exchange failed:",t),D("Authentication failed: ".concat(t instanceof Error?t.message:"Unknown error")),j(!1),i.close()}else"sso_auth_error"===e.data.type&&(D("Authentication failed: ".concat(e.data.error)),j(!1),i.close())};window.addEventListener("message",l);const c=setInterval(()=>{i.closed&&(clearInterval(c),window.removeEventListener("message",l),N&&(j(!1),n("Authentication Cancelled","Authentication window was closed")))},1e3)}catch(e){console.error("OAuth authentication failed:",e),D("Failed to start authentication: ".concat(e instanceof Error?e.message:"Unknown error")),j(!1)}}else n("Provider Not Supported","Custom OAuth is not yet implemented. Please use Microsoft or Google.");else n("Validation Error","Please configure Client ID first");else n("Validation Error","Please select a country first")},className:"btn btn-primary btn-md",disabled:!f.clientId,title:f.clientId?"Authenticate with ".concat(f.provider.toUpperCase()," SSO"):"Please configure Client ID first",children:["\ud83d\udd10 Connect ",f.provider.toUpperCase()," SSO"]}),f.isAuthenticated&&(0,C.jsx)("button",{onClick:()=>{a&&f.provider&&(Gi(a,f.provider),v(e=>(0,o.A)((0,o.A)({},e),{},{isAuthenticated:!1,accessToken:void 0,refreshToken:void 0,tokenExpiry:void 0,authenticatedUser:void 0})),t.click(),n("SSO Disconnected","".concat(f.provider.toUpperCase()," authentication has been disconnected for ").concat(a)))},className:"btn btn-warning btn-sm",title:"Disconnect SSO authentication",children:"\ud83d\udd0c Disconnect SSO"}),N&&(0,C.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#856404",fontSize:"0.9rem"},children:[(0,C.jsx)("div",{className:"spinner-border spinner-border-sm",role:"status"}),(0,C.jsx)("span",{children:"Waiting for authentication..."})]})]})]})]})]}),(0,C.jsxs)($i,{title:"Email Details",icon:"\ud83d\udce7",isCollapsed:y.emailDetails,onToggle:()=>E("emailDetails"),children:[(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{htmlFor:"fromEmail",className:"required",children:"From Email Address"}),(0,C.jsx)("input",{type:"email",id:"fromEmail",value:f.fromEmail,onChange:e=>P("fromEmail",e.target.value),placeholder:"noreply@company.com",className:"form-control",required:!0})]}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{htmlFor:"fromName",children:"Display Name"}),(0,C.jsx)("input",{type:"text",id:"fromName",value:f.fromName,onChange:e=>P("fromName",e.target.value),placeholder:"Case Booking System",className:"form-control"})]})]}),(0,C.jsx)($i,{title:"Email Notification Matrix",icon:"\ud83d\udcee",isCollapsed:y.notificationMatrix,onToggle:()=>E("notificationMatrix"),children:u[a]&&(0,C.jsxs)("div",{className:"notification-matrix",children:[(0,C.jsxs)("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:"#e3f2fd",borderRadius:"8px",border:"1px solid #2196f3"},children:[(0,C.jsx)("h4",{style:{color:"#1976d2",margin:"0 0 0.5rem 0"},children:"\ud83d\udccb Notification Rules Configuration"}),(0,C.jsx)("p",{style:{margin:"0",color:"#37474f",fontSize:"0.9rem"},children:"Configure which status changes trigger email notifications and who receives them."})]}),u[a].rules.map((e,n)=>{const r=x[n]||!1,a=(0,Ko.L_)().map(e=>e.id);return(0,C.jsxs)("div",{className:"notification-rule",style:{border:"1px solid #dee2e6",borderRadius:"8px",marginBottom:"1rem",padding:"1rem",background:e.enabled?"#f8f9fa":"#ffffff"},children:[(0,C.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem",cursor:e.enabled?"pointer":"default"},onClick:e.enabled?()=>{return e=n,w(t=>(0,o.A)((0,o.A)({},t),{},{[e]:!t[e]})),void t.click();var e}:void 0,children:[(0,C.jsxs)("h5",{style:{margin:"0",color:"#495057",display:"flex",alignItems:"center",gap:"0.5rem"},children:["\ud83d\udcca ",e.status,e.enabled&&(0,C.jsx)("span",{style:{fontSize:"0.8rem",transform:r?"rotate(-90deg)":"rotate(0deg)",transition:"transform 0.2s ease",color:"#6c757d",marginLeft:"0.5rem"},children:"\u25bc"})]}),(0,C.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",margin:"0",cursor:"pointer"},children:[(0,C.jsx)("input",{type:"checkbox",checked:e.enabled,onChange:e=>{A(n,{enabled:e.target.checked}),e.target.checked&&r&&w(e=>(0,o.A)((0,o.A)({},e),{},{[n]:!1}))},style:{transform:"scale(1.2)"},onClick:e=>e.stopPropagation()}),(0,C.jsx)("span",{style:{fontWeight:"500",color:e.enabled?"#28a745":"#6c757d"},children:e.enabled?"Enabled":"Disabled"})]})]}),e.enabled&&!r&&(0,C.jsxs)("div",{style:{paddingLeft:"1rem",borderLeft:"3px solid #28a745"},children:[(0,C.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,C.jsx)("label",{style:{display:"block",fontWeight:"600",marginBottom:"0.5rem",color:"#495057"},children:"\ud83d\udce7 Email Subject"}),(0,C.jsx)("input",{type:"text",value:e.template.subject,onChange:t=>A(n,{template:(0,o.A)((0,o.A)({},e.template),{},{subject:t.target.value})}),className:"form-control",placeholder:"Email subject line"})]}),(0,C.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,C.jsx)("label",{style:{display:"block",fontWeight:"600",marginBottom:"0.5rem",color:"#495057"},children:"\ud83d\udcdd Email Body Template"}),(0,C.jsx)("textarea",{value:e.template.body,onChange:t=>A(n,{template:(0,o.A)((0,o.A)({},e.template),{},{body:t.target.value})}),className:"form-control",rows:4,placeholder:"Email body template (use {{caseReference}}, {{hospital}}, {{date}} as placeholders)"})]}),(0,C.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[(0,C.jsxs)("div",{children:[(0,C.jsx)(Y,{id:"roles-".concat(n),label:"\ud83d\udc65 Notify User Roles",options:a,value:e.recipients.roles,onChange:t=>{A(n,{recipients:(0,o.A)((0,o.A)({},e.recipients),{},{roles:t})})},placeholder:"Select user roles to notify..."}),(0,C.jsxs)("div",{style:{marginTop:"1rem"},children:[(0,C.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[(0,C.jsx)("input",{type:"checkbox",checked:e.recipients.includeSubmitter,onChange:t=>A(n,{recipients:(0,o.A)((0,o.A)({},e.recipients),{},{includeSubmitter:t.target.checked})}),style:{transform:"scale(1.1)"}}),(0,C.jsx)("span",{style:{fontWeight:"500",color:"#495057"},children:"\ud83d\udcdd Include Case Submitter"})]}),(0,C.jsx)("small",{style:{color:"#6c757d",fontSize:"0.8rem",marginLeft:"1.5rem"},children:"Automatically notify the person who submitted the case"})]})]}),(0,C.jsxs)("div",{children:[(0,C.jsx)("label",{style:{display:"block",fontWeight:"600",marginBottom:"0.5rem",color:"#495057"},children:"\ud83d\udcee Additional Email Addresses"}),(0,C.jsx)("textarea",{value:e.recipients.specificEmails.join("\n"),onChange:t=>{const r=t.target.value.split("\n").filter(e=>e.trim());A(n,{recipients:(0,o.A)((0,o.A)({},e.recipients),{},{specificEmails:r})})},className:"form-control",rows:4,placeholder:"Enter email addresses (one per line)\nexample@company.com\nmanager@company.com"}),(0,C.jsx)("small",{style:{color:"#6c757d",fontSize:"0.8rem"},children:"One email address per line"})]})]}),(0,C.jsxs)("div",{style:{marginTop:"1.5rem",padding:"1rem",background:"#f8f9fa",borderRadius:"8px",border:"1px solid #e9ecef"},children:[(0,C.jsx)("h5",{style:{color:"#495057",fontSize:"0.9rem",margin:"0 0 1rem 0",fontWeight:"600"},children:"\ud83c\udfe5 Department-Based Filtering"}),(0,C.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,C.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[(0,C.jsx)("input",{type:"checkbox",checked:e.recipients.requireSameDepartment,onChange:t=>A(n,{recipients:(0,o.A)((0,o.A)({},e.recipients),{},{requireSameDepartment:t.target.checked})}),style:{transform:"scale(1.1)"}}),(0,C.jsx)("span",{style:{fontWeight:"500",color:"#495057"},children:"\ud83c\udfaf Only notify users with access to case department"})]}),(0,C.jsx)("small",{style:{color:"#6c757d",fontSize:"0.8rem",marginLeft:"1.5rem"},children:"Users must have the same department as the case to receive notifications"})]}),(0,C.jsxs)("div",{children:[(0,C.jsx)(Y,{id:"departments-".concat(n),label:"\ud83c\udfe5 Additional Department Filter (Optional)",options:l,value:e.recipients.departmentFilter,onChange:t=>{A(n,{recipients:(0,o.A)((0,o.A)({},e.recipients),{},{departmentFilter:t})})},placeholder:"Select specific departments to include..."}),(0,C.jsx)("small",{style:{color:"#6c757d",fontSize:"0.8rem"},children:"If specified, only users in these departments will be notified (in addition to department access requirement above)"})]})]})]})]},e.status)}),(0,C.jsx)("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end",marginTop:"2rem",paddingTop:"1rem",borderTop:"2px solid #dee2e6"},children:(0,C.jsx)("button",{onClick:()=>{a&&(localStorage.setItem("email-matrix-configs-by-country",JSON.stringify(u)),t.success(),n("Notification Matrix Saved","Email notification rules for ".concat(a," have been saved successfully")))},className:"btn btn-success btn-md",title:"Save notification matrix configuration",children:"\ud83d\udcbe Save Notification Rules"})})]})}),(0,C.jsx)($i,{title:"Configuration Guide",icon:"\ud83d\udcdd",isCollapsed:y.configGuide,onToggle:()=>E("configGuide"),children:(0,C.jsxs)("div",{className:"config-tips",children:[(0,C.jsxs)("div",{style:{marginBottom:"2rem",padding:"1rem",background:"#e8f4fd",borderRadius:"8px",border:"1px solid #2196f3"},children:[(0,C.jsx)("h4",{style:{color:"#1976d2",margin:"0 0 0.5rem 0"},children:"\ud83d\udd10 SSO Authentication Setup"}),(0,C.jsx)("p",{style:{margin:"0",fontSize:"0.9rem",color:"#37474f"},children:"This system uses modern OAuth 2.0 / OpenID Connect for secure email sending. Follow the steps below to configure SSO authentication with your email provider."})]}),(0,C.jsxs)("ul",{style:{fontSize:"0.95rem",lineHeight:"1.6"},children:[(0,C.jsxs)("li",{children:[(0,C.jsx)("strong",{children:"\ud83c\udfe2 Microsoft 365 / Entra ID Setup:"}),(0,C.jsx)("br",{}),"1. Go to ",(0,C.jsx)("a",{href:"https://portal.azure.com/#view/Microsoft_AAD_RegisteredApps/ApplicationsListBlade",target:"_blank",rel:"noopener noreferrer",children:"Azure Portal \u2192 App Registrations"}),(0,C.jsx)("br",{}),'2. Click "New registration" and create "Case Booking Email Integration"',(0,C.jsx)("br",{}),"3. Set redirect URI (Web): ",(0,C.jsx)("code",{style:{background:"#f1f3f4",padding:"2px 4px",borderRadius:"3px"},children:f.redirectUri}),(0,C.jsx)("br",{}),'4. Go to "API permissions" \u2192 "Add a permission" \u2192 Microsoft Graph:',(0,C.jsx)("br",{}),"\xa0\xa0\xa0\u2022 ",(0,C.jsx)("strong",{children:"Mail.Send"})," (Delegated) - Send mail as the signed-in user",(0,C.jsx)("br",{}),"\xa0\xa0\xa0\u2022 ",(0,C.jsx)("strong",{children:"User.Read"})," (Delegated) - Read user profile",(0,C.jsx)("br",{}),"5. Grant admin consent if required for your organization",(0,C.jsx)("br",{}),"6. Copy ",(0,C.jsx)("strong",{children:"Application (client) ID"})," and ",(0,C.jsx)("strong",{children:"Directory (tenant) ID"}),(0,C.jsx)("br",{}),"7. Optionally create a client secret for enhanced security"]}),(0,C.jsxs)("li",{style:{marginTop:"1.5rem"},children:[(0,C.jsx)("strong",{children:"\ud83c\udfaf Google Workspace / Gmail Setup:"}),(0,C.jsx)("br",{}),"1. Go to ",(0,C.jsx)("a",{href:"https://console.cloud.google.com/apis/credentials",target:"_blank",rel:"noopener noreferrer",children:"Google Cloud Console \u2192 Credentials"}),(0,C.jsx)("br",{}),"2. Create new project or select existing project",(0,C.jsx)("br",{}),'3. Enable the Gmail API: Go to "APIs & Services" \u2192 "Library" \u2192 Search "Gmail API" \u2192 Enable',(0,C.jsx)("br",{}),"4. Create OAuth 2.0 Client ID:",(0,C.jsx)("br",{}),"\xa0\xa0\xa0\u2022 Application type: Web application",(0,C.jsx)("br",{}),"\xa0\xa0\xa0\u2022 Name: Case Booking Email Integration",(0,C.jsx)("br",{}),"\xa0\xa0\xa0\u2022 Authorized redirect URI: ",(0,C.jsx)("code",{style:{background:"#f1f3f4",padding:"2px 4px",borderRadius:"3px"},children:f.redirectUri}),(0,C.jsx)("br",{}),"5. Copy ",(0,C.jsx)("strong",{children:"Client ID"})," and ",(0,C.jsx)("strong",{children:"Client Secret"}),(0,C.jsx)("br",{}),"6. Configure OAuth consent screen with your organization details"]}),(0,C.jsxs)("li",{style:{marginTop:"1.5rem"},children:[(0,C.jsx)("strong",{children:"\ud83d\udd12 Security & Best Practices:"}),(0,C.jsx)("br",{}),"\u2022 ",(0,C.jsx)("strong",{children:"Principle of Least Privilege:"})," Only request necessary scopes (Mail.Send, User.Read)",(0,C.jsx)("br",{}),"\u2022 ",(0,C.jsx)("strong",{children:"Token Management:"})," Tokens are stored securely in browser localStorage per country",(0,C.jsx)("br",{}),"\u2022 ",(0,C.jsx)("strong",{children:"Automatic Refresh:"})," Access tokens are automatically refreshed when expired",(0,C.jsx)("br",{}),"\u2022 ",(0,C.jsx)("strong",{children:"Secure Storage:"})," Sensitive data is encrypted and isolated by country",(0,C.jsx)("br",{}),"\u2022 ",(0,C.jsx)("strong",{children:"Audit Trail:"})," All authentication events are logged for security monitoring",(0,C.jsx)("br",{}),"\u2022 ",(0,C.jsx)("strong",{children:"Regular Rotation:"})," Consider rotating client secrets every 6-12 months"]}),(0,C.jsxs)("li",{style:{marginTop:"1.5rem"},children:[(0,C.jsx)("strong",{children:"\u26a1 Troubleshooting Common Issues:"}),(0,C.jsx)("br",{}),"\u2022 ",(0,C.jsx)("strong",{children:"Redirect URI Mismatch:"})," Ensure the URI in your app registration exactly matches: ",f.redirectUri,(0,C.jsx)("br",{}),"\u2022 ",(0,C.jsx)("strong",{children:"Popup Blocked:"})," Allow popups for this domain in your browser settings",(0,C.jsx)("br",{}),"\u2022 ",(0,C.jsx)("strong",{children:"Admin Consent Required:"})," Your organization may require admin approval for Graph API permissions",(0,C.jsx)("br",{}),"\u2022 ",(0,C.jsx)("strong",{children:"Invalid Client:"})," Double-check your Client ID and Tenant ID are correct",(0,C.jsx)("br",{}),"\u2022 ",(0,C.jsx)("strong",{children:"Scope Issues:"})," Verify Mail.Send permission is granted and consented",(0,C.jsx)("br",{}),"\u2022 ",(0,C.jsx)("strong",{children:"Token Expired:"}),' Click "Disconnect SSO" and re-authenticate if tokens are invalid']}),(0,C.jsxs)("li",{style:{marginTop:"1.5rem"},children:[(0,C.jsx)("strong",{children:"\ud83e\uddea Testing Your Configuration:"}),(0,C.jsx)("br",{}),"1. Complete the SSO authentication flow",(0,C.jsx)("br",{}),'2. Configure your "From Email" address (must match authenticated user)',(0,C.jsx)("br",{}),'3. Click "Test Email Sending" to send a test message',(0,C.jsx)("br",{}),"4. Check your inbox for the test email confirmation",(0,C.jsx)("br",{}),"5. Verify notification rules work by triggering case status changes"]})]})]})}),(0,C.jsxs)("div",{className:"config-actions",children:[(0,C.jsx)("button",{onClick:async()=>{if(a)if(f.isAuthenticated&&f.accessToken)if(f.fromEmail)if("custom"!==f.provider)try{var e;const r={provider:f.provider,clientId:f.clientId,clientSecret:f.clientSecret,tenantId:f.tenantId,redirectUri:f.redirectUri,scopes:Ki(f.provider)},s=Qi.createAuth(r);let i=f.accessToken;if(f.tokenExpiry&&Date.now()>=f.tokenExpiry-6e4){if(!f.refreshToken)return void n("Authentication Expired","Please re-authenticate with SSO");{const e=await s.refreshAccessToken(f.refreshToken);Ji(a,f.provider,e),v(t=>(0,o.A)((0,o.A)({},t),{},{accessToken:e.accessToken,refreshToken:e.refreshToken,tokenExpiry:e.expiresAt})),i=e.accessToken}}await s.sendEmail(i,{to:[f.fromEmail],subject:"Test Email from Case Booking System - ".concat(a),body:'\n          <html>\n            <body style="font-family: Arial, sans-serif; line-height: 1.6; color: #333;">\n              <div style="max-width: 600px; margin: 0 auto; padding: 20px;">\n                <h2 style="color: #007bff;">\ud83e\uddea Test Email Successful!</h2>\n                <p>This is a test email from the Case Booking System email configuration.</p>\n                \n                <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 20px 0;">\n                  <h3 style="margin: 0 0 10px 0; color: #495057;">Configuration Details:</h3>\n                  <ul style="margin: 0; padding-left: 20px;">\n                    <li><strong>Country:</strong> '.concat(a,"</li>\n                    <li><strong>Provider:</strong> ").concat(f.provider.toUpperCase(),"</li>\n                    <li><strong>From Email:</strong> ").concat(f.fromEmail,"</li>\n                    <li><strong>From Name:</strong> ").concat(f.fromName,"</li>\n                    <li><strong>Authenticated User:</strong> ").concat((null===(e=f.authenticatedUser)||void 0===e?void 0:e.email)||"Unknown",'</li>\n                  </ul>\n                </div>\n                \n                <p>If you received this email, your SSO authentication and email sending configuration is working correctly!</p>\n                \n                <hr style="border: none; border-top: 1px solid #dee2e6; margin: 20px 0;">\n                <p style="font-size: 0.9em; color: #6c757d;">\n                  <strong>Case Booking System</strong><br>\n                  Test sent at: ').concat((new Date).toLocaleString(),"\n                </p>\n              </div>\n            </body>\n          </html>\n        "),fromEmail:f.fromEmail,fromName:f.fromName})?(t.notification(),n("Test Email Sent","Test email successfully sent using ".concat(f.provider.toUpperCase()," SSO for ").concat(a,". Check your inbox at ").concat(f.fromEmail,"."))):n("Email Send Failed","Failed to send test email. Please check your configuration and try again.")}catch(r){console.error("Test email failed:",r),n("Test Email Error","Failed to send test email: ".concat(r instanceof Error?r.message:"Unknown error"))}else n("Provider Not Supported","Custom OAuth is not yet implemented. Please use Microsoft or Google.");else n("Configuration Required","Please configure From Email address first");else n("Authentication Required","Please authenticate with SSO first");else n("Validation Error","Please select a country first")},className:"btn btn-info btn-md",disabled:!f.isAuthenticated||!f.fromEmail||"custom"===f.provider,title:"custom"===f.provider?"Custom OAuth not supported":f.isAuthenticated?f.fromEmail?"Send a test email using SSO":"Please configure From Email address":"Please authenticate with SSO first",children:"\ud83e\uddea Test Email Sending"}),(0,C.jsx)("button",{onClick:()=>{if(!a)return void n("Validation Error","Please select a country first");const e=(0,o.A)({},c);delete e[a],d(e),localStorage.setItem("email-configs-by-country",JSON.stringify(e)),v({provider:"microsoft",clientId:"",clientSecret:"",tenantId:"",redirectUri:window.location.origin+"/auth/callback",fromEmail:"",fromName:"Case Booking System",country:a,isAuthenticated:!1}),t.click(),n("Email Configuration Reset","Email settings for ".concat(a," have been cleared"))},className:"btn btn-warning btn-md",disabled:!c[a],title:c[a]?"Reset OAuth configuration for ".concat(a):"No configuration to reset",children:"\ud83d\udd04 Reset Configuration"}),(0,C.jsx)("button",{onClick:()=>{if(!a)return void n("Validation Error","Please select a country first");const e=["clientId","redirectUri","fromEmail"];"microsoft"===f.provider&&e.push("tenantId");for(const t of e)if(!f[t])return void n("Validation Error","Please fill in all required fields. Missing: ".concat(t));const r=(0,o.A)((0,o.A)({},c),{},{[a]:(0,o.A)((0,o.A)({},f),{},{country:a})});d(r),localStorage.setItem("email-configs-by-country",JSON.stringify(r)),t.success(),n("Email Configuration Saved","".concat(f.provider.toUpperCase()," SSO settings for ").concat(a," have been successfully saved"))},className:"btn btn-primary btn-md",title:"Save OAuth configuration for ".concat(a),children:"\ud83d\udcbe Save Configuration"})]})]})]})]}):(0,C.jsx)("div",{className:"permission-denied",children:(0,C.jsxs)("div",{className:"permission-denied-content",children:[(0,C.jsx)("h2",{children:"\ud83d\udeab Access Denied"}),(0,C.jsx)("p",{children:"You don't have permission to configure email settings."}),(0,C.jsx)("p",{children:"Contact your administrator to request access."}),(0,C.jsxs)("div",{style:{marginTop:"1.5rem",padding:"1rem",background:"#f8f9fa",borderRadius:"6px",fontSize:"0.875rem",color:"#495057",textAlign:"left"},children:[(0,C.jsx)("strong",{children:"Debug Info:"}),(0,C.jsx)("br",{}),"User: ",(null===e||void 0===e?void 0:e.name)||"Unknown",(0,C.jsx)("br",{}),"Role: ",(null===e||void 0===e?void 0:e.role)||"Unknown",(0,C.jsx)("br",{}),"Permission Check: ",S?"Allowed":"Denied"]})]})}):(0,C.jsxs)("div",{style:{padding:"2rem",background:"#fff",margin:"2rem",borderRadius:"8px"},children:[(0,C.jsx)("h2",{children:"\ud83d\udd04 Loading..."}),(0,C.jsx)("p",{children:"Loading user information..."})]})},Zi=e=>{let{isOpen:t,onConfirm:n,onCancel:a,userName:s}=e;return(0,r.useEffect)(()=>{const e=e=>{"Escape"===e.key&&t&&a()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[t,a]),(0,r.useEffect)(()=>{const e=e=>{"Enter"===e.key&&t&&n()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[t,n]),t?(0,C.jsx)("div",{className:"logout-confirmation-overlay",onClick:a,children:(0,C.jsxs)("div",{className:"logout-confirmation-modal",onClick:e=>e.stopPropagation(),children:[(0,C.jsxs)("div",{className:"logout-confirmation-header",children:[(0,C.jsx)("div",{className:"logout-icon",children:"\ud83d\udeaa"}),(0,C.jsx)("h3",{children:"Confirm Logout"})]}),(0,C.jsxs)("div",{className:"logout-confirmation-content",children:[(0,C.jsxs)("p",{children:["Are you sure you want to logout",s?", ".concat(s):"","?"]}),(0,C.jsxs)("div",{className:"logout-warning",children:[(0,C.jsx)("div",{className:"warning-icon",children:"\u26a0\ufe0f"}),(0,C.jsxs)("div",{className:"warning-text",children:[(0,C.jsx)("strong",{children:"Important:"})," You will need to log in again to access the system. Any unsaved work may be lost."]})]})]}),(0,C.jsxs)("div",{className:"logout-confirmation-actions",children:[(0,C.jsx)("button",{className:"btn btn-secondary btn-md logout-cancel-button",onClick:a,autoFocus:!0,children:"Cancel"}),(0,C.jsx)("button",{className:"btn btn-danger btn-md logout-confirm-button",onClick:n,children:"Yes, Logout"})]})]})}):null},el=()=>{const[e,t]=(0,r.useState)("processing"),[n,a]=(0,r.useState)("Processing authentication...");(0,r.useEffect)(()=>{(()=>{try{const e=new URLSearchParams(window.location.search),n=e.get("code"),r=e.get("error"),s=e.get("error_description"),o=e.get("state");r?(t("error"),a("Authentication failed: ".concat(s||r)),window.opener&&window.opener.postMessage({type:"sso_auth_error",error:s||r,state:o},window.location.origin),setTimeout(()=>{window.close()},3e3)):n?(t("success"),a("Authentication successful! Completing setup..."),window.opener&&window.opener.postMessage({type:"sso_auth_success",code:n,state:o},window.location.origin),setTimeout(()=>{window.close()},1e3)):(t("error"),a("No authorization code received. Please try again."),window.opener&&window.opener.postMessage({type:"sso_auth_error",error:"No authorization code received"},window.location.origin),setTimeout(()=>{window.close()},3e3))}catch(e){console.error("Error processing OAuth callback:",e),t("error"),a("An error occurred while processing the authentication callback."),window.opener&&window.opener.postMessage({type:"sso_auth_error",error:"Failed to process callback"},window.location.origin),setTimeout(()=>{window.close()},3e3)}})()},[]);return(0,C.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"100vh",fontFamily:"Arial, sans-serif",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",margin:0,padding:"2rem"},children:[(0,C.jsxs)("div",{style:{background:"white",borderRadius:"16px",padding:"3rem",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.2)",textAlign:"center",maxWidth:"500px",width:"100%"},children:[(0,C.jsx)("div",{style:{fontSize:"4rem",marginBottom:"1rem",animation:"processing"===e?"spin 2s linear infinite":"none"},children:(()=>{switch(e){case"processing":default:return"\ud83d\udd04";case"success":return"\u2705";case"error":return"\u274c"}})()}),(0,C.jsxs)("h2",{style:{color:(()=>{switch(e){case"processing":return"#ffc107";case"success":return"#28a745";case"error":return"#dc3545";default:return"#6c757d"}})(),marginBottom:"1rem",fontSize:"1.5rem",fontWeight:"600"},children:["processing"===e&&"Processing Authentication","success"===e&&"Authentication Successful","error"===e&&"Authentication Failed"]}),(0,C.jsx)("p",{style:{color:"#6c757d",fontSize:"1rem",lineHeight:"1.5",marginBottom:"2rem"},children:n}),"processing"===e&&(0,C.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem",color:"#ffc107"},children:[(0,C.jsx)("div",{style:{width:"20px",height:"20px",border:"2px solid #ffc107",borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}}),(0,C.jsx)("span",{children:"Please wait..."})]}),"success"===e&&(0,C.jsx)("p",{style:{color:"#28a745",fontSize:"0.9rem",fontStyle:"italic"},children:"This window will close automatically."}),"error"===e&&(0,C.jsxs)("div",{children:[(0,C.jsx)("button",{onClick:()=>window.close(),style:{background:"#dc3545",color:"white",border:"none",borderRadius:"8px",padding:"0.75rem 1.5rem",fontSize:"1rem",fontWeight:"600",cursor:"pointer",transition:"background-color 0.3s ease"},onMouseOver:e=>e.currentTarget.style.background="#c82333",onMouseOut:e=>e.currentTarget.style.background="#dc3545",children:"Close Window"}),(0,C.jsx)("p",{style:{color:"#6c757d",fontSize:"0.8rem",marginTop:"1rem",fontStyle:"italic"},children:"Window will auto-close in a few seconds."})]})]}),(0,C.jsx)("style",{children:"\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      "})]})};window.forceResetPermissions=()=>{try{localStorage.removeItem("app_runtime_permissions"),localStorage.removeItem("codeTables"),localStorage.removeItem("permissions"),(0,Qo.resetPermissions)(),console.log("Permissions have been reset to defaults"),window.location.reload()}catch(e){console.error("Error resetting permissions:",e)}},window.debugPermissions=()=>{try{const e=localStorage.getItem("app_runtime_permissions");console.log("Current stored permissions:",e?JSON.parse(e):"None");const{getRuntimePermissions:t}=n(481),r=t();console.log("Runtime permissions:",r);const a=r.filter(e=>"code-table-setup"===e.actionId);console.log("Code Table Setup permissions:",a)}catch(e){console.error("Error debugging permissions:",e)}},window.clearAndRefresh=()=>{localStorage.clear(),window.location.reload()};const tl=()=>{try{console.log("Fixing Code Table Setup permissions...");const e=localStorage.getItem("app_runtime_permissions");let t=e?JSON.parse(e):[];const n=Ko.P.filter(e=>"code-table-setup"===e.actionId);console.log("Expected code-table-setup permissions:",n),t=t.filter(e=>"code-table-setup"!==e.actionId),t.push(...n),localStorage.setItem("app_runtime_permissions",JSON.stringify(t)),console.log("Code Table Setup permissions fixed!"),console.log("Updated permissions:",t.filter(e=>"code-table-setup"===e.actionId)),window.location.reload()}catch(e){console.error("Error fixing code table permissions:",e)}};window.fixCodeTablePermissions=tl,setTimeout(()=>{const e=localStorage.getItem("app_runtime_permissions");if(console.log("Checking permissions...",e),e){const t=JSON.parse(e).find(e=>"admin"===e.roleId&&"code-table-setup"===e.actionId&&!0===e.allowed);console.log("Admin code-table-setup permission found:",t),t||(console.log("Admin code-table-setup permission missing, auto-fixing..."),tl())}else console.log("No stored permissions found, they may need to be initialized")},1e3);window.emergencyPermissionFix=()=>{console.log("=== EMERGENCY PERMISSION FIX ==="),localStorage.removeItem("app_runtime_permissions"),console.log("1. Cleared stored permissions");localStorage.setItem("app_runtime_permissions",JSON.stringify([{actionId:"code-table-setup",roleId:"admin",allowed:!0},{actionId:"create-case",roleId:"admin",allowed:!0},{actionId:"view-cases",roleId:"admin",allowed:!0},{actionId:"amend-case",roleId:"admin",allowed:!0},{actionId:"delete-case",roleId:"admin",allowed:!0},{actionId:"edit-sets",roleId:"admin",allowed:!0},{actionId:"booking-calendar",roleId:"admin",allowed:!0},{actionId:"view-users",roleId:"admin",allowed:!0},{actionId:"create-user",roleId:"admin",allowed:!0},{actionId:"edit-user",roleId:"admin",allowed:!0},{actionId:"delete-user",roleId:"admin",allowed:!0},{actionId:"system-settings",roleId:"admin",allowed:!0},{actionId:"backup-restore",roleId:"admin",allowed:!0},{actionId:"audit-logs",roleId:"admin",allowed:!0},{actionId:"export-data",roleId:"admin",allowed:!0},{actionId:"import-data",roleId:"admin",allowed:!0},{actionId:"upload-files",roleId:"admin",allowed:!0},{actionId:"download-files",roleId:"admin",allowed:!0},{actionId:"delete-files",roleId:"admin",allowed:!0},{actionId:"view-reports",roleId:"admin",allowed:!0},{actionId:"process-order",roleId:"admin",allowed:!0},{actionId:"order-processed",roleId:"admin",allowed:!0},{actionId:"pending-delivery-hospital",roleId:"admin",allowed:!0},{actionId:"delivered-hospital",roleId:"admin",allowed:!0},{actionId:"case-completed",roleId:"admin",allowed:!0},{actionId:"delivered-office",roleId:"admin",allowed:!0},{actionId:"to-be-billed",roleId:"admin",allowed:!0}])),console.log("2. Set basic admin permissions"),console.log("3. Refreshing page..."),window.location.reload()},console.log("Emergency fix loaded. Run emergencyPermissionFix() in console to fix permissions.");const nl=()=>{console.log("=== PERMISSION LOADING TEST ==="),console.log("1. Default permissions from data file:"),console.log("Total permissions:",Ko.P.length);const e=Ko.P.filter(e=>"admin"===e.roleId);console.log("Admin permissions count:",e.length);const t=e.find(e=>"code-table-setup"===e.actionId);console.log("Admin code-table-setup permission:",t),console.log("2. Permission actions list:"),console.log("Total actions:",Ko.$r.length);const n=Ko.$r.find(e=>"code-table-setup"===e.id);console.log("Code table action definition:",n),console.log("3. Spread operator test:");const r=Ko.$r.map(e=>({actionId:e.id,roleId:"admin",allowed:!0}));console.log("Spread operator result count:",r.length);const a=r.find(e=>"code-table-setup"===e.actionId);console.log("Spread operator code-table-setup:",a),console.log("4. LocalStorage current state:");const s=localStorage.getItem("app_runtime_permissions");if(s){const e=JSON.parse(s);console.log("Stored permissions count:",e.length);const t=e.find(e=>"admin"===e.roleId&&"code-table-setup"===e.actionId);console.log("Stored admin code-table-setup:",t)}else console.log("No stored permissions found");console.log("5. System Settings category check:");const o=Ko.$r.filter(e=>"System Settings"===e.category);console.log("System Settings actions:",o.map(e=>e.name)),console.log("6. Permission Matrix filtering test:");const i=Array.from(new Set(Ko.$r.map(e=>e.category)));console.log("All categories:",i),console.log("=== END TEST ===")};window.testPermissionLoading=nl,setTimeout(()=>{console.log("Running automatic permission test..."),nl()},2e3);const rl=()=>{console.log("=== PERMISSION DATA INTEGRITY CHECK ===");const e=Ko.$r.find(e=>"code-table-setup"===e.id);console.log("1. Code Table Setup Action:",e);const t=Ko.P.filter(e=>"admin"===e.roleId&&"code-table-setup"===e.actionId);console.log("2. Admin Code Table Setup Permissions:",t);const n=Ko.P.filter(e=>"admin"===e.roleId);console.log("3. Total Admin Permissions:",n.length),console.log("Admin permission actions:",n.map(e=>e.actionId));const r=Ko.$r.filter(e=>"System Settings"===e.category);console.log("4. System Settings Actions:",r.map(e=>e.id));const a=Ko.P.filter(e=>"admin"===e.roleId&&r.some(t=>t.id===e.actionId));console.log("5. Admin System Settings Permissions:",a);const s=[];for(let o=0;o<Ko.P.length;o++)for(let e=o+1;e<Ko.P.length;e++)Ko.P[o].roleId===Ko.P[e].roleId&&Ko.P[o].actionId===Ko.P[e].actionId&&s.push("".concat(Ko.P[o].roleId,":").concat(Ko.P[o].actionId));return console.log("6. Duplicate Permissions:",s),console.log("=== END CHECK ==="),{codeTableAction:e,adminCodeTablePerms:t,totalAdminPerms:n.length,systemSettingsActions:r.length,adminSystemSettingsPerms:a.length,duplicates:s.length}};window.checkPermissionIntegrity=rl,setTimeout(()=>{rl()},1500);window.forceFixAllPermissions=()=>{console.log("=== FORCE FIXING ALL PERMISSIONS ==="),localStorage.clear();const e=[{actionId:"create-case",roleId:"admin",allowed:!0},{actionId:"view-cases",roleId:"admin",allowed:!0},{actionId:"amend-case",roleId:"admin",allowed:!0},{actionId:"delete-case",roleId:"admin",allowed:!0},{actionId:"edit-sets",roleId:"admin",allowed:!0},{actionId:"booking-calendar",roleId:"admin",allowed:!0},{actionId:"process-order",roleId:"admin",allowed:!0},{actionId:"order-processed",roleId:"admin",allowed:!0},{actionId:"pending-delivery-hospital",roleId:"admin",allowed:!0},{actionId:"delivered-hospital",roleId:"admin",allowed:!0},{actionId:"case-completed",roleId:"admin",allowed:!0},{actionId:"delivered-office",roleId:"admin",allowed:!0},{actionId:"to-be-billed",roleId:"admin",allowed:!0},{actionId:"export-data",roleId:"admin",allowed:!0},{actionId:"import-data",roleId:"admin",allowed:!0},{actionId:"view-reports",roleId:"admin",allowed:!0},{actionId:"create-user",roleId:"admin",allowed:!0},{actionId:"edit-user",roleId:"admin",allowed:!0},{actionId:"delete-user",roleId:"admin",allowed:!0},{actionId:"view-users",roleId:"admin",allowed:!0},{actionId:"enable-disable-user",roleId:"admin",allowed:!0},{actionId:"system-settings",roleId:"admin",allowed:!0},{actionId:"code-table-setup",roleId:"admin",allowed:!0},{actionId:"backup-restore",roleId:"admin",allowed:!0},{actionId:"audit-logs",roleId:"admin",allowed:!0},{actionId:"upload-files",roleId:"admin",allowed:!0},{actionId:"download-files",roleId:"admin",allowed:!0},{actionId:"delete-files",roleId:"admin",allowed:!0},{actionId:"code-table-setup",roleId:"it",allowed:!0},{actionId:"system-settings",roleId:"it",allowed:!0},{actionId:"view-users",roleId:"it",allowed:!0},{actionId:"create-user",roleId:"it",allowed:!0},{actionId:"edit-user",roleId:"it",allowed:!0},{actionId:"delete-user",roleId:"it",allowed:!0},{actionId:"enable-disable-user",roleId:"it",allowed:!0},{actionId:"backup-restore",roleId:"it",allowed:!0},{actionId:"audit-logs",roleId:"it",allowed:!0},{actionId:"view-cases",roleId:"it",allowed:!0},{actionId:"edit-sets",roleId:"it",allowed:!0},{actionId:"import-data",roleId:"it",allowed:!0},{actionId:"export-data",roleId:"it",allowed:!0},{actionId:"upload-files",roleId:"it",allowed:!0},{actionId:"download-files",roleId:"it",allowed:!0},{actionId:"delete-files",roleId:"it",allowed:!0},{actionId:"view-reports",roleId:"it",allowed:!0}];localStorage.setItem("app_runtime_permissions",JSON.stringify(e)),console.log("\u2705 Set",e.length,"permissions"),console.log("\u2705 Admin code-table-setup:",e.find(e=>"admin"===e.roleId&&"code-table-setup"===e.actionId)),console.log("\u2705 Admin system-settings:",e.find(e=>"admin"===e.roleId&&"system-settings"===e.actionId)),console.log("\ud83d\udd04 Refreshing page..."),window.location.reload()},console.log("\ud83d\udea8 Emergency fix loaded! Run forceFixAllPermissions() to fix all permission issues.");const al={statusUpdates:!0,caseCreated:!0,caseAmended:!0,orderProcessed:!0,orderDelivered:!0,orderReceived:!0,caseCompleted:!0,toBeBilled:!0,systemAlerts:!0,reminderNotifications:!0,sound:!0,desktop:!1},sl=e=>{let{isOpen:t,onClose:n}=e;const[a,s]=(0,r.useState)(al),[i]=(0,r.useState)(g()),l=!!i&&(0,Ko._m)(i.role,"view-notification-settings"),c=!!i&&(0,Ko._m)(i.role,"configure-notifications");(0,r.useEffect)(()=>{if(i){const t=localStorage.getItem("notificationPreferences_".concat(i.id));if(t)try{const e=JSON.parse(t);s((0,o.A)((0,o.A)({},al),e))}catch(e){console.error("Error parsing notification preferences:",e)}}},[i]);const d=e=>{i&&(localStorage.setItem("notificationPreferences_".concat(i.id),JSON.stringify(e)),s(e))},u=(e,t)=>{if(!c)return;const n=(0,o.A)((0,o.A)({},a),{},{[e]:t});d(n)};return t?l?(0,C.jsx)("div",{className:"notification-settings-overlay",children:(0,C.jsxs)("div",{className:"notification-settings-modal",children:[(0,C.jsxs)("div",{className:"notification-settings-header",children:[(0,C.jsx)("h2",{children:"\ud83d\udd14 Notification Settings"}),(0,C.jsx)("button",{className:"btn btn-outline-secondary btn-sm close-settings-button",onClick:n,title:"Close settings",children:"\u2715"})]}),(0,C.jsxs)("div",{className:"notification-settings-content",children:[c&&(0,C.jsxs)("div",{className:"settings-quick-actions",children:[(0,C.jsx)("button",{className:"btn btn-outline-primary btn-sm",onClick:()=>{if(!c)return;d({statusUpdates:!0,caseCreated:!0,caseAmended:!0,orderProcessed:!0,orderDelivered:!0,orderReceived:!0,caseCompleted:!0,toBeBilled:!0,systemAlerts:!0,reminderNotifications:!0,sound:!0,desktop:!0})},children:"\u2705 Enable All"}),(0,C.jsx)("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>{if(!c)return;d({statusUpdates:!1,caseCreated:!1,caseAmended:!1,orderProcessed:!1,orderDelivered:!1,orderReceived:!1,caseCompleted:!1,toBeBilled:!1,systemAlerts:!1,reminderNotifications:!1,sound:!1,desktop:!1})},children:"\u274c Disable All"}),(0,C.jsx)("button",{className:"btn btn-outline-warning btn-sm",onClick:()=>{c&&d(al)},children:"\ud83d\udd04 Reset to Default"})]}),!c&&(0,C.jsx)("div",{className:"settings-readonly-notice",children:(0,C.jsx)("p",{children:"\u26a0\ufe0f You have read-only access to notification settings. Contact your administrator to request modification permissions."})}),(0,C.jsxs)("div",{className:"settings-section",children:[(0,C.jsx)("h3",{children:"\ud83d\udccb Workflow Notifications"}),(0,C.jsxs)("div",{className:"settings-group",children:[(0,C.jsxs)("label",{className:"setting-item",children:[(0,C.jsx)("input",{type:"checkbox",checked:a.statusUpdates,onChange:e=>u("statusUpdates",e.target.checked),disabled:!c}),(0,C.jsxs)("span",{className:"setting-label",children:[(0,C.jsx)("span",{className:"setting-title",children:"Status Updates"}),(0,C.jsx)("span",{className:"setting-description",children:"Receive notifications when case statuses change"})]})]}),(0,C.jsxs)("label",{className:"setting-item",children:[(0,C.jsx)("input",{type:"checkbox",checked:a.caseCreated,onChange:e=>u("caseCreated",e.target.checked),disabled:!c}),(0,C.jsxs)("span",{className:"setting-label",children:[(0,C.jsx)("span",{className:"setting-title",children:"Case Created"}),(0,C.jsx)("span",{className:"setting-description",children:"New case bookings in your departments"})]})]}),(0,C.jsxs)("label",{className:"setting-item",children:[(0,C.jsx)("input",{type:"checkbox",checked:a.caseAmended,onChange:e=>u("caseAmended",e.target.checked),disabled:!c}),(0,C.jsxs)("span",{className:"setting-label",children:[(0,C.jsx)("span",{className:"setting-title",children:"Case Amended"}),(0,C.jsx)("span",{className:"setting-description",children:"Case details have been modified"})]})]}),(0,C.jsxs)("label",{className:"setting-item",children:[(0,C.jsx)("input",{type:"checkbox",checked:a.orderProcessed,onChange:e=>u("orderProcessed",e.target.checked),disabled:!c}),(0,C.jsxs)("span",{className:"setting-label",children:[(0,C.jsx)("span",{className:"setting-title",children:"Order Processed"}),(0,C.jsx)("span",{className:"setting-description",children:"Orders have been prepared"})]})]}),(0,C.jsxs)("label",{className:"setting-item",children:[(0,C.jsx)("input",{type:"checkbox",checked:a.orderDelivered,onChange:e=>u("orderDelivered",e.target.checked),disabled:!c}),(0,C.jsxs)("span",{className:"setting-label",children:[(0,C.jsx)("span",{className:"setting-title",children:"Order Delivered"}),(0,C.jsx)("span",{className:"setting-description",children:"Orders delivered to hospitals"})]})]}),(0,C.jsxs)("label",{className:"setting-item",children:[(0,C.jsx)("input",{type:"checkbox",checked:a.orderReceived,onChange:e=>u("orderReceived",e.target.checked),disabled:!c}),(0,C.jsxs)("span",{className:"setting-label",children:[(0,C.jsx)("span",{className:"setting-title",children:"Order Received"}),(0,C.jsx)("span",{className:"setting-description",children:"Orders confirmed at hospitals"})]})]}),(0,C.jsxs)("label",{className:"setting-item",children:[(0,C.jsx)("input",{type:"checkbox",checked:a.caseCompleted,onChange:e=>u("caseCompleted",e.target.checked),disabled:!c}),(0,C.jsxs)("span",{className:"setting-label",children:[(0,C.jsx)("span",{className:"setting-title",children:"Case Completed"}),(0,C.jsx)("span",{className:"setting-description",children:"Surgical procedures completed"})]})]}),(0,C.jsxs)("label",{className:"setting-item",children:[(0,C.jsx)("input",{type:"checkbox",checked:a.toBeBilled,onChange:e=>u("toBeBilled",e.target.checked),disabled:!c}),(0,C.jsxs)("span",{className:"setting-label",children:[(0,C.jsx)("span",{className:"setting-title",children:"Ready for Billing"}),(0,C.jsx)("span",{className:"setting-description",children:"Cases ready for invoicing"})]})]})]})]}),(0,C.jsxs)("div",{className:"settings-section",children:[(0,C.jsx)("h3",{children:"\u2699\ufe0f System Notifications"}),(0,C.jsxs)("div",{className:"settings-group",children:[(0,C.jsxs)("label",{className:"setting-item",children:[(0,C.jsx)("input",{type:"checkbox",checked:a.systemAlerts,onChange:e=>u("systemAlerts",e.target.checked),disabled:!c}),(0,C.jsxs)("span",{className:"setting-label",children:[(0,C.jsx)("span",{className:"setting-title",children:"System Alerts"}),(0,C.jsx)("span",{className:"setting-description",children:"Important system messages and updates"})]})]}),(0,C.jsxs)("label",{className:"setting-item",children:[(0,C.jsx)("input",{type:"checkbox",checked:a.reminderNotifications,onChange:e=>u("reminderNotifications",e.target.checked),disabled:!c}),(0,C.jsxs)("span",{className:"setting-label",children:[(0,C.jsx)("span",{className:"setting-title",children:"Reminder Notifications"}),(0,C.jsx)("span",{className:"setting-description",children:"Upcoming surgery reminders and deadlines"})]})]})]})]}),(0,C.jsxs)("div",{className:"settings-section",children:[(0,C.jsx)("h3",{children:"\ud83d\udd0a Notification Methods"}),(0,C.jsxs)("div",{className:"settings-group",children:[(0,C.jsxs)("label",{className:"setting-item",children:[(0,C.jsx)("input",{type:"checkbox",checked:a.sound,onChange:e=>u("sound",e.target.checked),disabled:!c}),(0,C.jsxs)("span",{className:"setting-label",children:[(0,C.jsx)("span",{className:"setting-title",children:"Sound Alerts"}),(0,C.jsx)("span",{className:"setting-description",children:"Play audio when notifications arrive"})]})]}),(0,C.jsxs)("label",{className:"setting-item",children:[(0,C.jsx)("input",{type:"checkbox",checked:a.desktop,onChange:e=>u("desktop",e.target.checked),disabled:!c}),(0,C.jsxs)("span",{className:"setting-label",children:[(0,C.jsx)("span",{className:"setting-title",children:"Desktop Notifications"}),(0,C.jsx)("span",{className:"setting-description",children:"Show browser desktop notifications"})]})]})]})]})]}),(0,C.jsxs)("div",{className:"notification-settings-footer",children:[(0,C.jsx)("p",{className:"settings-note",children:"\ud83d\udca1 Tip: You can customize which notifications you receive to reduce noise and stay focused."}),(0,C.jsx)("button",{className:"btn btn-primary",onClick:n,children:"Done"})]})]})}):(0,C.jsx)("div",{className:"notification-settings-overlay",children:(0,C.jsxs)("div",{className:"notification-settings-modal",children:[(0,C.jsxs)("div",{className:"notification-settings-header",children:[(0,C.jsx)("h2",{children:"\ud83d\udd14 Notification Settings"}),(0,C.jsx)("button",{className:"btn btn-outline-secondary btn-sm close-settings-button",onClick:n,title:"Close settings",children:"\u2715"})]}),(0,C.jsx)("div",{className:"notification-settings-content",children:(0,C.jsxs)("div",{className:"permission-denied-message",children:[(0,C.jsx)("h3",{children:"Access Denied"}),(0,C.jsx)("p",{children:"You don't have permission to view notification settings."}),(0,C.jsx)("p",{children:"Please contact your administrator to request access."})]})}),(0,C.jsx)("div",{className:"notification-settings-footer",children:(0,C.jsx)("button",{className:"btn btn-primary",onClick:n,children:"Close"})})]})}):null},ol=()=>{const[e,t]=(0,r.useState)(!1),[n,a]=(0,r.useState)(!1),{notifications:s,unreadCount:o,markAsRead:i,markAllAsRead:l,clearNotification:c}=$o(),{playSound:d}=mi(),u=(0,r.useRef)(null),p=g(),m=!!p&&(0,Ko._m)(p.role,"view-notification-settings");(0,r.useEffect)(()=>{const e=e=>{u.current&&!u.current.contains(e.target)&&t(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,r.useEffect)(()=>{const n=n=>{"Escape"===n.key&&e&&t(!1)};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[e]);const h=(0,r.useCallback)((e,t)=>{t.stopPropagation(),c(e),d.click()},[c,d]),f=(0,r.useCallback)(e=>{const t=new Date,n=new Date(e),r=Math.floor((t.getTime()-n.getTime())/6e4);if(r<1)return"Just now";if(r<60)return"".concat(r,"m ago");const a=Math.floor(r/60);if(a<24)return"".concat(a,"h ago");const s=Math.floor(a/24);return s<7?"".concat(s,"d ago"):Uo(n)},[]),v=(0,r.useCallback)(e=>{switch(e){case"success":return"\u2705";case"warning":return"\u26a0\ufe0f";case"error":return"\u274c";default:return"\u2139\ufe0f"}},[]),y=(0,r.useMemo)(()=>s.slice(0,10),[s]);return(0,C.jsxs)("div",{className:"notification-bell-container",ref:u,children:[(0,C.jsxs)("button",{className:"btn btn-outline-secondary btn-md notification-bell ".concat(o>0?"has-unread":""),onClick:()=>{t(!e),d.click(),!e&&o>0&&l()},title:"".concat(o," unread notifications"),children:["\ud83d\udd14",o>0&&(0,C.jsx)("span",{className:"notification-badge",children:o>99?"99+":o})]}),e&&(0,C.jsxs)("div",{className:"notification-dropdown",children:[(0,C.jsxs)("div",{className:"notification-header",children:[(0,C.jsx)("h3",{children:"Notifications"}),(0,C.jsxs)("div",{className:"notification-header-actions",children:[m&&(0,C.jsx)("button",{onClick:()=>{a(!0),t(!1),d.click()},className:"btn btn-outline-primary btn-sm settings-button",title:"Notification Settings",children:"\u2699\ufe0f Settings"}),s.length>0&&(0,C.jsx)("button",{onClick:()=>{l(),d.click()},className:"btn btn-outline-secondary btn-sm mark-all-read-button",children:"Mark all read"})]})]}),(0,C.jsx)("div",{className:"notification-list",children:0===s.length?(0,C.jsxs)("div",{className:"no-notifications",children:[(0,C.jsx)("div",{className:"no-notifications-icon",children:"\ud83d\udd15"}),(0,C.jsx)("p",{children:"No notifications yet"}),(0,C.jsx)("small",{children:"You'll see important updates here"})]}):y.map(e=>(0,C.jsxs)("div",{className:"notification-item ".concat(e.read?"":"unread"," ").concat(e.urgent?"urgent":""),onClick:()=>{return t=e.id,i(t),void d.click();var t},children:[(0,C.jsxs)("div",{className:"notification-content",children:[(0,C.jsx)("div",{className:"notification-icon",children:v(e.type)}),(0,C.jsxs)("div",{className:"notification-text",children:[(0,C.jsx)("div",{className:"notification-title",children:e.title}),(0,C.jsx)("div",{className:"notification-message",children:e.message}),(0,C.jsx)("div",{className:"notification-time",children:f(e.timestamp)})]}),(0,C.jsx)("button",{className:"btn btn-outline-secondary btn-sm notification-close",onClick:t=>h(e.id,t),title:"Clear notification",children:"\u2715"})]}),!e.read&&(0,C.jsx)("div",{className:"unread-indicator"})]},e.id))}),s.length>10&&(0,C.jsx)("div",{className:"notification-footer",children:(0,C.jsxs)("small",{children:["Showing 10 of ",s.length," notifications"]})})]}),(0,C.jsx)(sl,{isOpen:n,onClose:()=>a(!1)})]})},il=(0,r.memo)(ol),ll="1.1.7",cl=()=>{const[e,t]=(0,r.useState)(!1),{isEnabled:n,volume:a,toggleSound:s,setVolume:o,playSound:i}=mi(),{showSuccess:l}=vi(),c=(0,r.useRef)(null),[d,u]=(0,r.useState)(a),[p,m]=(0,r.useState)(!1),[h,f]=(0,r.useState)("default");(0,r.useEffect)(()=>{const e=e=>{c.current&&!c.current.contains(e.target)&&t(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,r.useEffect)(()=>{const e=e=>{"Escape"===e.key&&t(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[e]),(0,r.useEffect)(()=>{e&&u(a)},[e,a]);return(0,r.useEffect)(()=>{if("Notification"in window){f(Notification.permission);const e=localStorage.getItem("notifications-enabled");e&&m(JSON.parse(e))}},[]),(0,C.jsxs)("div",{className:"settings-container",ref:c,children:[(0,C.jsx)("button",{className:"btn btn-secondary btn-md settings-button",onClick:()=>{t(!e),i.click()},title:"Settings",children:"\u2699\ufe0f"}),e&&(0,C.jsxs)("div",{className:"settings-dropdown",children:[(0,C.jsxs)("div",{className:"settings-header",children:[(0,C.jsx)("h3",{children:"Settings"}),(0,C.jsx)("button",{onClick:()=>t(!1),className:"btn btn-secondary btn-sm settings-close",title:"Close settings",children:"\u2715"})]}),(0,C.jsxs)("div",{className:"settings-content",children:[(0,C.jsxs)("div",{className:"settings-section",children:[(0,C.jsx)("h4",{children:"\ud83d\udd0a Sound Settings"}),(0,C.jsxs)("div",{className:"settings-item",children:[(0,C.jsxs)("div",{className:"settings-item-info",children:[(0,C.jsx)("label",{children:"Enable Sounds"}),(0,C.jsx)("small",{children:"Play audio feedback for user actions"})]}),(0,C.jsx)("button",{className:"btn btn-secondary btn-sm toggle-switch ".concat(n?"enabled":"disabled"),onClick:()=>{s(),i.click();const e=!n;l(e?"Sounds Enabled":"Sounds Disabled",e?"You will now hear audio feedback for actions":"Audio feedback has been disabled")},children:(0,C.jsx)("span",{className:"toggle-slider"})})]}),n&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:"settings-item",children:[(0,C.jsxs)("div",{className:"settings-item-info",children:[(0,C.jsx)("label",{children:"Volume"}),(0,C.jsx)("small",{children:"Adjust sound volume level"})]}),(0,C.jsxs)("div",{className:"volume-control",children:[(0,C.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:d,onChange:e=>{return t=parseFloat(e.target.value),u(t),o(t),void(n&&i.click());var t},className:"volume-slider"}),(0,C.jsxs)("span",{className:"volume-percentage",children:[Math.round(100*d),"%"]})]})]}),(0,C.jsx)("div",{className:"settings-item",children:(0,C.jsx)("button",{onClick:()=>{i.notification(),l("Sound Test","This is how notifications will sound")},className:"btn btn-info btn-md test-sound-button",children:"\ud83c\udfb5 Test Sound"})})]})]}),(0,C.jsxs)("div",{className:"settings-section",children:[(0,C.jsx)("h4",{children:"\ud83d\udd14 Notification Settings"}),(0,C.jsx)("div",{className:"settings-item",children:(0,C.jsxs)("div",{className:"settings-item-info",children:[(0,C.jsx)("label",{children:"Browser Notifications"}),(0,C.jsx)("small",{children:"Show desktop notifications for important updates"})]})}),(0,C.jsx)("div",{className:"settings-item",children:(0,C.jsx)("div",{className:"notification-control",children:(0,C.jsx)("button",{className:"Notification"in window&&"denied"!==h?"granted"===h&&p?"btn btn-success btn-sm":"btn btn-primary btn-sm":"btn btn-secondary btn-sm notification-disabled",onClick:async()=>{if("Notification"in window)if("denied"!==h){if("default"===h)try{const e=await Notification.requestPermission();f(e),"granted"===e?(m(!0),localStorage.setItem("notifications-enabled","true"),l("Notifications Enabled","You will now receive browser notifications"),new Notification("Case Booking System",{body:"Notifications are now enabled!",icon:"/favicon.ico"})):l("Permission Required","Please allow notifications to enable this feature")}catch(e){console.error("Error requesting notification permission:",e),l("Error","Failed to request notification permission")}else if("granted"===h){const e=!p;m(e),localStorage.setItem("notifications-enabled",JSON.stringify(e)),e?(l("Notifications Enabled","You will now receive browser notifications"),new Notification("Case Booking System",{body:"Notifications are now enabled!",icon:"/favicon.ico"})):l("Notifications Disabled","Browser notifications have been disabled")}i.click()}else l("Permission Denied","Notifications are blocked. Please enable them in your browser settings.");else l("Not Supported","Browser notifications are not supported in this browser")},disabled:!("Notification"in window)||"denied"===h,children:"Notification"in window?"denied"===h?"Blocked":"default"===h?"Allow":p?"Enabled":"Disabled":"Not Supported"})})}),p&&"granted"===h&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:"settings-item",children:(0,C.jsxs)("div",{className:"settings-item-info",children:[(0,C.jsx)("label",{children:"Notification Status"}),(0,C.jsx)("small",{children:"Your browser will show notifications for case updates"})]})}),(0,C.jsx)("div",{className:"settings-item",children:(0,C.jsx)("button",{onClick:()=>{"Notification"in window?"granted"===h&&p?(new Notification("Test Notification",{body:"This is a test notification from the Case Booking System",icon:"/favicon.ico",tag:"test-notification"}),i.notification(),l("Test Sent","Test notification has been sent")):l("Enable Notifications","Please enable notifications first"):l("Not Supported","Browser notifications are not supported")},className:"btn btn-info btn-sm",children:"\ud83e\uddea Test Notification"})})]}),"denied"===h&&(0,C.jsx)("div",{className:"settings-item",children:(0,C.jsx)("div",{className:"notification-blocked-info",children:(0,C.jsxs)("small",{style:{color:"#e74c3c"},children:["Notifications are blocked. To enable them:",(0,C.jsx)("br",{}),"1. Click the lock icon in your browser's address bar",(0,C.jsx)("br",{}),'2. Set Notifications to "Allow"',(0,C.jsx)("br",{}),"3. Refresh this page"]})})})]}),(0,C.jsxs)("div",{className:"settings-section",children:[(0,C.jsx)("h4",{children:"\u2139\ufe0f Application Info"}),(0,C.jsx)("div",{className:"settings-item",children:(0,C.jsxs)("div",{className:"app-info",children:[(0,C.jsxs)("div",{className:"info-row",children:[(0,C.jsx)("span",{children:"Version:"}),(0,C.jsx)("span",{children:ll})]}),(0,C.jsxs)("div",{className:"info-row",children:[(0,C.jsx)("span",{children:"Last Updated:"}),(0,C.jsx)("span",{children:"June 2025"})]}),(0,C.jsxs)("div",{className:"info-row",children:[(0,C.jsx)("span",{children:"Build:"}),(0,C.jsx)("span",{children:"Staging"})]})]})})]}),(0,C.jsxs)("div",{className:"settings-section",children:[(0,C.jsx)("h4",{children:"\ud83d\udd27 Actions"}),(0,C.jsx)("div",{className:"settings-actions",children:(0,C.jsx)("button",{onClick:()=>{o(.5),u(.5),n||s(),m(!1),localStorage.removeItem("notifications-enabled"),i.success(),l("Settings Reset","All settings have been restored to defaults")},className:"btn btn-warning btn-md reset-settings-button",children:"\ud83d\udd04 Reset to Defaults"})})]})]})]})]})},dl=()=>{const[e,t]=(0,r.useState)(!1);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("button",{className:"status-legend-button",onClick:()=>t(!0),children:"\ud83d\udcca Status Colors"}),e&&(0,C.jsx)("div",{className:"status-legend-overlay",onClick:()=>t(!1),children:(0,C.jsxs)("div",{className:"status-legend-popup",onClick:e=>e.stopPropagation(),children:[(0,C.jsxs)("div",{className:"legend-header",children:[(0,C.jsx)("h3",{children:"Status Color Legend"}),(0,C.jsx)("button",{className:"close-button",onClick:()=>t(!1),"aria-label":"Close",children:"\u2715"})]}),(0,C.jsx)("div",{className:"legend-content",children:(0,C.jsx)("div",{className:"legend-grid",children:[{status:"Case Booked",description:"Initial case submission"},{status:"Order Preparation",description:"Processing order details"},{status:"Order Prepared",description:"Ready for delivery"},{status:"Pending Delivery (Hospital)",description:"Pending hospital delivery"},{status:"Delivered (Hospital)",description:"Delivered to hospital"},{status:"Case Completed",description:"Surgery completed"},{status:"Pending Delivery (Office)",description:"Pending office delivery"},{status:"Delivered (Office)",description:"Equipment returned to office"},{status:"To be billed",description:"Ready for billing"},{status:"Case Closed",description:"Case finalized and closed"},{status:"Case Cancelled",description:"Case cancelled"}].map(e=>{let{status:t,description:n}=e;return(0,C.jsxs)("div",{className:"legend-item",children:[(0,C.jsx)("div",{className:"status-indicator",style:{backgroundColor:ni(t)}}),(0,C.jsxs)("div",{className:"status-info",children:[(0,C.jsx)("span",{className:"status-name",children:t}),(0,C.jsx)("span",{className:"status-description",children:n})]})]},t)})})})]})})]})},ul=()=>{const[e,t]=(0,r.useState)(null),[n,a]=(0,r.useState)("booking"),[s,o]=(0,r.useState)(null),[i,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),[u,p]=(0,r.useState)(!1),[m,f]=(0,r.useState)(null),v=(0,r.useRef)(null),{playSound:y}=mi(),{addNotification:b}=$o(),{showSuccess:x}=vi(),w="/auth/callback"===window.location.pathname||window.location.search.includes("code=");if((0,r.useEffect)(()=>{N();const e=g();e&&t(e)},[]),(0,r.useEffect)(()=>{const e=e=>{v.current&&!v.current.contains(e.target)&&u&&p(!1)};return u&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[u]),w)return(0,C.jsx)(el,{});const S=e=>{t(e),l(!0),y.success(),x("Welcome back!","You're now logged in as ".concat(e.name)),b({title:"Successful Login",message:"Welcome back, ".concat(e.name,"! You're logged in as ").concat(e.role,"."),type:"success"})};return e?(0,C.jsxs)("div",{className:"app",children:[(0,C.jsx)("header",{className:"app-header",children:(0,C.jsxs)("div",{className:"header-content",children:[(0,C.jsxs)("div",{className:"header-left",children:[(0,C.jsx)("h1",{children:"\ud83c\udfe5 Transmedic Case Booking"}),(0,C.jsx)("div",{className:"header-info",children:(0,C.jsxs)("div",{className:"role-country-info",children:[(0,C.jsx)("span",{className:"info-label",children:"Role:"}),(0,C.jsx)("span",{className:"role-badge ".concat(e.role),children:e.role.replace("-"," ").toUpperCase()}),e.selectedCountry&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("span",{className:"info-label",children:"Country:"}),(0,C.jsx)("span",{className:"country-badge",children:e.selectedCountry})]}),(e=>!!e&&("admin"===e.role||(0,Qo.hasPermission)(e.role,Qo.PERMISSION_ACTIONS.VIEW_USERS)||"it"===e.role))(e)&&(0,C.jsxs)("div",{className:"header-admin-panel",ref:v,children:[(0,C.jsxs)("button",{className:"header-admin-toggle ".concat(u?"expanded":""),onClick:()=>{p(!u),y.click()},title:"Admin Panel",children:[(0,C.jsx)("span",{className:"admin-icon",children:"\ud83d\udc51"}),(0,C.jsx)("span",{className:"admin-label",children:"Admin"}),(0,C.jsx)("span",{className:"chevron ".concat(u?"down":"right"),children:u?"\u25bc":"\u25b6"})]}),u&&(0,C.jsxs)("div",{className:"header-admin-submenu",children:[(0,Qo.hasPermission)(e.role,"code-table-setup")&&(0,C.jsx)("button",{onClick:()=>{a("codetables"),y.click(),p(!1)},className:"header-admin-item ".concat("codetables"===n?"active":""),children:"\ud83d\udcca Code Table Setup"}),"admin"===e.role&&(0,C.jsx)("button",{onClick:()=>{a("permissions"),y.click(),p(!1)},className:"header-admin-item ".concat("permissions"===n?"active":""),children:"\ud83d\udd10 Permissions"}),(0,Qo.hasPermission)(e.role,Qo.PERMISSION_ACTIONS.EMAIL_CONFIG)&&(0,C.jsx)("button",{onClick:()=>{a("email-config"),y.click(),p(!1)},className:"header-admin-item ".concat("email-config"===n?"active":""),children:"\ud83d\udce7 Email Configuration"}),(0,Qo.hasPermission)(e.role,Qo.PERMISSION_ACTIONS.VIEW_USERS)&&(0,C.jsx)("button",{onClick:()=>{a("users"),y.click(),p(!1)},className:"header-admin-item ".concat("users"===n?"active":""),children:"\ud83d\udc65 User Management"}),(0,Qo.hasPermission)(e.role,Qo.PERMISSION_ACTIONS.AUDIT_LOGS)&&(0,C.jsx)("button",{onClick:()=>{a("audit-logs"),y.click(),p(!1)},className:"header-admin-item ".concat("audit-logs"===n?"active":""),children:"\ud83d\udcca Audit Logs"})]})]})]})})]}),(0,C.jsxs)("div",{className:"header-right",children:[(0,C.jsxs)("div",{className:"logged-in-info",children:[(0,C.jsx)("span",{className:"logged-in-label",children:"Logged in as:"}),(0,C.jsx)("span",{className:"user-display-name",children:e.name})]}),(0,C.jsxs)("div",{className:"header-actions",children:[(0,C.jsx)(il,{}),(0,C.jsx)(cl,{}),(0,C.jsx)("button",{onClick:()=>{d(!0)},className:"logout-button",children:"Logout"})]})]})]})}),(0,C.jsx)("nav",{className:"app-nav",children:(0,C.jsxs)("div",{className:"nav-buttons",children:[(0,Qo.hasPermission)(e.role,Qo.PERMISSION_ACTIONS.CREATE_CASE)&&(0,C.jsx)("button",{onClick:()=>{a("booking"),y.click()},className:"booking"===n?"active":"",children:"\ud83d\udcdd New Case Booking"}),(0,C.jsx)("button",{onClick:()=>{a("cases"),y.click()},className:"cases"===n?"active":"",children:"\ud83d\udccb View All Cases"}),(0,C.jsx)(dl,{}),(0,Qo.hasPermission)(e.role,"booking-calendar")&&(0,C.jsx)("button",{onClick:()=>{a("calendar"),y.click()},className:"calendar"===n?"active":"",children:"\ud83d\udcc5 Booking Calendar"}),("admin"===e.role||"operation-manager"===e.role)&&(0,C.jsx)("button",{onClick:()=>{a("sets"),y.click()},className:"sets"===n?"active":"",children:"\u2699\ufe0f Edit Sets"}),(0,Qo.hasPermission)(e.role,Qo.PERMISSION_ACTIONS.VIEW_REPORTS)&&(0,C.jsx)("button",{onClick:()=>{a("reports"),y.click()},className:"reports"===n?"active":"",children:"\ud83d\udcca Reports"})]})}),(0,C.jsxs)("main",{className:"app-main",children:["booking"===n&&(0,Qo.hasPermission)(e.role,Qo.PERMISSION_ACTIONS.CREATE_CASE)&&(0,C.jsx)(qo,{onCaseSubmitted:()=>{a("cases"),y.submit(),x("Case Submitted!","Your case booking has been submitted successfully with a reference number."),b({title:"New Case Submitted",message:"A new case booking has been created and assigned a reference number.",type:"success"})}}),"booking"===n&&!(0,Qo.hasPermission)(e.role,Qo.PERMISSION_ACTIONS.CREATE_CASE)&&(0,C.jsx)("div",{className:"permission-denied",children:(0,C.jsxs)("div",{className:"permission-denied-content",children:[(0,C.jsx)("h2",{children:"\ud83d\udeab Access Denied"}),(0,C.jsx)("p",{children:"You don't have permission to create new cases."}),(0,C.jsxs)("p",{children:["Your role (",(0,C.jsx)("span",{className:"role-badge ".concat(e.role),children:e.role.replace("-"," ").toUpperCase()}),") does not allow case booking access."]}),(0,C.jsx)("button",{onClick:()=>{a("cases"),y.click()},className:"btn btn-primary btn-lg",children:"View Cases Instead"})]})}),"cases"===n&&(0,C.jsx)(li,{onProcessCase:e=>{o(e),a("process"),y.click()},currentUser:e,highlightedCaseId:m,onClearHighlight:()=>f(null),onNavigateToPermissions:()=>{a("permissions"),y.click()}}),"process"===n&&s&&(0,C.jsx)(ci,{caseData:s,onProcessComplete:()=>{o(null),a("cases"),y.statusChange(),x("Order Processed!","The order has been successfully prepared and is ready for delivery."),b({title:"Order Processing Complete",message:"An order has been successfully processed and prepared for delivery.",type:"success"})},onBack:()=>{o(null),a("cases"),y.click()}}),"users"===n&&(0,Qo.hasPermission)(e.role,Qo.PERMISSION_ACTIONS.VIEW_USERS)&&(0,C.jsx)(Ci,{}),"audit-logs"===n&&(0,Qo.hasPermission)(e.role,Qo.PERMISSION_ACTIONS.AUDIT_LOGS)&&(0,C.jsx)(Wi,{}),"permissions"===n&&"admin"===e.role&&(0,C.jsx)(Yi,{}),"email-config"===n&&(0,Qo.hasPermission)(e.role,Qo.PERMISSION_ACTIONS.EMAIL_CONFIG)&&(0,C.jsx)(Xi,{}),"calendar"===n&&(0,Qo.hasPermission)(e.role,"booking-calendar")&&(0,C.jsx)(Li,{onCaseClick:e=>{f(e),a("cases"),y.click()}}),"sets"===n&&("admin"===e.role||"operation-manager"===e.role)&&(0,C.jsx)(Ai,{}),"reports"===n&&(0,Qo.hasPermission)(e.role,Qo.PERMISSION_ACTIONS.VIEW_REPORTS)&&(0,C.jsx)(Ri,{}),"codetables"===n&&(0,Qo.hasPermission)(e.role,"code-table-setup")&&(0,C.jsx)(Hi,{})]}),(0,C.jsx)("footer",{className:"app-footer",children:(0,C.jsxs)("div",{className:"footer-content",children:[(0,C.jsx)("p",{children:"\xa9 2025 Transmedic Case Booking. All rights reserved."}),(0,C.jsxs)("p",{children:["Logged in as: ",e.name," (",e.role,")"]})]})}),i&&(0,C.jsx)(zi,{user:e,onClose:()=>l(!1)}),(0,C.jsx)(Zi,{isOpen:c,onConfirm:()=>{localStorage.removeItem(h),t(null),a("booking"),o(null),d(!1),y.click(),x("Logged Out","You have been successfully logged out of the system")},onCancel:()=>{d(!1)},userName:null===e||void 0===e?void 0:e.name})]}):(0,C.jsx)(E,{onLogin:S})},pl=()=>(0,C.jsx)(pi,{children:(0,C.jsx)(Go,{children:(0,C.jsx)(gi,{children:(0,C.jsx)(ul,{})})})});s.createRoot(document.getElementById("root")).render((0,C.jsx)(r.StrictMode,{children:(0,C.jsx)(pl,{})}))})();